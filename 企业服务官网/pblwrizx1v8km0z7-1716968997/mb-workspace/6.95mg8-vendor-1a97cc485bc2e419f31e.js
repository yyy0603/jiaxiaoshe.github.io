(self.webpackChunk_mb2023_mb_workspace=self.webpackChunk_mb2023_mb_workspace||[]).push([[22],{92104:function(me,M,m){"use strict";m.d(M,{i:function(){return x}});var U="@mb2023/imock-socket",x="2.0.3"},17650:function(){"use strict";var me={}},28698:function(){"use strict";var me={}},98565:function(){"use strict";var me={}},63981:function(me,M,m){"use strict";m.d(M,{Af:function(){return d},IF:function(){return R},au:function(){return j}});var U=m(91520),x=m(69770),W=m(64555),K=m(72005),q=m(71114),H=m(88116),$=m(48121),t=m(81165),v="\uD83D\uDE31\uD83D\uDC7E",a=4,r=256,e=32*1024*1024,w=1024*1024*1024,C=function(T){return(0,t.c)(new TextEncoder().encode(JSON.stringify(T)).buffer)},_=function(T){return JSON.parse(new TextDecoder().decode((0,t.J)(T)))},s=function(){var O=(0,K.Z)((0,W.Z)().mark(function T(){var o,n,g,P,N,h;return(0,W.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,navigator.storage.estimate();case 3:return o=k.sent,n=o.quota,g=n===void 0?0:n,P=o.usage,N=P===void 0?0:P,h=(0,$.uZ)(g*.5,e,w),k.abrupt("return",{quota:g,usage:N,maxDataSize:h});case 13:k.prev=13,k.t0=k.catch(0),console.warn("#FS|estimate",k.t0);case 16:return k.abrupt("return",{maxDataSize:e});case 17:case"end":return k.stop()}},T,null,[[0,13]])}));return function(){return O.apply(this,arguments)}}(),f=function(){var O=(0,K.Z)((0,W.Z)().mark(function T(){var o,n,g,P,N,h,G,k,B,z,Y,le,ue,V,re,A,L,E,p,c,S,I,F,b;return(0,W.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s();case 2:if(o=l.sent,n=o.maxDataSize,g=new Set((0,H.hP)(-4,2).map(function(i){var u=new Date;return u.setUTCDate(u.getUTCDate()+i),""+v+(0,q.Gh)(u)})),P=0,N=[],!(typeof caches<"u")){l.next=81;break}return l.t0=x.Z,l.next=12,caches.keys();case 12:l.t1=l.sent,h=(0,l.t0)(l.t1),l.prev=14,h.s();case 16:if((G=h.n()).done){l.next=60;break}if(k=G.value,k.startsWith(v)){l.next=20;break}return l.abrupt("continue",58);case 20:if(g.has(k)){l.next=25;break}return console.log("#FS|trim outdated",k),l.next=24,caches.delete(k);case 24:return l.abrupt("continue",58);case 25:return l.next=27,caches.open(k);case 27:return B=l.sent,l.t2=x.Z,l.next=31,B.keys();case 31:l.t3=l.sent,z=(0,l.t2)(l.t3),l.prev=33,z.s();case 35:if((Y=z.n()).done){l.next=50;break}return le=Y.value,l.prev=37,l.next=40,B.match(le);case 40:ue=l.sent,V=_(ue.statusText),re=V.time,A=re===void 0?0:re,L=V.size,E=L===void 0?0:L,N.push({key:k,keyC:le,time:A,size:E}),l.next=48;break;case 45:l.prev=45,l.t4=l.catch(37),console.warn("#FS|trim",le,l.t4);case 48:l.next=35;break;case 50:l.next=55;break;case 52:l.prev=52,l.t5=l.catch(33),z.e(l.t5);case 55:return l.prev=55,z.f(),l.finish(55);case 58:l.next=16;break;case 60:l.next=65;break;case 62:l.prev=62,l.t6=l.catch(14),h.e(l.t6);case 65:return l.prev=65,h.f(),l.finish(65);case 68:N.sort(function(i,u){return u.time-i.time}),P=N.reduce(function(i,u){var D=u.size;return i+D},0);case 70:if(!((P>=n||N.length>=r)&&N.length>=a)){l.next=81;break}return p=N.pop(),c=p.key,S=p.keyC,I=p.time,F=p.size,console.log("#FS|trim size",c,S,F,new Date(I).toISOString()),l.next=75,caches.open(c);case 75:return b=l.sent,l.next=78,b.delete(S);case 78:P-=F,l.next=70;break;case 81:return l.abrupt("return",{maxDataSize:n,sizeSum:P,ciList:N});case 82:case"end":return l.stop()}},T,null,[[14,62,65,68],[33,52,55,58],[37,45]])}));return function(){return O.apply(this,arguments)}}(),j=function(){var O=(0,K.Z)((0,W.Z)().mark(function T(o,n,g){var P,N;return(0,W.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(P=(0,U.Z)((0,U.Z)({},g),{},{time:Date.now(),size:n.size}),!(typeof caches<"u")){G.next=9;break}return G.next=4,caches.open(""+v+(0,q.Gh)());case 4:return N=G.sent,G.next=7,f();case 7:return G.next=9,N.put(o,new Response(n,{statusText:C(P),headers:{"content-length":String(n.size)}}));case 9:return G.abrupt("return",P);case 10:case"end":return G.stop()}},T)}));return function(o,n,g){return O.apply(this,arguments)}}(),R=function(){var O=(0,K.Z)((0,W.Z)().mark(function T(o){var n,g,P,N,h,G,k,B;return(0,W.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(n=[],!(typeof caches<"u")){Y.next=41;break}return Y.t0=x.Z,Y.next=5,caches.keys();case 5:Y.t1=Y.sent,g=(0,Y.t0)(Y.t1),Y.prev=7,g.s();case 9:if((P=g.n()).done){Y.next=32;break}return N=P.value,Y.next=13,caches.open(N);case 13:return h=Y.sent,Y.next=16,h.match(o);case 16:if(G=Y.sent,G!==void 0){Y.next=19;break}return Y.abrupt("continue",30);case 19:return Y.prev=19,Y.next=22,G.blob();case 22:k=Y.sent,B=_(G.statusText),n.push({data:k,extra:B}),Y.next=30;break;case 27:Y.prev=27,Y.t2=Y.catch(19),console.warn("#FS|load",o,Y.t2);case 30:Y.next=9;break;case 32:Y.next=37;break;case 34:Y.prev=34,Y.t3=Y.catch(7),g.e(Y.t3);case 37:return Y.prev=37,g.f(),Y.finish(37);case 40:n.sort(function(le,ue){return ue.extra.time-le.extra.time});case 41:return Y.abrupt("return",n);case 42:case"end":return Y.stop()}},T,null,[[7,34,37,40],[19,27]])}));return function(o){return O.apply(this,arguments)}}(),d=function(){var O=(0,K.Z)((0,W.Z)().mark(function T(o,n){var g,P,N,h,G,k,B;return(0,W.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(n===void 0&&(n=Date.now()),g=0,!(typeof caches<"u")){Y.next=42;break}return Y.t0=x.Z,Y.next=6,caches.keys();case 6:Y.t1=Y.sent,P=(0,Y.t0)(Y.t1),Y.prev=8,P.s();case 10:if((N=P.n()).done){Y.next=34;break}return h=N.value,Y.next=14,caches.open(h);case 14:return G=Y.sent,Y.next=17,G.match(o);case 17:if(k=Y.sent,k!==void 0){Y.next=20;break}return Y.abrupt("continue",32);case 20:if(Y.prev=20,B=_(k.statusText),!(B.time>n)){Y.next=24;break}return Y.abrupt("continue",32);case 24:return Y.next=26,G.delete(o);case 26:g++,Y.next=32;break;case 29:Y.prev=29,Y.t2=Y.catch(20),console.warn("#FS|free",o,h,Y.t2);case 32:Y.next=10;break;case 34:Y.next=39;break;case 36:Y.prev=36,Y.t3=Y.catch(8),P.e(Y.t3);case 39:return Y.prev=39,P.f(),Y.finish(39);case 42:return Y.abrupt("return",g);case 43:case"end":return Y.stop()}},T,null,[[8,36,39,42],[20,29]])}));return function(o,n){return O.apply(this,arguments)}}()},43985:function(me,M,m){"use strict";m.d(M,{Of:function(){return v},UC:function(){return r},o7:function(){return t}});var U=m(91520),x=m(64555),W=m(72005),K=m(35517),q=m(25797),H=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){var j,R;return(0,x.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,O.next=3,(0,q.EE)("/api/accesses/v4/project/"+f+"/permission_check?permission=P:update");case 3:return j=O.sent,R=j.result,O.abrupt("return",R);case 8:return O.prev=8,O.t0=O.catch(0),O.next=12,(0,K.Vz)(O.t0);case 12:case"end":return O.stop()}},s,null,[[0,8]])}));return function(f){return _.apply(this,arguments)}}(),$=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){return(0,x.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,(0,q._Z)("/api/upper/web_v1/basics/"+f.cid,f);case 3:R.next=8;break;case 5:R.prev=5,R.t0=R.catch(0),console.warn(R.t0);case 8:case"end":return R.stop()}},s,null,[[0,5]])}));return function(f){return _.apply(this,arguments)}}(),t=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f,j){var R,d;return(0,x.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(T.prev=0,!j){T.next=7;break}return T.next=4,(0,q.EE)("/api/proto7/web_v1/project_share/"+f+"?access_token="+j);case 4:return R=T.sent,d=R.projectShare,T.abrupt("return",{projectShare:d});case 7:T.next=13;break;case 9:return T.prev=9,T.t0=T.catch(0),T.next=13,(0,K.Vz)(T.t0);case 13:case"end":return T.stop()}},s,null,[[0,9]])}));return function(f,j){return _.apply(this,arguments)}}(),v=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){var j;return(0,x.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,q.IP)("/api/proto7/web_v1/project_share/"+f.cid,{project_share:f});case 3:return j=d.sent,d.abrupt("return",j);case 7:return d.prev=7,d.t0=d.catch(0),d.next=11,(0,K.Vz)(d.t0);case 11:case"end":return d.stop()}},s,null,[[0,7]])}));return function(f){return _.apply(this,arguments)}}(),a=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){var j,R;return(0,x.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,q.EE)("/api/upper/web_v1/basics/dashboard/"+f);case 2:return j=O.sent,R=j.screen_metas,O.abrupt("return",{screenMetaList:R});case 5:case"end":return O.stop()}},s)}));return function(f){return _.apply(this,arguments)}}(),r=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){var j;return(0,x.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return j=f.projectCid,d.prev=1,d.next=4,(0,q.EE)("/api/proto7/web_v1/project_share/"+j+"/all");case 4:return d.abrupt("return",d.sent);case 7:return d.prev=7,d.t0=d.catch(1),d.next=11,(0,K.Vz)(d.t0);case 11:case"end":return d.stop()}},s,null,[[1,7]])}));return function(f){return _.apply(this,arguments)}}(),e=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){var j,R,d,O,T;return(0,x.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return j=f.projectCid,R=f.accessToken,n.prev=1,n.next=4,(0,q.EE)("/api/proto7/web_v1/project_share/"+j+"?access_token="+R);case 4:return d=n.sent,O=d.projectShare,T=d.projectBasicToken,n.abrupt("return",{sharings:O,projectBasicToken:T});case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,(0,K.Vz)(n.t0);case 14:case"end":return n.stop()}},s,null,[[1,10]])}));return function(f){return _.apply(this,arguments)}}(),w=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){var j,R;return(0,x.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return j=f.projectCid,R=f.sharing,O.prev=1,O.next=4,(0,q.Gf)("/api/proto7/web_v1/project_share/"+j,(0,U.Z)({},R));case 4:return O.abrupt("return",O.sent);case 7:return O.prev=7,O.t0=O.catch(1),O.next=11,(0,K.Vz)(O.t0);case 11:case"end":return O.stop()}},s,null,[[1,7]])}));return function(f){return _.apply(this,arguments)}}(),C=function(){var _=(0,W.Z)((0,x.Z)().mark(function s(f){var j,R;return(0,x.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return j=f.projectCid,R=f.projectShareCid,O.prev=1,O.next=4,(0,q.Bh)("/api/proto7/web_v1/project_share/"+R+"?project_cid="+j);case 4:return O.abrupt("return",O.sent);case 7:return O.prev=7,O.t0=O.catch(1),O.next=11,(0,K.Vz)(O.t0);case 11:case"end":return O.stop()}},s,null,[[1,7]])}));return function(f){return _.apply(this,arguments)}}();M.ZP={checkSharingPermission:H,updateSharingProject:$,requestProjectShare:t,updateCurrentProjectShare:v,requestProjectBasicScreenMetaList:a,deleteSharing:C,addNewSharing:w,getAllSharings:r,getAllSharingsWithoutPermissionCheck:e}},73753:function(me,M,m){"use strict";m.d(M,{i:function(){return x}});var U=m(69793),x=U.default.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-msemta-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}"],function(W){return W.theme.color_text_L2},function(W){return W.theme.color_text_disabled},function(W){return W.theme.color_background_white},function(W){return W.theme.color_text_L2},function(W){return W.theme.color_primary_proto01},function(W){return W.theme.color_primary_proto01},function(W){return W.theme.color_background_icon_hover},function(W){return W.theme.color_background_icon_active},function(W){return W.theme.color_text_disabled})},35517:function(me,M,m){"use strict";m.d(M,{KT:function(){return K},Vz:function(){return W},hW:function(){return q},v5:function(){return H}});var U=m(64555),x=m(72005),W=function(){var $=(0,x.Z)((0,U.Z)().mark(function t(v,a){var r,e,w;return(0,U.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(v.status===403||/403/.test(v.message))){_.next=6;break}return(r=MB)==null||(r=r.messageBucket)==null||r.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),_.next=4,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(function(){return a?a():MB.global.onBackButtonClick()});case 4:_.next=16;break;case 6:if(!(v.status===401||/401/.test(v.message))){_.next=12;break}return H(),_.next=10,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(function(){return a?a():MB.global.onBackButtonClick()});case 10:_.next=16;break;case 12:return w=String(v.status||v.message||"UNKNOWN").replace(/\s/g,"").slice(0,16),(e=MB)==null||(e=e.messageBucket)==null||e.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,w)}),_.next=16,MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,w),isHTML:!0});case 16:case"end":return _.stop()}},t)}));return function(v,a){return $.apply(this,arguments)}}(),K=function(t){t.status===404&&t.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},q=/^(297|715)$/.test(m.j)?null:function(){var $=(0,x.Z)((0,U.Z)().mark(function t(v,a){return(0,U.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v.status===403||/403/.test(v.message))){e.next=4;break}a(),e.next=7;break;case 4:if(!(v.status===401||/401/.test(v.message))){e.next=7;break}return e.next=7,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(function(){return MB.global.onBackButtonClick()});case 7:case"end":return e.stop()}},t)}));return function(v,a){return $.apply(this,arguments)}}(),H=function(){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")}},11230:function(me,M,m){"use strict";m.d(M,{p:function(){return U},t:function(){return x}});var U=function(K){var q=K===void 0?MB.user:K,H=q.flags;return!!(H&1<<21)},x=function(K){var q=K.user,H=K.org,$=(H==null?void 0:H.otype)==="personal"?null:H;return{currentUser:q,currentOrg:$}}},26921:function(me,M,m){"use strict";m.d(M,{Z:function(){return d}});var U=m(29442),x=m(21882),W=m(94975),K=m(56667),q=m(53485),H=m(38899),$=m(68101),t=m(20018),v=m(7485),a=m(7627),r=m.n(a),e=m(18890),w=m.n(e),C=m(91619),_=m(34595),s=m.n(_),f=m(73753),j=m(35269);function R(O,T,o){return T=(0,q.Z)(T),(0,W.Z)(O,(0,K.Z)()?Reflect.construct(T,o||[],(0,q.Z)(O).constructor):T.apply(O,o))}var d=function(O){(0,$.Z)(T,O);function T(){var o;(0,U.Z)(this,T);for(var n=arguments.length,g=new Array(n),P=0;P<n;P++)g[P]=arguments[P];return o=R(this,T,[].concat(g)),(0,t.Z)((0,H.Z)(o),"state",{prevProps:o.props,isChecked:o.props.isChecked}),(0,t.Z)((0,H.Z)(o),"onToggle",function(){var N=o.props,h=N.name,G=N.value,k=N.label,B=N.onChange,z=N.onToggle,Y=N.isDisabled,le=N.readOnly,ue=N.attr,V=o.state.isChecked,re=!Y&&!le,A=re?!V:V;o.setState({isChecked:A}),z(A,h,G||k),B(A,ue)}),o}return(0,x.Z)(T,[{key:"render",value:function(){var n=this.props,g=n.className,P=n.label,N=n.name,h=n.isDisabled,G=n.readOnly,k=this.state.isChecked,B=s()(g,{"is-checked":k,"is-disabled":h,readonly:G});return(0,j.jsxs)(f.i,{className:B,children:[(0,j.jsx)("input",{type:"checkbox",defaultChecked:k,disabled:h,name:N,onChange:this.onToggle}),(0,j.jsx)("span",{className:"Check-state",children:(0,j.jsx)(C.Z,{type:"dora",name:"check"})}),(0,j.jsx)("span",{className:"Check-label",children:P})]})}}],[{key:"getDerivedStateFromProps",value:function(n,g){var P=g.prevProps;return w()(P,n)?null:{prevProps:n,isChecked:n.isChecked}}}]),T}(v.PureComponent);(0,t.Z)(d,"propTypes",{isChecked:r().bool,isDisabled:r().bool,readOnly:r().bool,onChange:r().func.isRequired,onToggle:r().func.isRequired,label:r().any,name:r().string,attr:r().string,value:r().any,className:r().string}),(0,t.Z)(d,"defaultProps",{isChecked:!1,label:"",className:"",onChange:function(){return null},onToggle:function(){return null}})},40580:function(me,M,m){"use strict";m.d(M,{$:function(){return $}});var U=m(64555),x=m(72005),W=m(71114),K=m(35517),q=60*60*1e3,H=function(){for(var v=arguments.length,a=new Array(v),r=0;r<v;r++)a[r]=arguments[r];var e=a[0]instanceof Error&&a.shift()||new Error("DEFAULT_ERROR"),w=a.map(function(C){try{return JSON.stringify(C)}catch(_){return C.toString()}}).join("\n");console.warn("[NUKE]",w,e),window.onbeforeunload=void 0,setInterval(function(){location.reload()},5*1e3)},$=function(){var t=(0,x.Z)((0,U.Z)().mark(function v(a){return(0,U.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,K.Vz)(a);case 2:return H(a),e.next=5,(0,W.Kb)(q);case 5:case"end":return e.stop()}},v)}));return function(a){return t.apply(this,arguments)}}()},30766:function(me,M,m){"use strict";m.d(M,{Nj:function(){return $},Yo:function(){return r},m:function(){return v},mz:function(){return a}});var U=m(64555),x=m(72005),W=m(17729),K=m(78263),q=m(43980),H=m(40580),$=function(){return!window.SocketStore||window.SocketStore.getIsSocketConnected()},t=function(){var e=(0,x.Z)((0,U.Z)().mark(function w(C){var _,s,f;return(0,U.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return _=C.name,s=C.autoSaveDelay,f=C.savingState,console.error(C,"[AutoSaver|onSaverError|"+_+"]",{autoSaveDelay:s},f),R.next=4,(0,H.$)(C);case 4:case"end":return R.stop()}},w)}));return function(C){return e.apply(this,arguments)}}(),v=m.j!=96?function(){var e=(0,x.Z)((0,U.Z)().mark(function w(C,_,s){var f;return(0,U.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return f=s.type,console.error("[AutoSaver|onSaveChunkErrorAsync|"+f+"]",C,_,s),R.prev=2,R.next=5,ProjectExchange.startSOS();case 5:R.next=10;break;case 7:R.prev=7,R.t0=R.catch(2),console.warn("startSOS",R.t0);case 10:if(!(C.status&&C.status>=400&&C.status<500)){R.next=15;break}return R.next=13,(0,H.$)(C,C.status);case 13:R.next=16;break;case 15:window.SocketStore&&!SocketStore.getIsSocketConnected()&&SocketStore.recreateUserSocket();case 16:case"end":return R.stop()}},w,null,[[2,7]])}));return function(C,_,s){return e.apply(this,arguments)}}():null,a=function(){return(0,K.T)(q.uT,q.n_),(0,W.w)({onSaverError:t})};function r(){if(!$()){var e=sessionStorage.getItem("auto-save-attempt-count"),w=parseInt(e||1);(w>=10||!e)&&MB.notice&&MB.notice({text:I18N.Common.offline_alert,showClose:!0,closeCallback:function(){return sessionStorage.setItem("auto-save-attempt-count","1")},priority:1}),sessionStorage.setItem("auto-save-attempt-count",String(w+1))}}},63677:function(me,M,m){"use strict";m.d(M,{P:function(){return K}});var U=m(5904),x=m(96100),W=m(68427),K=function(H){var $=H.getSocketStore,t=(0,x.i)({getSocketStore:$});return t.__GSLDD=function(){var v=t.generateLocalDump()[0],a=(0,U.Z)(v.projectMetaDump,1),r=a[0],e=v.screenMetaDump,w=v.screenRuntimeStateDump;return{screenMetaList:e,projectScreenObjectList:w.map(function(C){return(0,W.ji)(C,r.type)}),projectMetaCid:r.cid,projectMetaType:r.type}},t}},27623:function(me,M,m){"use strict";m.d(M,{m:function(){return q}});var U=m(96208),x="/snapshot.png",W="/snapshot/task",K="/mb-workspace/images/preview/image-load.png",q=function(){var $=(0,U.y)({urlSnapshotPng:x,urlSnapshotTask:W,urlPngFallback:K});return $}},40220:function(me,M,m){"use strict";m.d(M,{w:function(){return v}});var U=m(91520),x=m(64555),W=m(72005),K=m(28451),q=m(85388),H=m(58024),$=m(35425),t=m(92741),v=function(r){var e=r.userId,w=r.uTag,C=r.getProjectExchange,_=r.onError,s=_===void 0?console.error:_,f={[K.il]:function(d){var O=d.type,T=d.payload},[K.eF]:function(d){var O=d.type,T=d.payload;T.action===K.az&&T.fromUser.id!==MB.user.id&&MB.action("versions:socket:project-version:reset",T)},[K.sB]:function(d){var O=d.type,T=d.payload;T.forEach(function(o){var n=o.action,g=o.object;MB.webpackInterface.store.dispatch({type:"entry:state:push-data",payload:{pushType:"comments",action:n,data:g}})})},[K.GI]:function(d){var O=d.type,T=d.payload;T.forEach(function(o){var n=o.action,g=o.object;MB.webpackInterface.store.dispatch({type:"entry:state:push-data",payload:{pushType:"comment-threads",action:n,data:g}})})},[K.NJ]:function(d){var O=d.type,T=d.payload},[K.yL]:function(d){var O=d.type,T=d.payload},[K.yT]:function(d){var O=d.type,T=d.payload;(0,t.y)(T)}},j={[K.eF]:function(d){var O=d.type,T=d.payload},[K.B1]:(0,W.Z)((0,x.Z)().mark(function d(O){var T,o,n,g,P,N;return(0,x.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(T=O.type,o=O.payload,n=o.jsonSaveQueue,g=n===void 0?[]:n,P=o.projectMetaCid,N=o.fromUser.id,C()){G.next=5;break}return G.abrupt("return",!1);case 5:return G.next=7,C().applySaveQueueAsync({jsonSaveQueue:g});case 7:case"end":return G.stop()}},d)})),[K.NL]:(0,W.Z)((0,x.Z)().mark(function d(O){var T,o,n,g,P,N,h;return(0,x.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(T=O.type,o=O.payload,n=o.bufferSaveQueue,g=n===void 0?[]:n,P=o.projectMetaCid,N=o.fromUser,C()){k.next=5;break}return k.abrupt("return",!1);case 5:return k.next=7,C().applySaveQueueAsync({bufferSaveQueue:g});case 7:g.length>0&&(h=g[g.length-1].localKey,MB.action&&MB.action("entry:update:coworker",{fromUser:N,screenMetaCid:h}));case 8:case"end":return k.stop()}},d)}))},R=(0,q.C)({initialSocketState:H.K,createSocketStore:ENV.IS_SKT_HTTP?function(d){return(0,H.m)((0,U.Z)((0,U.Z)({},d),{},{socketIoClientConfig:(0,$.UI)({isSocketPolling:!0})}))}:H.m,userId:e,uTag:w,socketPayloadListenerMap:f,socketPayloadQueueAsyncListenerMap:j,onError:s});return R}},51541:function(me,M,m){"use strict";if(m.d(M,{U:function(){return r},u:function(){return a}}),m.j!=96)var U=m(64555);if(m.j!=96)var x=m(72005);if(m.j!=96)var W=m(88945);if(m.j!=96)var K=m(61994);if(m.j!=96)var q=m(35517);var H=m(30766),$=m(63677),t=m(27623),v=m(40220),a=function(w,C,_){var s=(0,K.G)(location.pathname),f=(0,H.mz)(),j=(0,v.w)({userId:w,uTag:s?W.ek:W.Mh,getProjectExchange:function(){return C}});j.addEventListener("socket:error",(0,x.Z)((0,U.Z)().mark(function d(O){var T,o,n;return(0,U.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return T=O.payload,o=T.error,n=(0,K.G)(location.pathname),P.next=5,(0,q.Vz)(o,function(){var N;n?location.replace("/workspace/"+(((N=MB.currentOrg)==null?void 0:N.cid)||"me")):MB.global.onBackButtonClick()});case 5:case"end":return P.stop()}},d)}))),C=C||(0,$.P)({getSocketStore:function(){return j}}),_=_||(0,t.m)();var R=function(){var O=window.MB.user;return{id:O.id,name:O.name,avatar:O.avatar}};return f.addRailsFetchSaver({urlRailsFetchBatchSave:"/web/v3/something/something/batch_saving",onSaveChunkErrorAsync:H.m}),s?f.addDummySaver({name:"saver:project-exchange"}):f.addProjectExchangeSaver({projectExchange:C,socketStore:j,getFromUser:R,onSaveChunkErrorAsync:H.m}),{autoSaver:f,projectExchange:C,socketStore:j,snapshotStore:_}},r=function(){var w=(0,H.mz)(),C=(0,v.w)({getProjectExchange:function(){return _}}),_=(0,$.P)({getSocketStore:function(){return C}}),s=(0,t.m)();return w.addDummySaver({name:"saver:rails-fetch"}),w.addDummySaver({name:"saver:project-exchange"}),{autoSaver:w,projectExchange:_,socketStore:C,snapshotStore:s}}},92741:function(me,M,m){"use strict";m.d(M,{y:function(){return x}});var U=m(28451),x=function(K){var q=K.action;switch(q){case U.TY:{var H=K.libraryAccessList;MB.action&&MB.action("entry:update:org-library-accesses-data",{libraryAccessList:H}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-library-accesses-data",{libraryAccessList:H});break}case U.Yq:{var $=K.orgAssetList,t=K.fromUser;MB.action&&MB.action("entry:update:org:asset",{orgAssetList:$,type:"update",fromUser:t}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset",{orgAssetList:$,type:"update",fromUser:t});break}case U.EG:{var v=K.orgAssetList;MB.action&&MB.action("entry:update:org:asset",{orgAssetList:v,type:"del"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset",{orgAssetList:v,type:"del"});break}case U.G4:{var a=K.orgAssetGroupList;MB.action&&MB.action("entry:update:org:asset-group",{orgAssetGroupList:a,type:"update"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset-group",{orgAssetGroupList:a,type:"update"});break}case U.c$:{var r=K.orgAssetGroupList;MB.action&&MB.action("entry:update:org:asset-group",{orgAssetGroupList:r,type:"del"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset-group",{orgAssetGroupList:r,type:"del"});break}case U.e8:{var e=K.orgComboGroupList;MB.action&&MB.action("entry:update:org-combo-group",{orgComboGroupList:e,type:"update"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-combo-group",{orgComboGroupList:e,type:"update"});break}case U.p1:{var w=K.orgComboGroupList;MB.action&&MB.action("entry:update:org-combo-group",{orgComboGroupList:w,type:"del"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-combo-group",{orgComboGroupList:w,type:"del"});break}case U.bF:break}}},5423:function(me,M,m){"use strict";var U=m(28698),x=m(17650),W=m(98565)},25797:function(me,M,m){"use strict";m.d(M,{$I:function(){return a},Bh:function(){return r},EE:function(){return H},G:function(){return O},Gf:function(){return C},IP:function(){return R},MZ:function(){return f},Mn:function(){return w},NS:function(){return s},_E:function(){return v},_Z:function(){return j},bX:function(){return d},sE:function(){return $},xi:function(){return t}});var U=m(91520),x=m(64555),W=m(72005),K=function(o,n){var g=new Error("[NO SENTRY] "+o);return Object.assign(g,n),g},q=null,H=function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n){var g,P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{credentials:"same-origin"});case 2:return g=h.sent,h.prev=3,h.next=6,g.json();case 6:P=h.sent,h.next=12;break;case 9:h.prev=9,h.t0=h.catch(3),P={};case 12:if(g.ok){h.next=14;break}throw K("[fetchGetJSON] failed with "+g.status+": "+n,(0,U.Z)((0,U.Z)({},P),{},{status:g.status}));case 14:return h.abrupt("return",P);case 15:case"end":return h.stop()}},o,null,[[3,9]])}));return function(n){return T.apply(this,arguments)}}(),$=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n){var g,P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});case 2:return g=h.sent,h.prev=3,h.next=6,g.json();case 6:P=h.sent,h.next=12;break;case 9:h.prev=9,h.t0=h.catch(3),P={};case 12:if(g.ok){h.next=14;break}throw K("[fetchGetJSON] failed with "+g.status+": "+n,(0,U.Z)((0,U.Z)({},P),{},{status:g.status}));case 14:return h.abrupt("return",P);case 15:case"end":return h.stop()}},o,null,[[3,9]])}));return function(n){return T.apply(this,arguments)}}():null,t=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n){var g,P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{credentials:"same-origin"});case 2:if(g=h.sent,P=g.headers,g.ok){h.next=18;break}return h.t0=K,h.t1="[fetchGetJSON] failed with "+g.status+": "+n,h.t2=U.Z,h.t3=U.Z,h.t4={},h.next=12,g.json();case 12:throw h.t5=h.sent,h.t6=(0,h.t3)(h.t4,h.t5),h.t7={},h.t8={status:g.status},h.t9=(0,h.t2)(h.t6,h.t7,h.t8),(0,h.t0)(h.t1,h.t9);case 18:return h.next=20,g.json();case 20:return g=h.sent,h.abrupt("return",{result:g,headers:P});case 22:case"end":return h.stop()}},o)}));return function(n){return T.apply(this,arguments)}}():null,v=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n){var g;return(0,x.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,fetch(n,{method:"DELETE",credentials:"same-origin"});case 2:if(g=N.sent,g.ok){N.next=5;break}throw K("[fetchDeleteHead] failed with "+g.status+": "+n,{status:g.status});case 5:case"end":return N.stop()}},o)}));return function(n){return T.apply(this,arguments)}}():null,a=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n){var g;return(0,x.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,fetch(n,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});case 2:if(g=N.sent,g.ok){N.next=5;break}throw K("[fetchDeleteHead] failed with "+g.status+": "+n,{status:g.status});case 5:case"end":return N.stop()}},o)}));return function(n){return T.apply(this,arguments)}}():null,r=function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n){var g;return(0,x.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,fetch(n,{method:"DELETE",credentials:"same-origin"});case 2:if(g=N.sent,g.ok){N.next=17;break}return N.t0=K,N.t1="[fetchDeleteJSON] failed with "+g.status+": "+n,N.t2=U.Z,N.t3=U.Z,N.t4={},N.next=11,g.json();case 11:throw N.t5=N.sent,N.t6=(0,N.t3)(N.t4,N.t5),N.t7={},N.t8={status:g.status},N.t9=(0,N.t2)(N.t6,N.t7,N.t8),(0,N.t0)(N.t1,N.t9);case 17:return N.abrupt("return",g.json());case 18:case"end":return N.stop()}},o)}));return function(n){return T.apply(this,arguments)}}(),e=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){return(0,x.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",fetch(n,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(g)}));case 1:case"end":return N.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}():null,w=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,e(n,g);case 2:if(P=h.sent,P.ok){h.next=5;break}throw K("[fetchPostHead] failed with "+P.status+": "+n,{status:P.status});case 5:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}():null,C=function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(g)});case 2:if(P=h.sent,P.ok){h.next=17;break}return h.t0=K,h.t1="[fetchPostJSON] failed with "+P.status+": "+n,h.t2=U.Z,h.t3=U.Z,h.t4={},h.next=11,P.json();case 11:throw h.t5=h.sent,h.t6=(0,h.t3)(h.t4,h.t5),h.t7={},h.t8={status:P.status},h.t9=(0,h.t2)(h.t6,h.t7,h.t8),(0,h.t0)(h.t1,h.t9);case 17:return h.abrupt("return",P.json());case 18:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}(),_=null,s=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(g)});case 2:if(P=h.sent,P.ok){h.next=17;break}return h.t0=K,h.t1="[fetchPostJSON] failed with "+P.status+": "+n,h.t2=U.Z,h.t3=U.Z,h.t4={},h.next=11,P.json();case 11:throw h.t5=h.sent,h.t6=(0,h.t3)(h.t4,h.t5),h.t7={},h.t8={status:P.status},h.t9=(0,h.t2)(h.t6,h.t7,h.t8),(0,h.t0)(h.t1,h.t9);case 17:return h.abrupt("return",P.json());case 18:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}():null,f=/^(33|715)$/.test(m.j)?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:g});case 2:if(P=h.sent,P.ok){h.next=5;break}throw K("[fetchDeleteJSON] failed with "+P.status+": "+n,{url:n,status:P.status});case 5:return h.abrupt("return",P.json());case 6:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}():null,j=function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(g)});case 2:if(P=h.sent,P.ok){h.next=5;break}throw K("[fetchPutHead] failed with "+P.status+": "+n,{status:P.status});case 5:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}(),R=function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(g)});case 2:if(P=h.sent,P.ok){h.next=17;break}return h.t0=K,h.t1="[fetchPutJSON] failed with "+P.status+": "+n,h.t2=U.Z,h.t3=U.Z,h.t4={},h.next=11,P.json();case 11:throw h.t5=h.sent,h.t6=(0,h.t3)(h.t4,h.t5),h.t7={},h.t8={status:P.status},h.t9=(0,h.t2)(h.t6,h.t7,h.t8),(0,h.t0)(h.t1,h.t9);case 17:return h.abrupt("return",P.json());case 18:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}(),d=m.j!=485?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(g)});case 2:if(P=h.sent,P.ok){h.next=17;break}return h.t0=K,h.t1="[fetchPutJSON] failed with "+P.status+": "+n,h.t2=U.Z,h.t3=U.Z,h.t4={},h.next=11,P.json();case 11:throw h.t5=h.sent,h.t6=(0,h.t3)(h.t4,h.t5),h.t7={},h.t8={status:P.status},h.t9=(0,h.t2)(h.t6,h.t7,h.t8),(0,h.t0)(h.t1,h.t9);case 17:return h.abrupt("return",P.json());case 18:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}():null,O=/^(297|33)$/.test(m.j)?function(){var T=(0,W.Z)((0,x.Z)().mark(function o(n,g){var P;return(0,x.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fetch(n,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(g)});case 2:if(P=h.sent,P.ok){h.next=5;break}throw K("[fetchDeleteBodyHead] failed with "+P.status+": "+n);case 5:case"end":return h.stop()}},o)}));return function(n,g){return T.apply(this,arguments)}}():null},72725:function(me,M,m){"use strict";m.d(M,{W:function(){return d}});var U=m(1997);function x(o,n){return C(o)||W(o,n)||r(o,n)||a()}function W(o,n){var g=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(g!=null){var P,N,h,G,k=[],B=!0,z=!1;try{if(h=(g=g.call(o)).next,n===0){if(Object(g)!==g)return;B=!1}else for(;!(B=(P=h.call(g)).done)&&(k.push(P.value),k.length!==n);B=!0);}catch(Y){z=!0,N=Y}finally{try{if(!B&&g.return!=null&&(G=g.return(),Object(G)!==G))return}finally{if(z)throw N}}return k}}function K(o,n){var g=Object.keys(o);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(o);n&&(P=P.filter(function(N){return Object.getOwnPropertyDescriptor(o,N).enumerable})),g.push.apply(g,P)}return g}function q(o){for(var n=1;n<arguments.length;n++){var g=arguments[n]!=null?arguments[n]:{};n%2?K(Object(g),!0).forEach(function(P){H(o,P,g[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(g)):K(Object(g)).forEach(function(P){Object.defineProperty(o,P,Object.getOwnPropertyDescriptor(g,P))})}return o}function H(o,n,g){return n=$(n),n in o?Object.defineProperty(o,n,{value:g,enumerable:!0,configurable:!0,writable:!0}):o[n]=g,o}function $(o){var n=t(o,"string");return typeof n=="symbol"?n:String(n)}function t(o,n){if(typeof o!="object"||!o)return o;var g=o[Symbol.toPrimitive];if(g!==void 0){var P=g.call(o,n||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}function v(o){return C(o)||w(o)||r(o)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(o,n){if(o){if(typeof o=="string")return e(o,n);var g=Object.prototype.toString.call(o).slice(8,-1);if(g==="Object"&&o.constructor&&(g=o.constructor.name),g==="Map"||g==="Set")return Array.from(o);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return e(o,n)}}function e(o,n){(n==null||n>o.length)&&(n=o.length);for(var g=0,P=new Array(n);g<n;g++)P[g]=o[g];return P}function w(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function C(o){if(Array.isArray(o))return o}var _=window,s=_.XMLHttpRequest,f=_.Blob,j=_.TextDecoder,R=/[\r\n]+/,d=function(n,g){var P=g===void 0?{}:g,N=P.method,h=N===void 0?"GET":N,G=P.headers,k=P.body,B=P.timeout,z=B===void 0?0:B,Y=P.credentials,le=P.onProgressUpload,ue=P.onProgressDownload;return new Promise(function(V,re){var A=new s,L=function(p){return(0,U.sk)(Object.assign(p,{url:n,method:h}),"["+h+"|"+n+"] "+p.message)};A.onerror=function(){return re(L(new Error("NETWORK_ERROR")))},A.ontimeout=function(){return re(L(new Error("NETWORK_TIMEOUT")))},A.onreadystatechange=function(){var E=A.readyState,p=A.status;if(!(E!==2||p===0)){var c=A.getAllResponseHeaders().split(R).reduce(function(S,I){var F=I.split(":"),b=v(F),y=b[0],l=b.slice(1);return l.length&&(S[y.trim().toLowerCase()]=l.join(":").trim()),S},{});V(q({status:p,ok:p>=200&&p<300,headers:c},T(A,L)))}},le&&A.upload&&(A.upload.onprogress=O(le)),ue&&(A.onprogress=O(ue)),A.open(h,n),G&&Object.entries(G).forEach(function(E){var p=x(E,2),c=p[0],S=p[1];return A.setRequestHeader(c,S)}),A.responseType="arraybuffer",A.timeout=z||0,A.withCredentials=Y==="include",A.send(k||null)})},O=function(n){return function(g){var P=g.lengthComputable,N=g.loaded,h=g.total;n(N,P?h:1/0)}},T=function(n,g){var P;setTimeout(function(){P||(P="DROP",n.abort())});var N=function(){return new Promise(function(k,B){if(P)return B(new Error(P==="KEEP"?"PAYLOAD_ALREADY_USED":"PAYLOAD_ALREADY_DROPPED"));P="KEEP",n.onload=function(){return k(n.response)},n.onerror=function(){return B(new Error("PAYLOAD_ERROR"))},n.ontimeout=function(){return B(new Error("PAYLOAD_TIMEOUT"))}})},h=function(k){throw g(k)};return{arrayBuffer:function(){return N().catch(h)},blob:function(){return N().then(function(k){return new f([k])}).catch(h)},text:function(){return N().then(function(k){return new j().decode(k)}).catch(h)},json:function(){return N().then(function(k){return JSON.parse(new j().decode(k))}).catch(h)}}}},53705:function(me,M,m){"use strict";m.d(M,{$N:function(){return f},BV:function(){return o},HD:function(){return a},Kj:function(){return _},PH:function(){return O},U:function(){return C},eP:function(){return s},fQ:function(){return e},hj:function(){return w},i3:function(){return j},jn:function(){return r},om:function(){return n}});function U(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */U=function(){return B};var k,B={},z=Object.prototype,Y=z.hasOwnProperty,le=Object.defineProperty||function(ve,ne,we){ve[ne]=we.value},ue=typeof Symbol=="function"?Symbol:{},V=ue.iterator||"@@iterator",re=ue.asyncIterator||"@@asyncIterator",A=ue.toStringTag||"@@toStringTag";function L(ve,ne,we){return Object.defineProperty(ve,ne,{value:we,enumerable:!0,configurable:!0,writable:!0}),ve[ne]}try{L({},"")}catch(ve){L=function(we,Ee,Le){return we[Ee]=Le}}function E(ve,ne,we,Ee){var Le=ne&&ne.prototype instanceof y?ne:y,ge=Object.create(Le.prototype),oe=new de(Ee||[]);return le(ge,"_invoke",{value:Q(ve,we,oe)}),ge}function p(ve,ne,we){try{return{type:"normal",arg:ve.call(ne,we)}}catch(Ee){return{type:"throw",arg:Ee}}}B.wrap=E;var c="suspendedStart",S="suspendedYield",I="executing",F="completed",b={};function y(){}function l(){}function i(){}var u={};L(u,V,function(){return this});var D=Object.getPrototypeOf,Z=D&&D(D(Se([])));Z&&Z!==z&&Y.call(Z,V)&&(u=Z);var J=i.prototype=y.prototype=Object.create(u);function X(ve){["next","throw","return"].forEach(function(ne){L(ve,ne,function(we){return this._invoke(ne,we)})})}function ee(ve,ne){function we(Le,ge,oe,ie){var ae=p(ve[Le],ve,ge);if(ae.type!=="throw"){var se=ae.arg,fe=se.value;return fe&&typeof fe=="object"&&Y.call(fe,"__await")?ne.resolve(fe.__await).then(function(he){we("next",he,oe,ie)},function(he){we("throw",he,oe,ie)}):ne.resolve(fe).then(function(he){se.value=he,oe(se)},function(he){return we("throw",he,oe,ie)})}ie(ae.arg)}var Ee;le(this,"_invoke",{value:function(ge,oe){function ie(){return new ne(function(ae,se){we(ge,oe,ae,se)})}return Ee=Ee?Ee.then(ie,ie):ie()}})}function Q(ve,ne,we){var Ee=c;return function(Le,ge){if(Ee===I)throw new Error("Generator is already running");if(Ee===F){if(Le==="throw")throw ge;return{value:k,done:!0}}for(we.method=Le,we.arg=ge;;){var oe=we.delegate;if(oe){var ie=te(oe,we);if(ie){if(ie===b)continue;return ie}}if(we.method==="next")we.sent=we._sent=we.arg;else if(we.method==="throw"){if(Ee===c)throw Ee=F,we.arg;we.dispatchException(we.arg)}else we.method==="return"&&we.abrupt("return",we.arg);Ee=I;var ae=p(ve,ne,we);if(ae.type==="normal"){if(Ee=we.done?F:S,ae.arg===b)continue;return{value:ae.arg,done:we.done}}ae.type==="throw"&&(Ee=F,we.method="throw",we.arg=ae.arg)}}}function te(ve,ne){var we=ne.method,Ee=ve.iterator[we];if(Ee===k)return ne.delegate=null,we==="throw"&&ve.iterator.return&&(ne.method="return",ne.arg=k,te(ve,ne),ne.method==="throw")||we!=="return"&&(ne.method="throw",ne.arg=new TypeError("The iterator does not provide a '"+we+"' method")),b;var Le=p(Ee,ve.iterator,ne.arg);if(Le.type==="throw")return ne.method="throw",ne.arg=Le.arg,ne.delegate=null,b;var ge=Le.arg;return ge?ge.done?(ne[ve.resultName]=ge.value,ne.next=ve.nextLoc,ne.method!=="return"&&(ne.method="next",ne.arg=k),ne.delegate=null,b):ge:(ne.method="throw",ne.arg=new TypeError("iterator result is not an object"),ne.delegate=null,b)}function ce(ve){var ne={tryLoc:ve[0]};1 in ve&&(ne.catchLoc=ve[1]),2 in ve&&(ne.finallyLoc=ve[2],ne.afterLoc=ve[3]),this.tryEntries.push(ne)}function pe(ve){var ne=ve.completion||{};ne.type="normal",delete ne.arg,ve.completion=ne}function de(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(ce,this),this.reset(!0)}function Se(ve){if(ve||ve===""){var ne=ve[V];if(ne)return ne.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var we=-1,Ee=function Le(){for(;++we<ve.length;)if(Y.call(ve,we))return Le.value=ve[we],Le.done=!1,Le;return Le.value=k,Le.done=!0,Le};return Ee.next=Ee}}throw new TypeError(typeof ve+" is not iterable")}return l.prototype=i,le(J,"constructor",{value:i,configurable:!0}),le(i,"constructor",{value:l,configurable:!0}),l.displayName=L(i,A,"GeneratorFunction"),B.isGeneratorFunction=function(ve){var ne=typeof ve=="function"&&ve.constructor;return!!ne&&(ne===l||(ne.displayName||ne.name)==="GeneratorFunction")},B.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,i):(ve.__proto__=i,L(ve,A,"GeneratorFunction")),ve.prototype=Object.create(J),ve},B.awrap=function(ve){return{__await:ve}},X(ee.prototype),L(ee.prototype,re,function(){return this}),B.AsyncIterator=ee,B.async=function(ve,ne,we,Ee,Le){Le===void 0&&(Le=Promise);var ge=new ee(E(ve,ne,we,Ee),Le);return B.isGeneratorFunction(ne)?ge:ge.next().then(function(oe){return oe.done?oe.value:ge.next()})},X(J),L(J,A,"Generator"),L(J,V,function(){return this}),L(J,"toString",function(){return"[object Generator]"}),B.keys=function(ve){var ne=Object(ve),we=[];for(var Ee in ne)we.push(Ee);return we.reverse(),function Le(){for(;we.length;){var ge=we.pop();if(ge in ne)return Le.value=ge,Le.done=!1,Le}return Le.done=!0,Le}},B.values=Se,de.prototype={constructor:de,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=k,this.done=!1,this.delegate=null,this.method="next",this.arg=k,this.tryEntries.forEach(pe),!ne)for(var we in this)we.charAt(0)==="t"&&Y.call(this,we)&&!isNaN(+we.slice(1))&&(this[we]=k)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if(ne.type==="throw")throw ne.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var we=this;function Ee(se,fe){return oe.type="throw",oe.arg=ne,we.next=se,fe&&(we.method="next",we.arg=k),!!fe}for(var Le=this.tryEntries.length-1;Le>=0;--Le){var ge=this.tryEntries[Le],oe=ge.completion;if(ge.tryLoc==="root")return Ee("end");if(ge.tryLoc<=this.prev){var ie=Y.call(ge,"catchLoc"),ae=Y.call(ge,"finallyLoc");if(ie&&ae){if(this.prev<ge.catchLoc)return Ee(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return Ee(ge.finallyLoc)}else if(ie){if(this.prev<ge.catchLoc)return Ee(ge.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<ge.finallyLoc)return Ee(ge.finallyLoc)}}}},abrupt:function(ne,we){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Le=this.tryEntries[Ee];if(Le.tryLoc<=this.prev&&Y.call(Le,"finallyLoc")&&this.prev<Le.finallyLoc){var ge=Le;break}}ge&&(ne==="break"||ne==="continue")&&ge.tryLoc<=we&&we<=ge.finallyLoc&&(ge=null);var oe=ge?ge.completion:{};return oe.type=ne,oe.arg=we,ge?(this.method="next",this.next=ge.finallyLoc,b):this.complete(oe)},complete:function(ne,we){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&we&&(this.next=we),b},finish:function(ne){for(var we=this.tryEntries.length-1;we>=0;--we){var Ee=this.tryEntries[we];if(Ee.finallyLoc===ne)return this.complete(Ee.completion,Ee.afterLoc),pe(Ee),b}},catch:function(ne){for(var we=this.tryEntries.length-1;we>=0;--we){var Ee=this.tryEntries[we];if(Ee.tryLoc===ne){var Le=Ee.completion;if(Le.type==="throw"){var ge=Le.arg;pe(Ee)}return ge}}throw new Error("illegal catch attempt")},delegateYield:function(ne,we,Ee){return this.delegate={iterator:Se(ne),resultName:we,nextLoc:Ee},this.method==="next"&&(this.arg=k),b}},B}function x(k,B,z,Y,le,ue,V){try{var re=k[ue](V),A=re.value}catch(L){z(L);return}re.done?B(A):Promise.resolve(A).then(Y,le)}function W(k){return function(){var B=this,z=arguments;return new Promise(function(Y,le){var ue=k.apply(B,z);function V(A){x(ue,Y,le,V,re,"next",A)}function re(A){x(ue,Y,le,V,re,"throw",A)}V(void 0)})}}function K(k,B){return v(k)||t(k,B)||H(k,B)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(k,B){if(k){if(typeof k=="string")return $(k,B);var z=Object.prototype.toString.call(k).slice(8,-1);if(z==="Object"&&k.constructor&&(z=k.constructor.name),z==="Map"||z==="Set")return Array.from(k);if(z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return $(k,B)}}function $(k,B){(B==null||B>k.length)&&(B=k.length);for(var z=0,Y=new Array(B);z<B;z++)Y[z]=k[z];return Y}function t(k,B){var z=k==null?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(z!=null){var Y,le,ue,V,re=[],A=!0,L=!1;try{if(ue=(z=z.call(k)).next,B===0){if(Object(z)!==z)return;A=!1}else for(;!(A=(Y=ue.call(z)).done)&&(re.push(Y.value),re.length!==B);A=!0);}catch(E){L=!0,le=E}finally{try{if(!A&&z.return!=null&&(V=z.return(),Object(V)!==V))return}finally{if(L)throw le}}return re}}function v(k){if(Array.isArray(k))return k}var a=function(B){return typeof B=="string"},r=function(B){return typeof B=="boolean"},e=function(B){return!!B},w=function(B){return typeof B=="number"},C=Number.isInteger,_=function(B){return B instanceof RegExp},s=function(B){return B instanceof ArrayBuffer},f=function(B){var z=typeof B;return z==="object"&&B!==null||z==="function"},j=function(B){return typeof B=="object"&&B!==null&&!Array.isArray(B)},R=function(B,z){return j(B)&&Object.prototype.hasOwnProperty.call(B,z)},d=function(B,z){return j(B)&&Object.entries(z).every(function(Y){var le=K(Y,2),ue=le[0],V=le[1];return B[ue]===V})},O=Array.isArray,T=function(B,z){return O(B)&&B.length===z},o=function(B){return typeof B=="function"},n=function(B){return!!(B&&typeof B.then=="function")},g=function(B,z){return z.includes(B)},P=function(B){try{return B()&&!1}catch(z){return!0}},N=null,h=function(B,z){return Object.is(B,z)},G=function(B,z){return!!Object.is(B,z)||!(!f(B)||!f(z))&&JSON.stringify(B)===JSON.stringify(z)}},81165:function(me,M,m){"use strict";m.d(M,{J:function(){return t},c:function(){return $}});var U=[],x=[];{for(var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=0,q=W.length;K<q;++K)U[K]=W.charAt(K),x[W.charCodeAt(K)]=K;x[45]=62,x[95]=63}var H=function(a,r,e){for(var w=[];r<e;r+=3){var C=(a[r]<<16)+(a[r+1]<<8)+a[r+2];w.push(U[C>>18&63]+U[C>>12&63]+U[C>>6&63]+U[63&C])}return w.join("")},$=function(a){a===void 0&&(a=new ArrayBuffer(0));for(var r=new Uint8Array(a),e=r.length,w=e%3,C=[],_=0,s=e-w;_<s;_+=12288)C.push(H(r,_,Math.min(s,_+12288)));if(w===1){var f=r[e-1];C.push(U[f>>2&63]+U[f<<4&48]+"==")}else if(w===2){var j=(r[e-2]<<8)+r[e-1];C.push(U[j>>10&63]+U[j>>4&63]+U[j<<2&60]+"=")}return C.join("")},t=function(a){a===void 0&&(a="");var r=a.indexOf("="),e=r===-1?a.length:r;if(e%4==1)throw new Error("invalid Base64 string u6Count");for(var w=e%4,C=3*Math.floor(e/4)+(w&&(w===2?1:2)),_=new Uint8Array(C),s=0,f=e-w,j=0;s<f;s+=4,j+=3){var R=x[a.charCodeAt(s)]<<18|x[a.charCodeAt(s+1)]<<12|x[a.charCodeAt(s+2)]<<6|x[a.charCodeAt(s+3)];_[j]=R>>16&255,_[j+1]=R>>8&255,_[j+2]=255&R}if(w===2){var d=x[a.charCodeAt(e-2)]<<2|x[a.charCodeAt(e-1)]>>4;_[C-1]=255&d}else if(w===3){var O=x[a.charCodeAt(e-3)]<<10|x[a.charCodeAt(e-2)]<<4|x[a.charCodeAt(e-1)]>>2;_[C-2]=O>>8&255,_[C-1]=255&O}return _.buffer}},1997:function(me,M,m){"use strict";m.d(M,{ZD:function(){return v},sk:function(){return K}});function U(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */U=function(){return C};var w,C={},_=Object.prototype,s=_.hasOwnProperty,f=Object.defineProperty||function(F,b,y){F[b]=y.value},j=typeof Symbol=="function"?Symbol:{},R=j.iterator||"@@iterator",d=j.asyncIterator||"@@asyncIterator",O=j.toStringTag||"@@toStringTag";function T(F,b,y){return Object.defineProperty(F,b,{value:y,enumerable:!0,configurable:!0,writable:!0}),F[b]}try{T({},"")}catch(F){T=function(y,l,i){return y[l]=i}}function o(F,b,y,l){var i=b&&b.prototype instanceof k?b:k,u=Object.create(i.prototype),D=new S(l||[]);return f(u,"_invoke",{value:L(F,y,D)}),u}function n(F,b,y){try{return{type:"normal",arg:F.call(b,y)}}catch(l){return{type:"throw",arg:l}}}C.wrap=o;var g="suspendedStart",P="suspendedYield",N="executing",h="completed",G={};function k(){}function B(){}function z(){}var Y={};T(Y,R,function(){return this});var le=Object.getPrototypeOf,ue=le&&le(le(I([])));ue&&ue!==_&&s.call(ue,R)&&(Y=ue);var V=z.prototype=k.prototype=Object.create(Y);function re(F){["next","throw","return"].forEach(function(b){T(F,b,function(y){return this._invoke(b,y)})})}function A(F,b){function y(i,u,D,Z){var J=n(F[i],F,u);if(J.type!=="throw"){var X=J.arg,ee=X.value;return ee&&typeof ee=="object"&&s.call(ee,"__await")?b.resolve(ee.__await).then(function(Q){y("next",Q,D,Z)},function(Q){y("throw",Q,D,Z)}):b.resolve(ee).then(function(Q){X.value=Q,D(X)},function(Q){return y("throw",Q,D,Z)})}Z(J.arg)}var l;f(this,"_invoke",{value:function(u,D){function Z(){return new b(function(J,X){y(u,D,J,X)})}return l=l?l.then(Z,Z):Z()}})}function L(F,b,y){var l=g;return function(i,u){if(l===N)throw new Error("Generator is already running");if(l===h){if(i==="throw")throw u;return{value:w,done:!0}}for(y.method=i,y.arg=u;;){var D=y.delegate;if(D){var Z=E(D,y);if(Z){if(Z===G)continue;return Z}}if(y.method==="next")y.sent=y._sent=y.arg;else if(y.method==="throw"){if(l===g)throw l=h,y.arg;y.dispatchException(y.arg)}else y.method==="return"&&y.abrupt("return",y.arg);l=N;var J=n(F,b,y);if(J.type==="normal"){if(l=y.done?h:P,J.arg===G)continue;return{value:J.arg,done:y.done}}J.type==="throw"&&(l=h,y.method="throw",y.arg=J.arg)}}}function E(F,b){var y=b.method,l=F.iterator[y];if(l===w)return b.delegate=null,y==="throw"&&F.iterator.return&&(b.method="return",b.arg=w,E(F,b),b.method==="throw")||y!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+y+"' method")),G;var i=n(l,F.iterator,b.arg);if(i.type==="throw")return b.method="throw",b.arg=i.arg,b.delegate=null,G;var u=i.arg;return u?u.done?(b[F.resultName]=u.value,b.next=F.nextLoc,b.method!=="return"&&(b.method="next",b.arg=w),b.delegate=null,G):u:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,G)}function p(F){var b={tryLoc:F[0]};1 in F&&(b.catchLoc=F[1]),2 in F&&(b.finallyLoc=F[2],b.afterLoc=F[3]),this.tryEntries.push(b)}function c(F){var b=F.completion||{};b.type="normal",delete b.arg,F.completion=b}function S(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(p,this),this.reset(!0)}function I(F){if(F||F===""){var b=F[R];if(b)return b.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var y=-1,l=function i(){for(;++y<F.length;)if(s.call(F,y))return i.value=F[y],i.done=!1,i;return i.value=w,i.done=!0,i};return l.next=l}}throw new TypeError(typeof F+" is not iterable")}return B.prototype=z,f(V,"constructor",{value:z,configurable:!0}),f(z,"constructor",{value:B,configurable:!0}),B.displayName=T(z,O,"GeneratorFunction"),C.isGeneratorFunction=function(F){var b=typeof F=="function"&&F.constructor;return!!b&&(b===B||(b.displayName||b.name)==="GeneratorFunction")},C.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,z):(F.__proto__=z,T(F,O,"GeneratorFunction")),F.prototype=Object.create(V),F},C.awrap=function(F){return{__await:F}},re(A.prototype),T(A.prototype,d,function(){return this}),C.AsyncIterator=A,C.async=function(F,b,y,l,i){i===void 0&&(i=Promise);var u=new A(o(F,b,y,l),i);return C.isGeneratorFunction(b)?u:u.next().then(function(D){return D.done?D.value:u.next()})},re(V),T(V,O,"Generator"),T(V,R,function(){return this}),T(V,"toString",function(){return"[object Generator]"}),C.keys=function(F){var b=Object(F),y=[];for(var l in b)y.push(l);return y.reverse(),function i(){for(;y.length;){var u=y.pop();if(u in b)return i.value=u,i.done=!1,i}return i.done=!0,i}},C.values=I,S.prototype={constructor:S,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=w,this.done=!1,this.delegate=null,this.method="next",this.arg=w,this.tryEntries.forEach(c),!b)for(var y in this)y.charAt(0)==="t"&&s.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=w)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var y=this;function l(X,ee){return D.type="throw",D.arg=b,y.next=X,ee&&(y.method="next",y.arg=w),!!ee}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],D=u.completion;if(u.tryLoc==="root")return l("end");if(u.tryLoc<=this.prev){var Z=s.call(u,"catchLoc"),J=s.call(u,"finallyLoc");if(Z&&J){if(this.prev<u.catchLoc)return l(u.catchLoc,!0);if(this.prev<u.finallyLoc)return l(u.finallyLoc)}else if(Z){if(this.prev<u.catchLoc)return l(u.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return l(u.finallyLoc)}}}},abrupt:function(b,y){for(var l=this.tryEntries.length-1;l>=0;--l){var i=this.tryEntries[l];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&(b==="break"||b==="continue")&&u.tryLoc<=y&&y<=u.finallyLoc&&(u=null);var D=u?u.completion:{};return D.type=b,D.arg=y,u?(this.method="next",this.next=u.finallyLoc,G):this.complete(D)},complete:function(b,y){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&y&&(this.next=y),G},finish:function(b){for(var y=this.tryEntries.length-1;y>=0;--y){var l=this.tryEntries[y];if(l.finallyLoc===b)return this.complete(l.completion,l.afterLoc),c(l),G}},catch:function(b){for(var y=this.tryEntries.length-1;y>=0;--y){var l=this.tryEntries[y];if(l.tryLoc===b){var i=l.completion;if(i.type==="throw"){var u=i.arg;c(l)}return u}}throw new Error("illegal catch attempt")},delegateYield:function(b,y,l){return this.delegate={iterator:I(b),resultName:y,nextLoc:l},this.method==="next"&&(this.arg=w),G}},C}function x(w,C,_,s,f,j,R){try{var d=w[j](R),O=d.value}catch(T){_(T);return}d.done?C(O):Promise.resolve(O).then(s,f)}function W(w){return function(){var C=this,_=arguments;return new Promise(function(s,f){var j=w.apply(C,_);function R(O){x(j,s,f,R,d,"next",O)}function d(O){x(j,s,f,R,d,"throw",O)}R(void 0)})}}var K=function(C,_){return C.message&&C.stack&&(C.stack=C.stack.replace(C.message,_)),C.message=_,C},q=function(C){throw console.warn(C),C},H=function(C,_){try{for(var s=arguments.length,f=new Array(s>2?s-2:0),j=2;j<s;j++)f[j-2]=arguments[j];return _.apply(void 0,f)}catch(R){return C}},$=null,t=function(C){var _,s;try{for(var f=arguments.length,j=new Array(f>1?f-1:0),R=1;R<f;R++)j[R-1]=arguments[R];_=C.apply(void 0,j)}catch(d){s=d||new Error}return{result:_,error:s}},v=function(){var w=W(U().mark(function C(_){var s,f,j,R,d,O=arguments;return U().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(o.prev=0,j=O.length,R=new Array(j>1?j-1:0),d=1;d<j;d++)R[d-1]=O[d];return o.next=4,_.apply(void 0,R);case 4:s=o.sent,o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),f=o.t0||new Error;case 10:return o.abrupt("return",{result:s,error:f});case 11:case"end":return o.stop()}},C,null,[[0,7]])}));return function(_){return w.apply(this,arguments)}}(),a=function(C){return C.then(r,e)},r=function(C){return{result:C,error:void 0}},e=function(C){return{result:void 0,error:C||new Error}}},11972:function(me,M,m){"use strict";m.d(M,{yY:function(){return K}});var U=function(_){return Object.prototype.toString.call(_).slice(8,-1)},x=function(_){return JSON.stringify(_).slice(1,-1)},W=function(_,s){return _==="String"?JSON.stringify(s):_==="Object"?"{"+x(Object.keys(s))+"}":_==="Array"?s.length<=8?"["+s.map(K).join(", ")+"]":"[#"+s.length+"]":_==="RegExp"?String(s):_.endsWith("Function")?s.name||"anonymous":x(String(s))},K=function(_){var s=U(_);return"<"+s+"> "+W(s,_)},q=function(_){return(100*_).toFixed(2)+"%"},H=function(_){return String(Math.floor(_)).padStart(2,"0")},$=function(_){var s=Math.abs(_);return(_<0?"-":"")+H(s/60)+":"+H(s%60)},t=function(_){var s=.75*Math.abs(_);return s===0?"0":s<1e-9?(_/1e-12).toFixed(2)+"pico":s<1e-6?(_/1e-9).toFixed(2)+"nano":s<.001?(_/1e-6).toFixed(2)+"micro":s<1?(_/.001).toFixed(2)+"milli":s<1e3?""+(_/1).toFixed(2):s<1e6?(_/1e3).toFixed(2)+"kilo":s<1e9?(_/1e6).toFixed(2)+"mega":s<1e12?(_/1e9).toFixed(2)+"giga":s<1e15?(_/1e12).toFixed(2)+"tera":s<1e18?(_/1e15).toFixed(2)+"peta":(_/1e18).toFixed(2)+"exa"},v=function(_){var s=.75*Math.abs(_);return s<1e3?Math.floor(_)+"ms":s<6e4?(_/1e3).toFixed(2)+"s":s<36e5?(_/6e4).toFixed(2)+"m":s<864e5?(_/36e5).toFixed(2)+"h":(_/864e5).toFixed(2)+"d"},a=function(_){var s=.75*Math.abs(_);return s<1024?""+Math.floor(_):s<1048576?(_/1024).toFixed(2)+"Ki":s<1073741824?(_/1048576).toFixed(2)+"Mi":s<1099511627776?(_/1073741824).toFixed(2)+"Gi":(_/1099511627776).toFixed(2)+"Ti"},r=function(_){var s=_.table,f=_.padFuncList,j=f===void 0?[]:f,R=_.cellPad,d=R===void 0?" | ":R,O=_.rowPad,T=O===void 0?"\n":O,o=_.widthMaxList,n=o===void 0?s.reduce(function(g,P){return P.forEach(function(N,h){g[h]=Math.max(String(N).length,g[h]||0)}),g},[]):o;return s.map(function(g){return g.map(function(P,N){var h=String(P),G=j[N],k=n[N];return G&&G!=="L"?G==="R"?h.padStart(k):G(h,k):h.padEnd(k)}).join(d)}).join(T)},e=function(_,s,f){s===void 0&&(s=2),f===void 0&&(f="  ");var j=function(o,n,g,P){if(g>=1&&n){if(Array.isArray(n))return d(o,n,g,P);if(typeof n=="object")return R(o,n,g,P)}var N=JSON.stringify(n),h=N===void 0;return!h&&o.push(N),h},R=function(o,n,g,P){var N=Object.keys(n);o.push("{\n");for(var h=o.length,G=g-1,k=""+P+f,B=0,z=N.length;B<z;B++){var Y=N[B],le=n[Y],ue=o.length;o.push(""),j(o,le,G,k)?o.length--:(o[ue]=""+k+JSON.stringify(Y)+": ",o.push(",\n"))}o[o.length-1]=o.length===h?"{}":"\n"+P+"}"},d=function(o,n,g,P){o.push("[\n");for(var N=o.length,h=g-1,G=""+P+f,k=0,B=n.length;k<B;k++){var z=n[k];o.push(G),j(o,z,h,G)&&o.push("null"),o.push(",\n")}o[o.length-1]=o.length===N?"[]":"\n"+P+"]"},O=[];return j(O,_,Math.max(s,0)||0,""),O.join("")},w=function(_,s,f){if(s===void 0&&(s="  "),f===void 0&&(f=""),typeof s!="string"||s.length<2)throw new Error("invalid pad: "+String(s));var j=function(n){var g=n[n.length-1];return g===": "||g==="- "},R=function(n,g,P){var N=U(g);if(N==="Array")return O(n,g,P);if(N==="Object")return d(n,g,P);n.push(N.endsWith("Function")?N:W(N,g),"\n")},d=function(n,g,P){var N=Object.keys(g);if(N.length===0)return n.push("{}","\n");j(n)&&n.push("\n");for(var h=0,G=N.length;h<G;h++){var k=N[h],B=g[k];n.push(P,x(k),": "),R(n,B,""+P+s)}},O=function(n,g,P){if(g.length===0)return n.push("[]","\n");j(n)&&n.push("\n");for(var N=0,h=g.length;N<h;N++){var G=g[N];n.push(P,"- "),R(n,G,""+P+s)}},T=[];return R(T,_,f),T.length--,T.length===1&&T.unshift(f),T.join("")}},88116:function(me,M,m){"use strict";m.d(M,{hP:function(){return x}});var U=function(t,v){for(var a=[],r=0;r<v;r++)a.push(t(r));return a},x=function(t,v){return U(function(a){return a+t},v-t+1)},W=function(t){return U(function(v){return v/t},1+t)},K=function(t,v){return{[Symbol.iterator]:function(){var a=0;return{next:function(){return a<v?{value:t(a++),done:!1}:{value:t(a),done:!0}}}}}},q=function(t,v){return K(function(a){return a+t},v-t+1)},H=function(t){return K(function(v){return v/t},1+t)}},92029:function(me,M,m){"use strict";m.d(M,{hK:function(){return s}});var U=m(53705),x=m(11972);function W(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */W=function(){return V};var ue,V={},re=Object.prototype,A=re.hasOwnProperty,L=Object.defineProperty||function(ge,oe,ie){ge[oe]=ie.value},E=typeof Symbol=="function"?Symbol:{},p=E.iterator||"@@iterator",c=E.asyncIterator||"@@asyncIterator",S=E.toStringTag||"@@toStringTag";function I(ge,oe,ie){return Object.defineProperty(ge,oe,{value:ie,enumerable:!0,configurable:!0,writable:!0}),ge[oe]}try{I({},"")}catch(ge){I=function(ie,ae,se){return ie[ae]=se}}function F(ge,oe,ie,ae){var se=oe&&oe.prototype instanceof Z?oe:Z,fe=Object.create(se.prototype),he=new Ee(ae||[]);return L(fe,"_invoke",{value:Se(ge,ie,he)}),fe}function b(ge,oe,ie){try{return{type:"normal",arg:ge.call(oe,ie)}}catch(ae){return{type:"throw",arg:ae}}}V.wrap=F;var y="suspendedStart",l="suspendedYield",i="executing",u="completed",D={};function Z(){}function J(){}function X(){}var ee={};I(ee,p,function(){return this});var Q=Object.getPrototypeOf,te=Q&&Q(Q(Le([])));te&&te!==re&&A.call(te,p)&&(ee=te);var ce=X.prototype=Z.prototype=Object.create(ee);function pe(ge){["next","throw","return"].forEach(function(oe){I(ge,oe,function(ie){return this._invoke(oe,ie)})})}function de(ge,oe){function ie(se,fe,he,_e){var ye=b(ge[se],ge,fe);if(ye.type!=="throw"){var be=ye.arg,Oe=be.value;return Oe&&typeof Oe=="object"&&A.call(Oe,"__await")?oe.resolve(Oe.__await).then(function(Pe){ie("next",Pe,he,_e)},function(Pe){ie("throw",Pe,he,_e)}):oe.resolve(Oe).then(function(Pe){be.value=Pe,he(be)},function(Pe){return ie("throw",Pe,he,_e)})}_e(ye.arg)}var ae;L(this,"_invoke",{value:function(fe,he){function _e(){return new oe(function(ye,be){ie(fe,he,ye,be)})}return ae=ae?ae.then(_e,_e):_e()}})}function Se(ge,oe,ie){var ae=y;return function(se,fe){if(ae===i)throw new Error("Generator is already running");if(ae===u){if(se==="throw")throw fe;return{value:ue,done:!0}}for(ie.method=se,ie.arg=fe;;){var he=ie.delegate;if(he){var _e=ve(he,ie);if(_e){if(_e===D)continue;return _e}}if(ie.method==="next")ie.sent=ie._sent=ie.arg;else if(ie.method==="throw"){if(ae===y)throw ae=u,ie.arg;ie.dispatchException(ie.arg)}else ie.method==="return"&&ie.abrupt("return",ie.arg);ae=i;var ye=b(ge,oe,ie);if(ye.type==="normal"){if(ae=ie.done?u:l,ye.arg===D)continue;return{value:ye.arg,done:ie.done}}ye.type==="throw"&&(ae=u,ie.method="throw",ie.arg=ye.arg)}}}function ve(ge,oe){var ie=oe.method,ae=ge.iterator[ie];if(ae===ue)return oe.delegate=null,ie==="throw"&&ge.iterator.return&&(oe.method="return",oe.arg=ue,ve(ge,oe),oe.method==="throw")||ie!=="return"&&(oe.method="throw",oe.arg=new TypeError("The iterator does not provide a '"+ie+"' method")),D;var se=b(ae,ge.iterator,oe.arg);if(se.type==="throw")return oe.method="throw",oe.arg=se.arg,oe.delegate=null,D;var fe=se.arg;return fe?fe.done?(oe[ge.resultName]=fe.value,oe.next=ge.nextLoc,oe.method!=="return"&&(oe.method="next",oe.arg=ue),oe.delegate=null,D):fe:(oe.method="throw",oe.arg=new TypeError("iterator result is not an object"),oe.delegate=null,D)}function ne(ge){var oe={tryLoc:ge[0]};1 in ge&&(oe.catchLoc=ge[1]),2 in ge&&(oe.finallyLoc=ge[2],oe.afterLoc=ge[3]),this.tryEntries.push(oe)}function we(ge){var oe=ge.completion||{};oe.type="normal",delete oe.arg,ge.completion=oe}function Ee(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(ne,this),this.reset(!0)}function Le(ge){if(ge||ge===""){var oe=ge[p];if(oe)return oe.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var ie=-1,ae=function se(){for(;++ie<ge.length;)if(A.call(ge,ie))return se.value=ge[ie],se.done=!1,se;return se.value=ue,se.done=!0,se};return ae.next=ae}}throw new TypeError(typeof ge+" is not iterable")}return J.prototype=X,L(ce,"constructor",{value:X,configurable:!0}),L(X,"constructor",{value:J,configurable:!0}),J.displayName=I(X,S,"GeneratorFunction"),V.isGeneratorFunction=function(ge){var oe=typeof ge=="function"&&ge.constructor;return!!oe&&(oe===J||(oe.displayName||oe.name)==="GeneratorFunction")},V.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,X):(ge.__proto__=X,I(ge,S,"GeneratorFunction")),ge.prototype=Object.create(ce),ge},V.awrap=function(ge){return{__await:ge}},pe(de.prototype),I(de.prototype,c,function(){return this}),V.AsyncIterator=de,V.async=function(ge,oe,ie,ae,se){se===void 0&&(se=Promise);var fe=new de(F(ge,oe,ie,ae),se);return V.isGeneratorFunction(oe)?fe:fe.next().then(function(he){return he.done?he.value:fe.next()})},pe(ce),I(ce,S,"Generator"),I(ce,p,function(){return this}),I(ce,"toString",function(){return"[object Generator]"}),V.keys=function(ge){var oe=Object(ge),ie=[];for(var ae in oe)ie.push(ae);return ie.reverse(),function se(){for(;ie.length;){var fe=ie.pop();if(fe in oe)return se.value=fe,se.done=!1,se}return se.done=!0,se}},V.values=Le,Ee.prototype={constructor:Ee,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=ue,this.done=!1,this.delegate=null,this.method="next",this.arg=ue,this.tryEntries.forEach(we),!oe)for(var ie in this)ie.charAt(0)==="t"&&A.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=ue)},stop:function(){this.done=!0;var oe=this.tryEntries[0].completion;if(oe.type==="throw")throw oe.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var ie=this;function ae(be,Oe){return he.type="throw",he.arg=oe,ie.next=be,Oe&&(ie.method="next",ie.arg=ue),!!Oe}for(var se=this.tryEntries.length-1;se>=0;--se){var fe=this.tryEntries[se],he=fe.completion;if(fe.tryLoc==="root")return ae("end");if(fe.tryLoc<=this.prev){var _e=A.call(fe,"catchLoc"),ye=A.call(fe,"finallyLoc");if(_e&&ye){if(this.prev<fe.catchLoc)return ae(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return ae(fe.finallyLoc)}else if(_e){if(this.prev<fe.catchLoc)return ae(fe.catchLoc,!0)}else{if(!ye)throw new Error("try statement without catch or finally");if(this.prev<fe.finallyLoc)return ae(fe.finallyLoc)}}}},abrupt:function(oe,ie){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var se=this.tryEntries[ae];if(se.tryLoc<=this.prev&&A.call(se,"finallyLoc")&&this.prev<se.finallyLoc){var fe=se;break}}fe&&(oe==="break"||oe==="continue")&&fe.tryLoc<=ie&&ie<=fe.finallyLoc&&(fe=null);var he=fe?fe.completion:{};return he.type=oe,he.arg=ie,fe?(this.method="next",this.next=fe.finallyLoc,D):this.complete(he)},complete:function(oe,ie){if(oe.type==="throw")throw oe.arg;return oe.type==="break"||oe.type==="continue"?this.next=oe.arg:oe.type==="return"?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):oe.type==="normal"&&ie&&(this.next=ie),D},finish:function(oe){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var ae=this.tryEntries[ie];if(ae.finallyLoc===oe)return this.complete(ae.completion,ae.afterLoc),we(ae),D}},catch:function(oe){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var ae=this.tryEntries[ie];if(ae.tryLoc===oe){var se=ae.completion;if(se.type==="throw"){var fe=se.arg;we(ae)}return fe}}throw new Error("illegal catch attempt")},delegateYield:function(oe,ie,ae){return this.delegate={iterator:Le(oe),resultName:ie,nextLoc:ae},this.method==="next"&&(this.arg=ue),D}},V}function K(ue,V,re,A,L,E,p){try{var c=ue[E](p),S=c.value}catch(I){re(I);return}c.done?V(S):Promise.resolve(S).then(A,L)}function q(ue){return function(){var V=this,re=arguments;return new Promise(function(A,L){var E=ue.apply(V,re);function p(S){K(E,A,L,p,c,"next",S)}function c(S){K(E,A,L,p,c,"throw",S)}p(void 0)})}}var H=function(V,re,A){throw new Error("[verify|"+V+"]"+(re?" "+re+";":"")+" "+(A||""))},$=function(V,re){return function(A,L){re(A)||H(V,L,"get: "+(0,x.yY)(A))}},t=$("String",U.HD),v=$("Boolean",U.jn),a=$("Truthy",U.fQ),r=$("Number",U.hj),e=$("Integer",U.U),w=$("RegExp",U.Kj),C=$("ArrayBuffer",U.eP),_=$("ObjectAlike",U.$N),s=$("BasicObject",U.i3),f=function(V,re,A){isObjectKey(V,re)||H("ObjectKey",A,"expect to have key: "+re)},j=function(V,re,A){isObjectContain(V,re)||H("ObjectContain",A,"expect to contain: "+describe(re))},R=$("Array",U.PH),d=function(V,re,A){isArrayLength(V,re)||H("ArrayLength",A,"expect length: "+re+", get: "+(isBasicArray(V)?V.length:describe(V)))},O=$("Function",U.BV),T=$("PromiseAlike",U.om),o=function(V,re,A){isOneOf(V,re)||H("OneOf",A,"expect one of: ["+re+"], get: "+describe(V))},n=function(V,re){isFunctionThrow(V)||H("DoThrow",re)},g=function(V,re){isFunctionThrow(V)&&H("DoNotThrow",re)},P=null,N=null,h=function(V,re){return"\nactual: "+describe(V)+"\nexpect: "+describe(re)},G=function(V,re,A){isStrictEqual(V,re)||H("StrictEqual",A,h(V,re))},k=function(V,re,A){isStrictEqual(V,re)&&H("NotStrictEqual",A,h(V,re))},B=function(V,re,A){A===void 0&&(A="should stringify equal"),isStringifyEqual(V,re)||H("StringifyEqual",A,h(V,re))},z=function(V,re,A){A===void 0&&(A="should not stringify equal"),isStringifyEqual(V,re)&&H("NotStringifyEqual",A,h(V,re))},Y=function(V,re,A){V&&V.includes&&V.includes(re)||H("Includes",A,"expect "+describe(V)+" to include "+re)},le=function(V,re,A){V&&V.includes&&!V.includes(re)||H("NotIncludes",A,"expect "+describe(V)+" to not include "+re)}},91619:function(me,M,m){"use strict";var U=m(91520),x=m(67741),W=m(35269),K=m(7627),q=m.n(K),H=m(25370),$=m.n(H);function t(s){return $()(s).join(" ")}var v=[{id:"save",layer:["arrow","cloud"]},{id:"inspect",layer:["slash","bracket"]},{id:"play",layer:["arrow","circle"]},{id:"evenly_distribute_h",layer:["indicator","object"]},{id:"evenly_distribute_v",layer:["indicator","object"]},{id:"widget_align_bottom",layer:["indicator","object"]},{id:"widget_align_center",layer:["indicator","object"]},{id:"widget_align_left",layer:["indicator","object"]},{id:"widget_align_right",layer:["indicator","object"]},{id:"widget_align_top",layer:["indicator","object"]},{id:"widget_align_v_center",layer:["indicator","object"]}],a=["dora","mb","icon","fa","md","ci"],r=["dora","md"],e=function(f){return r.includes(f)};function w(s){var f=s.name,j=f===void 0?"":f,R=s.type,d=s.className,O=(0,x.Z)(s,["name","type","className"]),T=R==="mb"?"icon":R,o=j.replace(new RegExp("^(".concat(a.join("|"),")-"),"i"),""),n=e(R);return(0,W.jsx)("span",(0,U.Z)((0,U.Z)({className:t(["icon",R,!n&&"".concat(T,"-").concat(o),d])},O),{},{children:n&&o}))}w.propTypes={name:q().string.isRequired,type:q().string.isRequired,className:q().string},w.defaultProps={name:"",type:"icon"};var C={dora:"duodora"};function _(s){var f=s.name,j=s.type,R=s.className,d=s.colorList,O=(0,x.Z)(s,["name","type","className","colorList"]),T=v.find(function(o){var n=o.id;return n===f});return!!T&&(0,W.jsx)("span",(0,U.Z)((0,U.Z)({className:t(["duo-icon",C[j],R])},O),{},{children:T.layer.map(function(o,n){return(0,W.jsx)("span",{className:"layer",style:{color:d[n]},children:"".concat(f,"__").concat(o)},o)})}))}_.propTypes={name:q().string.isRequired,type:q().oneOf(Object.keys(C)),className:q().string,colorList:q().array},_.defaultProps={name:"",type:"dora",colorList:[]},w.DuoIcon=_,M.Z=w},17729:function(me,M,m){"use strict";m.d(M,{w:function(){return a}});var U=m(63828),x=m(75174),W=m(71410),K=m(41440);function q(r,e){var w=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!w){if(Array.isArray(r)||(w=H(r))||e&&r&&typeof r.length=="number"){w&&(r=w);var C=0,_=function(){};return{s:_,n:function(){return C>=r.length?{done:!0}:{done:!1,value:r[C++]}},e:function(d){throw d},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=!0,f=!1,j;return{s:function(){w=w.call(r)},n:function(){var d=w.next();return s=d.done,d},e:function(d){f=!0,j=d},f:function(){try{!s&&w.return!=null&&w.return()}finally{if(f)throw j}}}}function H(r,e){if(r){if(typeof r=="string")return $(r,e);var w=Object.prototype.toString.call(r).slice(8,-1);if(w==="Object"&&r.constructor&&(w=r.constructor.name),w==="Map"||w==="Set")return Array.from(r);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return $(r,e)}}function $(r,e){(e==null||e>r.length)&&(e=r.length);for(var w=0,C=new Array(e);w<e;w++)C[w]=r[w];return C}var t=2*1e3,v=20*1e3,a=function(e){var w=e.onSaverError,C=(0,U.hF)(),_=C.clear,s=C.addEventListener,f=C.removeEventListener,j=C.dispatchEvent,R=new Map,d=function(){var B=q(R),z;try{for(B.s();!(z=B.n()).done;){var Y=z.value;o(Y)}}catch(le){B.e(le)}finally{B.f()}_()},O=function(B){return R.get(B)},T=function(B){if(R.has(B.name))throw new Error("[addSaver] exist saver: "+B.name);R.set(B.name,B),B.startTimer()},o=function(B){if(!R.has(B.name))throw new Error("[dropSaver] no saver: "+B.name);R.delete(B.name),B.stopTimer()},n=function(){var B=q(R.values()),z;try{for(B.s();!(z=B.n()).done;){var Y=z.value;if(!Y.getState().isEmpty)return!1}}catch(le){B.e(le)}finally{B.f()}return!0},g=function(){var B={},z=q(R.values()),Y;try{for(z.s();!(Y=z.n()).done;){var le=Y.value;B[le.name]=le.getState()}}catch(ue){z.e(ue)}finally{z.f()}return B},P=function(){var B=q(R.values()),z;try{for(B.s();!(z=B.n()).done;){var Y=z.value;Y.triggerSave()}}catch(le){B.e(le)}finally{B.f()}},N=function(B){var z=B===void 0?{}:B,Y=z.name,le=Y===void 0?"saver:dummy":Y,ue=z.eventTypeBefore,V=ue===void 0?"saver:dummy:before-save":ue,re=z.eventTypeAfter,A=re===void 0?"saver:dummy:after-save":re,L=z.autoSaveDelay,E=L===void 0?t:L;return T((0,x.B)({name:le,onSaverError:w,beforeSave:function(){return j({type:V,name:le})},afterSave:function(){return j({type:A,name:le})},autoSaveDelay:E}))},h=function(B){var z=B.urlRailsFetchBatchSave,Y=B.onSaveChunkErrorAsync,le=B.name,ue=le===void 0?"saver:rails-fetch":le,V=B.eventTypeBefore,re=V===void 0?"saver:rails-fetch:before-save":V,A=B.eventTypeAfter,L=A===void 0?"saver:rails-fetch:after-save":A,E=B.autoSaveDelay,p=E===void 0?t:E;return T((0,W._)({urlRailsFetchBatchSave:z,onSaveChunkErrorAsync:Y,name:ue,onSaverError:w,beforeSave:function(){return j({type:re,name:ue})},afterSave:function(){return j({type:L,name:ue})},autoSaveDelay:p}))},G=function(B){var z=B.projectExchange,Y=B.socketStore,le=B.getFromUser,ue=B.onSaveChunkErrorAsync,V=B.name,re=V===void 0?"saver:project-exchange":V,A=B.eventTypeBefore,L=A===void 0?"saver:project-exchange:before-save":A,E=B.eventTypeAfter,p=E===void 0?"saver:project-exchange:after-save":E,c=B.autoSaveDelay,S=c===void 0?v:c;return T((0,K.Y)({projectExchange:z,socketStore:Y,getFromUser:le,onSaveChunkErrorAsync:ue,name:re,onSaverError:w,beforeSave:function(){return j({type:L,name:re})},afterSave:function(){return j({type:p,name:re})},autoSaveDelay:S}))};return{clear:d,addEventListener:s,removeEventListener:f,getSaver:O,addSaver:T,dropSaver:o,isAllEmpty:n,getAllState:g,triggerAllSave:P,addDummySaver:N,addRailsFetchSaver:h,addProjectExchangeSaver:G}}},75174:function(me,M,m){"use strict";m.d(M,{B:function(){return H}});var U=m(71114),x=m(55261);function W(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */W=function(){return t};var $,t={},v=Object.prototype,a=v.hasOwnProperty,r=Object.defineProperty||function(L,E,p){L[E]=p.value},e=typeof Symbol=="function"?Symbol:{},w=e.iterator||"@@iterator",C=e.asyncIterator||"@@asyncIterator",_=e.toStringTag||"@@toStringTag";function s(L,E,p){return Object.defineProperty(L,E,{value:p,enumerable:!0,configurable:!0,writable:!0}),L[E]}try{s({},"")}catch(L){s=function(p,c,S){return p[c]=S}}function f(L,E,p,c){var S=E&&E.prototype instanceof n?E:n,I=Object.create(S.prototype),F=new re(c||[]);return r(I,"_invoke",{value:Y(L,p,F)}),I}function j(L,E,p){try{return{type:"normal",arg:L.call(E,p)}}catch(c){return{type:"throw",arg:c}}}t.wrap=f;var R="suspendedStart",d="suspendedYield",O="executing",T="completed",o={};function n(){}function g(){}function P(){}var N={};s(N,w,function(){return this});var h=Object.getPrototypeOf,G=h&&h(h(A([])));G&&G!==v&&a.call(G,w)&&(N=G);var k=P.prototype=n.prototype=Object.create(N);function B(L){["next","throw","return"].forEach(function(E){s(L,E,function(p){return this._invoke(E,p)})})}function z(L,E){function p(S,I,F,b){var y=j(L[S],L,I);if(y.type!=="throw"){var l=y.arg,i=l.value;return i&&typeof i=="object"&&a.call(i,"__await")?E.resolve(i.__await).then(function(u){p("next",u,F,b)},function(u){p("throw",u,F,b)}):E.resolve(i).then(function(u){l.value=u,F(l)},function(u){return p("throw",u,F,b)})}b(y.arg)}var c;r(this,"_invoke",{value:function(I,F){function b(){return new E(function(y,l){p(I,F,y,l)})}return c=c?c.then(b,b):b()}})}function Y(L,E,p){var c=R;return function(S,I){if(c===O)throw new Error("Generator is already running");if(c===T){if(S==="throw")throw I;return{value:$,done:!0}}for(p.method=S,p.arg=I;;){var F=p.delegate;if(F){var b=le(F,p);if(b){if(b===o)continue;return b}}if(p.method==="next")p.sent=p._sent=p.arg;else if(p.method==="throw"){if(c===R)throw c=T,p.arg;p.dispatchException(p.arg)}else p.method==="return"&&p.abrupt("return",p.arg);c=O;var y=j(L,E,p);if(y.type==="normal"){if(c=p.done?T:d,y.arg===o)continue;return{value:y.arg,done:p.done}}y.type==="throw"&&(c=T,p.method="throw",p.arg=y.arg)}}}function le(L,E){var p=E.method,c=L.iterator[p];if(c===$)return E.delegate=null,p==="throw"&&L.iterator.return&&(E.method="return",E.arg=$,le(L,E),E.method==="throw")||p!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+p+"' method")),o;var S=j(c,L.iterator,E.arg);if(S.type==="throw")return E.method="throw",E.arg=S.arg,E.delegate=null,o;var I=S.arg;return I?I.done?(E[L.resultName]=I.value,E.next=L.nextLoc,E.method!=="return"&&(E.method="next",E.arg=$),E.delegate=null,o):I:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,o)}function ue(L){var E={tryLoc:L[0]};1 in L&&(E.catchLoc=L[1]),2 in L&&(E.finallyLoc=L[2],E.afterLoc=L[3]),this.tryEntries.push(E)}function V(L){var E=L.completion||{};E.type="normal",delete E.arg,L.completion=E}function re(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(ue,this),this.reset(!0)}function A(L){if(L||L===""){var E=L[w];if(E)return E.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var p=-1,c=function S(){for(;++p<L.length;)if(a.call(L,p))return S.value=L[p],S.done=!1,S;return S.value=$,S.done=!0,S};return c.next=c}}throw new TypeError(typeof L+" is not iterable")}return g.prototype=P,r(k,"constructor",{value:P,configurable:!0}),r(P,"constructor",{value:g,configurable:!0}),g.displayName=s(P,_,"GeneratorFunction"),t.isGeneratorFunction=function(L){var E=typeof L=="function"&&L.constructor;return!!E&&(E===g||(E.displayName||E.name)==="GeneratorFunction")},t.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,P):(L.__proto__=P,s(L,_,"GeneratorFunction")),L.prototype=Object.create(k),L},t.awrap=function(L){return{__await:L}},B(z.prototype),s(z.prototype,C,function(){return this}),t.AsyncIterator=z,t.async=function(L,E,p,c,S){S===void 0&&(S=Promise);var I=new z(f(L,E,p,c),S);return t.isGeneratorFunction(E)?I:I.next().then(function(F){return F.done?F.value:I.next()})},B(k),s(k,_,"Generator"),s(k,w,function(){return this}),s(k,"toString",function(){return"[object Generator]"}),t.keys=function(L){var E=Object(L),p=[];for(var c in E)p.push(c);return p.reverse(),function S(){for(;p.length;){var I=p.pop();if(I in E)return S.value=I,S.done=!1,S}return S.done=!0,S}},t.values=A,re.prototype={constructor:re,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(V),!E)for(var p in this)p.charAt(0)==="t"&&a.call(this,p)&&!isNaN(+p.slice(1))&&(this[p]=$)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var p=this;function c(l,i){return F.type="throw",F.arg=E,p.next=l,i&&(p.method="next",p.arg=$),!!i}for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S],F=I.completion;if(I.tryLoc==="root")return c("end");if(I.tryLoc<=this.prev){var b=a.call(I,"catchLoc"),y=a.call(I,"finallyLoc");if(b&&y){if(this.prev<I.catchLoc)return c(I.catchLoc,!0);if(this.prev<I.finallyLoc)return c(I.finallyLoc)}else if(b){if(this.prev<I.catchLoc)return c(I.catchLoc,!0)}else{if(!y)throw new Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return c(I.finallyLoc)}}}},abrupt:function(E,p){for(var c=this.tryEntries.length-1;c>=0;--c){var S=this.tryEntries[c];if(S.tryLoc<=this.prev&&a.call(S,"finallyLoc")&&this.prev<S.finallyLoc){var I=S;break}}I&&(E==="break"||E==="continue")&&I.tryLoc<=p&&p<=I.finallyLoc&&(I=null);var F=I?I.completion:{};return F.type=E,F.arg=p,I?(this.method="next",this.next=I.finallyLoc,o):this.complete(F)},complete:function(E,p){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&p&&(this.next=p),o},finish:function(E){for(var p=this.tryEntries.length-1;p>=0;--p){var c=this.tryEntries[p];if(c.finallyLoc===E)return this.complete(c.completion,c.afterLoc),V(c),o}},catch:function(E){for(var p=this.tryEntries.length-1;p>=0;--p){var c=this.tryEntries[p];if(c.tryLoc===E){var S=c.completion;if(S.type==="throw"){var I=S.arg;V(c)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(E,p,c){return this.delegate={iterator:A(E),resultName:p,nextLoc:c},this.method==="next"&&(this.arg=$),o}},t}function K($,t,v,a,r,e,w){try{var C=$[e](w),_=C.value}catch(s){v(s);return}C.done?t(_):Promise.resolve(_).then(a,r)}function q($){return function(){var t=this,v=arguments;return new Promise(function(a,r){var e=$.apply(t,v);function w(_){K(e,a,r,w,C,"next",_)}function C(_){K(e,a,r,w,C,"throw",_)}w(void 0)})}}var H=function(t){var v=t.name,a=v===void 0?"saver:dummy":v,r=t.onSaverError,e=t.beforeSave,w=t.afterSave,C=t.autoSaveDelay;console.warn("!!! using DummyAutoSaver !!!");var _=[],s=(0,x.N)({name:a,doSave:function(){var P=q(W().mark(function h(G){var k;return W().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return k=_,_=[],console.log("[Dummy|doSave] drop "+k.length+" and wait 1000ms"),G({dummy:"start",savingQueue:k}),z.next=6,(0,U.Kb)(1e3);case 6:G({dummy:"end",savingQueue:k}),console.log("[Dummy|doSave] wait end"),_.length===0&&n();case 9:case"end":return z.stop()}},h)}));function N(h){return P.apply(this,arguments)}return N}(),onSaverError:r,beforeSave:e,afterSave:w,autoSaveDelay:C}),f=s.getIsSaving,j=s.getSavingState,R=s.getSavingPromise,d=s.getIsActive,O=s.getAutoSaveDelay,T=s.setAutoSaveDelay,o=s.startTimer,n=s.stopTimer,g=s.triggerSave;return{name:a,getState:function(){return{name:a,isActive:d(),isEmpty:_.length===0&&!f(),isSaving:f(),pendingLength:_.length,savingState:j(),autoSaveDelay:O()}},getSavingPromise:R,afterCurrentSave:function(N){return R().then(N)},setAutoSaveDelay:T,startTimer:o,stopTimer:n,triggerSave:g,add:function(){for(var N=arguments.length,h=new Array(N),G=0;G<N;G++)h[G]=arguments[G];console.log("[Dummy|add]",h),_.push(h),o()}}}},41440:function(me,M,m){"use strict";m.d(M,{Y:function(){return $}});var U=m(27444),x=m(55261),W=m(48985);function K(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */K=function(){return v};var t,v={},a=Object.prototype,r=a.hasOwnProperty,e=Object.defineProperty||function(E,p,c){E[p]=c.value},w=typeof Symbol=="function"?Symbol:{},C=w.iterator||"@@iterator",_=w.asyncIterator||"@@asyncIterator",s=w.toStringTag||"@@toStringTag";function f(E,p,c){return Object.defineProperty(E,p,{value:c,enumerable:!0,configurable:!0,writable:!0}),E[p]}try{f({},"")}catch(E){f=function(c,S,I){return c[S]=I}}function j(E,p,c,S){var I=p&&p.prototype instanceof g?p:g,F=Object.create(I.prototype),b=new A(S||[]);return e(F,"_invoke",{value:le(E,c,b)}),F}function R(E,p,c){try{return{type:"normal",arg:E.call(p,c)}}catch(S){return{type:"throw",arg:S}}}v.wrap=j;var d="suspendedStart",O="suspendedYield",T="executing",o="completed",n={};function g(){}function P(){}function N(){}var h={};f(h,C,function(){return this});var G=Object.getPrototypeOf,k=G&&G(G(L([])));k&&k!==a&&r.call(k,C)&&(h=k);var B=N.prototype=g.prototype=Object.create(h);function z(E){["next","throw","return"].forEach(function(p){f(E,p,function(c){return this._invoke(p,c)})})}function Y(E,p){function c(I,F,b,y){var l=R(E[I],E,F);if(l.type!=="throw"){var i=l.arg,u=i.value;return u&&typeof u=="object"&&r.call(u,"__await")?p.resolve(u.__await).then(function(D){c("next",D,b,y)},function(D){c("throw",D,b,y)}):p.resolve(u).then(function(D){i.value=D,b(i)},function(D){return c("throw",D,b,y)})}y(l.arg)}var S;e(this,"_invoke",{value:function(F,b){function y(){return new p(function(l,i){c(F,b,l,i)})}return S=S?S.then(y,y):y()}})}function le(E,p,c){var S=d;return function(I,F){if(S===T)throw new Error("Generator is already running");if(S===o){if(I==="throw")throw F;return{value:t,done:!0}}for(c.method=I,c.arg=F;;){var b=c.delegate;if(b){var y=ue(b,c);if(y){if(y===n)continue;return y}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(S===d)throw S=o,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);S=T;var l=R(E,p,c);if(l.type==="normal"){if(S=c.done?o:O,l.arg===n)continue;return{value:l.arg,done:c.done}}l.type==="throw"&&(S=o,c.method="throw",c.arg=l.arg)}}}function ue(E,p){var c=p.method,S=E.iterator[c];if(S===t)return p.delegate=null,c==="throw"&&E.iterator.return&&(p.method="return",p.arg=t,ue(E,p),p.method==="throw")||c!=="return"&&(p.method="throw",p.arg=new TypeError("The iterator does not provide a '"+c+"' method")),n;var I=R(S,E.iterator,p.arg);if(I.type==="throw")return p.method="throw",p.arg=I.arg,p.delegate=null,n;var F=I.arg;return F?F.done?(p[E.resultName]=F.value,p.next=E.nextLoc,p.method!=="return"&&(p.method="next",p.arg=t),p.delegate=null,n):F:(p.method="throw",p.arg=new TypeError("iterator result is not an object"),p.delegate=null,n)}function V(E){var p={tryLoc:E[0]};1 in E&&(p.catchLoc=E[1]),2 in E&&(p.finallyLoc=E[2],p.afterLoc=E[3]),this.tryEntries.push(p)}function re(E){var p=E.completion||{};p.type="normal",delete p.arg,E.completion=p}function A(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(V,this),this.reset(!0)}function L(E){if(E||E===""){var p=E[C];if(p)return p.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var c=-1,S=function I(){for(;++c<E.length;)if(r.call(E,c))return I.value=E[c],I.done=!1,I;return I.value=t,I.done=!0,I};return S.next=S}}throw new TypeError(typeof E+" is not iterable")}return P.prototype=N,e(B,"constructor",{value:N,configurable:!0}),e(N,"constructor",{value:P,configurable:!0}),P.displayName=f(N,s,"GeneratorFunction"),v.isGeneratorFunction=function(E){var p=typeof E=="function"&&E.constructor;return!!p&&(p===P||(p.displayName||p.name)==="GeneratorFunction")},v.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,N):(E.__proto__=N,f(E,s,"GeneratorFunction")),E.prototype=Object.create(B),E},v.awrap=function(E){return{__await:E}},z(Y.prototype),f(Y.prototype,_,function(){return this}),v.AsyncIterator=Y,v.async=function(E,p,c,S,I){I===void 0&&(I=Promise);var F=new Y(j(E,p,c,S),I);return v.isGeneratorFunction(p)?F:F.next().then(function(b){return b.done?b.value:F.next()})},z(B),f(B,s,"Generator"),f(B,C,function(){return this}),f(B,"toString",function(){return"[object Generator]"}),v.keys=function(E){var p=Object(E),c=[];for(var S in p)c.push(S);return c.reverse(),function I(){for(;c.length;){var F=c.pop();if(F in p)return I.value=F,I.done=!1,I}return I.done=!0,I}},v.values=L,A.prototype={constructor:A,reset:function(p){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(re),!p)for(var c in this)c.charAt(0)==="t"&&r.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=t)},stop:function(){this.done=!0;var p=this.tryEntries[0].completion;if(p.type==="throw")throw p.arg;return this.rval},dispatchException:function(p){if(this.done)throw p;var c=this;function S(i,u){return b.type="throw",b.arg=p,c.next=i,u&&(c.method="next",c.arg=t),!!u}for(var I=this.tryEntries.length-1;I>=0;--I){var F=this.tryEntries[I],b=F.completion;if(F.tryLoc==="root")return S("end");if(F.tryLoc<=this.prev){var y=r.call(F,"catchLoc"),l=r.call(F,"finallyLoc");if(y&&l){if(this.prev<F.catchLoc)return S(F.catchLoc,!0);if(this.prev<F.finallyLoc)return S(F.finallyLoc)}else if(y){if(this.prev<F.catchLoc)return S(F.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return S(F.finallyLoc)}}}},abrupt:function(p,c){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc<=this.prev&&r.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var F=I;break}}F&&(p==="break"||p==="continue")&&F.tryLoc<=c&&c<=F.finallyLoc&&(F=null);var b=F?F.completion:{};return b.type=p,b.arg=c,F?(this.method="next",this.next=F.finallyLoc,n):this.complete(b)},complete:function(p,c){if(p.type==="throw")throw p.arg;return p.type==="break"||p.type==="continue"?this.next=p.arg:p.type==="return"?(this.rval=this.arg=p.arg,this.method="return",this.next="end"):p.type==="normal"&&c&&(this.next=c),n},finish:function(p){for(var c=this.tryEntries.length-1;c>=0;--c){var S=this.tryEntries[c];if(S.finallyLoc===p)return this.complete(S.completion,S.afterLoc),re(S),n}},catch:function(p){for(var c=this.tryEntries.length-1;c>=0;--c){var S=this.tryEntries[c];if(S.tryLoc===p){var I=S.completion;if(I.type==="throw"){var F=I.arg;re(S)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(p,c,S){return this.delegate={iterator:L(p),resultName:c,nextLoc:S},this.method==="next"&&(this.arg=t),n}},v}function q(t,v,a,r,e,w,C){try{var _=t[w](C),s=_.value}catch(f){a(f);return}_.done?v(s):Promise.resolve(s).then(r,e)}function H(t){return function(){var v=this,a=arguments;return new Promise(function(r,e){var w=t.apply(v,a);function C(s){q(w,r,e,C,_,"next",s)}function _(s){q(w,r,e,C,_,"throw",s)}C(void 0)})}}var $=function(v){var a=v.projectExchange,r=v.socketStore,e=v.getFromUser,w=v.onSaveChunkErrorAsync,C=v.name,_=C===void 0?"saver:project-exchange":C,s=v.onSaverError,f=v.beforeSave,j=v.afterSave,R=v.autoSaveDelay;if(!a)throw new Error("expect projectExchange");if(!r)throw new Error("expect socketStore");if(!e)throw new Error("expect getFromUser()");if(!w)throw new Error("expect onSaveChunkErrorAsync()");var d="save:socket:json-save-queue",O=(0,W.G)({type:d,saveChunkAsync:function(){var le=H(K().mark(function V(re,A){var L,E;return K().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(L=re[0].projectMetaCid,E=e(),E){c.next=4;break}throw new Error("expect fromUser");case 4:return c.next=6,r.requestProjectMetaJsonSaveQueue({jsonSaveQueue:re,projectMetaCid:L,fromUser:E});case 6:case"end":return c.stop()}},V)}));function ue(V,re){return le.apply(this,arguments)}return ue}(),onSaveChunkErrorAsync:w,describeData:function(ue){var V=ue.projectMetaCid,re=ue.data;return"["+d+"|"+V+"] size: "+(re?re.length:0)}}),T="save:socket:buffer-save-queue",o=(0,W.G)({type:T,saveChunkAsync:function(){var le=H(K().mark(function V(re,A){var L,E;return K().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(L=re[0].projectMetaCid,E=e(),E){c.next=4;break}throw new Error("expect fromUser");case 4:return c.next=6,r.requestProjectMetaBufferSaveQueue({bufferSaveQueue:re,projectMetaCid:L,fromUser:E});case 6:case"end":return c.stop()}},V)}));function ue(V,re){return le.apply(this,arguments)}return ue}(),onSaveChunkErrorAsync:w,describeData:function(ue){var V=ue.projectMetaCid,re=ue.data;return"["+T+"|"+V+"] size: "+(re?re.length:0)}}),n=(0,x.N)({name:_,doSave:function(){var le=H(K().mark(function V(re){var A,L,E,p,c,S;return K().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,a.generateSaveQueueAsync();case 2:return A=F.sent,L=A.jsonSaveQueue,E=A.bufferSaveQueue,p=A.doFreeSOS,c=A.applyServer,S=L.length+E.length,F.next=11,O({chunkList:(0,U.eO)(L,1),dataIndexMax:L.length,saveQueueLength:S,setSavingState:re});case 11:return F.next=13,o({chunkList:(0,U.eO)(E,1),dataIndexMax:E.length,saveQueueLength:S,setSavingState:re});case 13:return c(),F.next=16,p();case 16:case"end":return F.stop()}},V)}));function ue(V){return le.apply(this,arguments)}return ue}(),onSaverError:s,beforeSave:f,afterSave:j,autoSaveDelay:R}),g=n.getIsSaving,P=n.getSavingState,N=n.getSavingPromise,h=n.getIsActive,G=n.getAutoSaveDelay,k=n.setAutoSaveDelay,B=n.startTimer,z=n.stopTimer,Y=n.triggerSave;return{name:_,getState:function(){var ue=a.hasSaveQueue();return{name:_,isActive:h(),isEmpty:!ue&&!g(),isSaving:g(),pendingLength:ue?a.countSaveQueue():0,savingState:P(),autoSaveDelay:G()}},getSavingPromise:N,afterCurrentSave:function(ue){return N().then(ue)},setAutoSaveDelay:k,startTimer:B,stopTimer:z,triggerSave:Y,add:function(){throw new Error("[ProjectExchange] unexpected add")}}}},71410:function(me,M,m){"use strict";m.d(M,{_:function(){return s}});var U=m(27444),x=m(55261),W=m(48985);function K(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */K=function(){return j};var f,j={},R=Object.prototype,d=R.hasOwnProperty,O=Object.defineProperty||function(i,u,D){i[u]=D.value},T=typeof Symbol=="function"?Symbol:{},o=T.iterator||"@@iterator",n=T.asyncIterator||"@@asyncIterator",g=T.toStringTag||"@@toStringTag";function P(i,u,D){return Object.defineProperty(i,u,{value:D,enumerable:!0,configurable:!0,writable:!0}),i[u]}try{P({},"")}catch(i){P=function(D,Z,J){return D[Z]=J}}function N(i,u,D,Z){var J=u&&u.prototype instanceof le?u:le,X=Object.create(J.prototype),ee=new y(Z||[]);return O(X,"_invoke",{value:S(i,D,ee)}),X}function h(i,u,D){try{return{type:"normal",arg:i.call(u,D)}}catch(Z){return{type:"throw",arg:Z}}}j.wrap=N;var G="suspendedStart",k="suspendedYield",B="executing",z="completed",Y={};function le(){}function ue(){}function V(){}var re={};P(re,o,function(){return this});var A=Object.getPrototypeOf,L=A&&A(A(l([])));L&&L!==R&&d.call(L,o)&&(re=L);var E=V.prototype=le.prototype=Object.create(re);function p(i){["next","throw","return"].forEach(function(u){P(i,u,function(D){return this._invoke(u,D)})})}function c(i,u){function D(J,X,ee,Q){var te=h(i[J],i,X);if(te.type!=="throw"){var ce=te.arg,pe=ce.value;return pe&&typeof pe=="object"&&d.call(pe,"__await")?u.resolve(pe.__await).then(function(de){D("next",de,ee,Q)},function(de){D("throw",de,ee,Q)}):u.resolve(pe).then(function(de){ce.value=de,ee(ce)},function(de){return D("throw",de,ee,Q)})}Q(te.arg)}var Z;O(this,"_invoke",{value:function(X,ee){function Q(){return new u(function(te,ce){D(X,ee,te,ce)})}return Z=Z?Z.then(Q,Q):Q()}})}function S(i,u,D){var Z=G;return function(J,X){if(Z===B)throw new Error("Generator is already running");if(Z===z){if(J==="throw")throw X;return{value:f,done:!0}}for(D.method=J,D.arg=X;;){var ee=D.delegate;if(ee){var Q=I(ee,D);if(Q){if(Q===Y)continue;return Q}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(Z===G)throw Z=z,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);Z=B;var te=h(i,u,D);if(te.type==="normal"){if(Z=D.done?z:k,te.arg===Y)continue;return{value:te.arg,done:D.done}}te.type==="throw"&&(Z=z,D.method="throw",D.arg=te.arg)}}}function I(i,u){var D=u.method,Z=i.iterator[D];if(Z===f)return u.delegate=null,D==="throw"&&i.iterator.return&&(u.method="return",u.arg=f,I(i,u),u.method==="throw")||D!=="return"&&(u.method="throw",u.arg=new TypeError("The iterator does not provide a '"+D+"' method")),Y;var J=h(Z,i.iterator,u.arg);if(J.type==="throw")return u.method="throw",u.arg=J.arg,u.delegate=null,Y;var X=J.arg;return X?X.done?(u[i.resultName]=X.value,u.next=i.nextLoc,u.method!=="return"&&(u.method="next",u.arg=f),u.delegate=null,Y):X:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,Y)}function F(i){var u={tryLoc:i[0]};1 in i&&(u.catchLoc=i[1]),2 in i&&(u.finallyLoc=i[2],u.afterLoc=i[3]),this.tryEntries.push(u)}function b(i){var u=i.completion||{};u.type="normal",delete u.arg,i.completion=u}function y(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(F,this),this.reset(!0)}function l(i){if(i||i===""){var u=i[o];if(u)return u.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length)){var D=-1,Z=function J(){for(;++D<i.length;)if(d.call(i,D))return J.value=i[D],J.done=!1,J;return J.value=f,J.done=!0,J};return Z.next=Z}}throw new TypeError(typeof i+" is not iterable")}return ue.prototype=V,O(E,"constructor",{value:V,configurable:!0}),O(V,"constructor",{value:ue,configurable:!0}),ue.displayName=P(V,g,"GeneratorFunction"),j.isGeneratorFunction=function(i){var u=typeof i=="function"&&i.constructor;return!!u&&(u===ue||(u.displayName||u.name)==="GeneratorFunction")},j.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,V):(i.__proto__=V,P(i,g,"GeneratorFunction")),i.prototype=Object.create(E),i},j.awrap=function(i){return{__await:i}},p(c.prototype),P(c.prototype,n,function(){return this}),j.AsyncIterator=c,j.async=function(i,u,D,Z,J){J===void 0&&(J=Promise);var X=new c(N(i,u,D,Z),J);return j.isGeneratorFunction(u)?X:X.next().then(function(ee){return ee.done?ee.value:X.next()})},p(E),P(E,g,"Generator"),P(E,o,function(){return this}),P(E,"toString",function(){return"[object Generator]"}),j.keys=function(i){var u=Object(i),D=[];for(var Z in u)D.push(Z);return D.reverse(),function J(){for(;D.length;){var X=D.pop();if(X in u)return J.value=X,J.done=!1,J}return J.done=!0,J}},j.values=l,y.prototype={constructor:y,reset:function(u){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(b),!u)for(var D in this)D.charAt(0)==="t"&&d.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=f)},stop:function(){this.done=!0;var u=this.tryEntries[0].completion;if(u.type==="throw")throw u.arg;return this.rval},dispatchException:function(u){if(this.done)throw u;var D=this;function Z(ce,pe){return ee.type="throw",ee.arg=u,D.next=ce,pe&&(D.method="next",D.arg=f),!!pe}for(var J=this.tryEntries.length-1;J>=0;--J){var X=this.tryEntries[J],ee=X.completion;if(X.tryLoc==="root")return Z("end");if(X.tryLoc<=this.prev){var Q=d.call(X,"catchLoc"),te=d.call(X,"finallyLoc");if(Q&&te){if(this.prev<X.catchLoc)return Z(X.catchLoc,!0);if(this.prev<X.finallyLoc)return Z(X.finallyLoc)}else if(Q){if(this.prev<X.catchLoc)return Z(X.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return Z(X.finallyLoc)}}}},abrupt:function(u,D){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var J=this.tryEntries[Z];if(J.tryLoc<=this.prev&&d.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var X=J;break}}X&&(u==="break"||u==="continue")&&X.tryLoc<=D&&D<=X.finallyLoc&&(X=null);var ee=X?X.completion:{};return ee.type=u,ee.arg=D,X?(this.method="next",this.next=X.finallyLoc,Y):this.complete(ee)},complete:function(u,D){if(u.type==="throw")throw u.arg;return u.type==="break"||u.type==="continue"?this.next=u.arg:u.type==="return"?(this.rval=this.arg=u.arg,this.method="return",this.next="end"):u.type==="normal"&&D&&(this.next=D),Y},finish:function(u){for(var D=this.tryEntries.length-1;D>=0;--D){var Z=this.tryEntries[D];if(Z.finallyLoc===u)return this.complete(Z.completion,Z.afterLoc),b(Z),Y}},catch:function(u){for(var D=this.tryEntries.length-1;D>=0;--D){var Z=this.tryEntries[D];if(Z.tryLoc===u){var J=Z.completion;if(J.type==="throw"){var X=J.arg;b(Z)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(u,D,Z){return this.delegate={iterator:l(u),resultName:D,nextLoc:Z},this.method==="next"&&(this.arg=f),Y}},j}function q(f,j,R,d,O,T,o){try{var n=f[T](o),g=n.value}catch(P){R(P);return}n.done?j(g):Promise.resolve(g).then(d,O)}function H(f){return function(){var j=this,R=arguments;return new Promise(function(d,O){var T=f.apply(j,R);function o(g){q(T,d,O,o,n,"next",g)}function n(g){q(T,d,O,o,n,"throw",g)}o(void 0)})}}function $(f,j){return e(f)||r(f,j)||v(f,j)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(f,j){if(f){if(typeof f=="string")return a(f,j);var R=Object.prototype.toString.call(f).slice(8,-1);if(R==="Object"&&f.constructor&&(R=f.constructor.name),R==="Map"||R==="Set")return Array.from(f);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return a(f,j)}}function a(f,j){(j==null||j>f.length)&&(j=f.length);for(var R=0,d=new Array(j);R<j;R++)d[R]=f[R];return d}function r(f,j){var R=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(R!=null){var d,O,T,o,n=[],g=!0,P=!1;try{if(T=(R=R.call(f)).next,j===0){if(Object(R)!==R)return;g=!1}else for(;!(g=(d=T.call(R)).done)&&(n.push(d.value),n.length!==j);g=!0);}catch(N){P=!0,O=N}finally{try{if(!g&&R.return!=null&&(o=R.return(),Object(o)!==o))return}finally{if(P)throw O}}return n}}function e(f){if(Array.isArray(f))return f}var w=window,C=w.fetch,_=function(j){j===void 0&&(j=[]);var R={},d=[];return j.forEach(function(O){var T=$(O,3),o=T[1],n=T[2],g=o+"|"+n.cid;R[g]===void 0&&(R[g]=d.length),d[R[g]]=O}),d},s=function(j){var R=j.urlRailsFetchBatchSave,d=j.onSaveChunkErrorAsync,O=j.name,T=O===void 0?"saver:rails-fetch":O,o=j.onSaverError,n=j.beforeSave,g=j.afterSave,P=j.autoSaveDelay;if(!R)throw new Error("expect urlRailsFetchBatchSave");if(!d)throw new Error("expect onSaveChunkErrorAsync()");var N="save:rails-fetch",h=(0,W.G)({type:N,saveChunkAsync:function(){var E=H(K().mark(function c(S,I){var F,b,y;return K().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,C(R,{method:"POST",body:JSON.stringify(S),credentials:"same-origin"});case 2:if(F=i.sent,F.ok){i.next=6;break}throw b=I.attempt,y=I.timeout,Object.assign(new Error("["+N+"] status error ("+b+"/"+y+")"),{status:F.status});case 6:case"end":return i.stop()}},c)}));function p(c,S){return E.apply(this,arguments)}return p}(),onSaveChunkErrorAsync:d,describeData:function(p){var c=$(p,3),S=c[0],I=c[1],F=c[2];return"["+I+"|"+S+"] "+F.cid}}),G=[],k=(0,x.N)({name:T,doSave:function(){var E=H(K().mark(function c(S){var I,F;return K().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return I=G,G=[],F=_(I),y.next=6,h({chunkList:(0,U.eO)(F,64),dataIndexMax:F.length,setSavingState:S});case 6:G.length===0&&A();case 7:case"end":return y.stop()}},c)}));function p(c){return E.apply(this,arguments)}return p}(),onSaverError:o,beforeSave:n,afterSave:g,autoSaveDelay:P}),B=k.getIsSaving,z=k.getSavingState,Y=k.getSavingPromise,le=k.getIsActive,ue=k.getAutoSaveDelay,V=k.setAutoSaveDelay,re=k.startTimer,A=k.stopTimer,L=k.triggerSave;return{name:T,getState:function(){return{name:T,isActive:le(),isEmpty:G.length===0&&!B(),isSaving:B(),pendingLength:G.length,savingState:z(),autoSaveDelay:ue()}},getSavingPromise:Y,afterCurrentSave:function(p){return Y().then(p)},setAutoSaveDelay:V,startTimer:re,stopTimer:A,triggerSave:L,add:function(p,c,S){G.push([p,c,S]),re()}}}},55261:function(me,M,m){"use strict";m.d(M,{N:function(){return v}});var U=m(1997),x=m(71114),W=m(87587);function K(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */K=function(){return r};var a,r={},e=Object.prototype,w=e.hasOwnProperty,C=Object.defineProperty||function(c,S,I){c[S]=I.value},_=typeof Symbol=="function"?Symbol:{},s=_.iterator||"@@iterator",f=_.asyncIterator||"@@asyncIterator",j=_.toStringTag||"@@toStringTag";function R(c,S,I){return Object.defineProperty(c,S,{value:I,enumerable:!0,configurable:!0,writable:!0}),c[S]}try{R({},"")}catch(c){R=function(I,F,b){return I[F]=b}}function d(c,S,I,F){var b=S&&S.prototype instanceof N?S:N,y=Object.create(b.prototype),l=new E(F||[]);return C(y,"_invoke",{value:V(c,I,l)}),y}function O(c,S,I){try{return{type:"normal",arg:c.call(S,I)}}catch(F){return{type:"throw",arg:F}}}r.wrap=d;var T="suspendedStart",o="suspendedYield",n="executing",g="completed",P={};function N(){}function h(){}function G(){}var k={};R(k,s,function(){return this});var B=Object.getPrototypeOf,z=B&&B(B(p([])));z&&z!==e&&w.call(z,s)&&(k=z);var Y=G.prototype=N.prototype=Object.create(k);function le(c){["next","throw","return"].forEach(function(S){R(c,S,function(I){return this._invoke(S,I)})})}function ue(c,S){function I(b,y,l,i){var u=O(c[b],c,y);if(u.type!=="throw"){var D=u.arg,Z=D.value;return Z&&typeof Z=="object"&&w.call(Z,"__await")?S.resolve(Z.__await).then(function(J){I("next",J,l,i)},function(J){I("throw",J,l,i)}):S.resolve(Z).then(function(J){D.value=J,l(D)},function(J){return I("throw",J,l,i)})}i(u.arg)}var F;C(this,"_invoke",{value:function(y,l){function i(){return new S(function(u,D){I(y,l,u,D)})}return F=F?F.then(i,i):i()}})}function V(c,S,I){var F=T;return function(b,y){if(F===n)throw new Error("Generator is already running");if(F===g){if(b==="throw")throw y;return{value:a,done:!0}}for(I.method=b,I.arg=y;;){var l=I.delegate;if(l){var i=re(l,I);if(i){if(i===P)continue;return i}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(F===T)throw F=g,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);F=n;var u=O(c,S,I);if(u.type==="normal"){if(F=I.done?g:o,u.arg===P)continue;return{value:u.arg,done:I.done}}u.type==="throw"&&(F=g,I.method="throw",I.arg=u.arg)}}}function re(c,S){var I=S.method,F=c.iterator[I];if(F===a)return S.delegate=null,I==="throw"&&c.iterator.return&&(S.method="return",S.arg=a,re(c,S),S.method==="throw")||I!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+I+"' method")),P;var b=O(F,c.iterator,S.arg);if(b.type==="throw")return S.method="throw",S.arg=b.arg,S.delegate=null,P;var y=b.arg;return y?y.done?(S[c.resultName]=y.value,S.next=c.nextLoc,S.method!=="return"&&(S.method="next",S.arg=a),S.delegate=null,P):y:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,P)}function A(c){var S={tryLoc:c[0]};1 in c&&(S.catchLoc=c[1]),2 in c&&(S.finallyLoc=c[2],S.afterLoc=c[3]),this.tryEntries.push(S)}function L(c){var S=c.completion||{};S.type="normal",delete S.arg,c.completion=S}function E(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(A,this),this.reset(!0)}function p(c){if(c||c===""){var S=c[s];if(S)return S.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var I=-1,F=function b(){for(;++I<c.length;)if(w.call(c,I))return b.value=c[I],b.done=!1,b;return b.value=a,b.done=!0,b};return F.next=F}}throw new TypeError(typeof c+" is not iterable")}return h.prototype=G,C(Y,"constructor",{value:G,configurable:!0}),C(G,"constructor",{value:h,configurable:!0}),h.displayName=R(G,j,"GeneratorFunction"),r.isGeneratorFunction=function(c){var S=typeof c=="function"&&c.constructor;return!!S&&(S===h||(S.displayName||S.name)==="GeneratorFunction")},r.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,G):(c.__proto__=G,R(c,j,"GeneratorFunction")),c.prototype=Object.create(Y),c},r.awrap=function(c){return{__await:c}},le(ue.prototype),R(ue.prototype,f,function(){return this}),r.AsyncIterator=ue,r.async=function(c,S,I,F,b){b===void 0&&(b=Promise);var y=new ue(d(c,S,I,F),b);return r.isGeneratorFunction(S)?y:y.next().then(function(l){return l.done?l.value:y.next()})},le(Y),R(Y,j,"Generator"),R(Y,s,function(){return this}),R(Y,"toString",function(){return"[object Generator]"}),r.keys=function(c){var S=Object(c),I=[];for(var F in S)I.push(F);return I.reverse(),function b(){for(;I.length;){var y=I.pop();if(y in S)return b.value=y,b.done=!1,b}return b.done=!0,b}},r.values=p,E.prototype={constructor:E,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(L),!S)for(var I in this)I.charAt(0)==="t"&&w.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=a)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var I=this;function F(D,Z){return l.type="throw",l.arg=S,I.next=D,Z&&(I.method="next",I.arg=a),!!Z}for(var b=this.tryEntries.length-1;b>=0;--b){var y=this.tryEntries[b],l=y.completion;if(y.tryLoc==="root")return F("end");if(y.tryLoc<=this.prev){var i=w.call(y,"catchLoc"),u=w.call(y,"finallyLoc");if(i&&u){if(this.prev<y.catchLoc)return F(y.catchLoc,!0);if(this.prev<y.finallyLoc)return F(y.finallyLoc)}else if(i){if(this.prev<y.catchLoc)return F(y.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<y.finallyLoc)return F(y.finallyLoc)}}}},abrupt:function(S,I){for(var F=this.tryEntries.length-1;F>=0;--F){var b=this.tryEntries[F];if(b.tryLoc<=this.prev&&w.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var y=b;break}}y&&(S==="break"||S==="continue")&&y.tryLoc<=I&&I<=y.finallyLoc&&(y=null);var l=y?y.completion:{};return l.type=S,l.arg=I,y?(this.method="next",this.next=y.finallyLoc,P):this.complete(l)},complete:function(S,I){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&I&&(this.next=I),P},finish:function(S){for(var I=this.tryEntries.length-1;I>=0;--I){var F=this.tryEntries[I];if(F.finallyLoc===S)return this.complete(F.completion,F.afterLoc),L(F),P}},catch:function(S){for(var I=this.tryEntries.length-1;I>=0;--I){var F=this.tryEntries[I];if(F.tryLoc===S){var b=F.completion;if(b.type==="throw"){var y=b.arg;L(F)}return y}}throw new Error("illegal catch attempt")},delegateYield:function(S,I,F){return this.delegate={iterator:p(S),resultName:I,nextLoc:F},this.method==="next"&&(this.arg=a),P}},r}function q(a,r,e,w,C,_,s){try{var f=a[_](s),j=f.value}catch(R){e(R);return}f.done?r(j):Promise.resolve(j).then(w,C)}function H(a){return function(){var r=this,e=arguments;return new Promise(function(w,C){var _=a.apply(r,e);function s(j){q(_,w,C,s,f,"next",j)}function f(j){q(_,w,C,s,f,"throw",j)}s(void 0)})}}var $=20*1e3,t=function(){},v=function(r){var e=r.name,w=r.doSave,C=r.onSaverError,_=r.beforeSave,s=_===void 0?t:_,f=r.afterSave,j=f===void 0?t:f,R=r.autoSaveDelay,d=R===void 0?$:R,O=!1,T={},o=Promise.resolve(),n=function(le){T=le},g=function(){var Y=H(K().mark(function le(){var ue,V,re,A,L;return K().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s(e),ue=(0,W.vH)(),V=ue.promise,re=ue.resolve,o=V,O=!0,p.next=6,(0,U.ZD)(w,n);case 6:if(A=p.sent,L=A.error,L&&console.error("[Error][Saver|"+e+"]",T,L),L&&Object.assign(L,{name:e,autoSaveDelay:d,savingState:T}),O=!1,T={},!L){p.next=14;break}throw L;case 14:re(),j(e);case 16:case"end":return p.stop()}},le)}));return function(){return Y.apply(this,arguments)}}(),P=function(){!O&&g().catch(C)},N=(0,x.eF)({func:P,delay:d}),h=N.start,G=N.stop,k=N.isActive,B=N.getDelay,z=N.setDelay;return{getIsSaving:function(){return O},getSavingState:function(){return T},getSavingPromise:function(){return o},getIsActive:k,getAutoSaveDelay:B,setAutoSaveDelay:z,startTimer:h,stopTimer:G,triggerSave:P}}},48985:function(me,M,m){"use strict";m.d(M,{G:function(){return _}});var U=m(71114),x=m(87587);function W(s,f){var j=Object.keys(s);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(s);f&&(R=R.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),j.push.apply(j,R)}return j}function K(s){for(var f=1;f<arguments.length;f++){var j=arguments[f]!=null?arguments[f]:{};f%2?W(Object(j),!0).forEach(function(R){q(s,R,j[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(j)):W(Object(j)).forEach(function(R){Object.defineProperty(s,R,Object.getOwnPropertyDescriptor(j,R))})}return s}function q(s,f,j){return f=H(f),f in s?Object.defineProperty(s,f,{value:j,enumerable:!0,configurable:!0,writable:!0}):s[f]=j,s}function H(s){var f=$(s,"string");return typeof f=="symbol"?f:String(f)}function $(s,f){if(typeof s!="object"||!s)return s;var j=s[Symbol.toPrimitive];if(j!==void 0){var R=j.call(s,f||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(s)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return f};var s,f={},j=Object.prototype,R=j.hasOwnProperty,d=Object.defineProperty||function(l,i,u){l[i]=u.value},O=typeof Symbol=="function"?Symbol:{},T=O.iterator||"@@iterator",o=O.asyncIterator||"@@asyncIterator",n=O.toStringTag||"@@toStringTag";function g(l,i,u){return Object.defineProperty(l,i,{value:u,enumerable:!0,configurable:!0,writable:!0}),l[i]}try{g({},"")}catch(l){g=function(u,D,Z){return u[D]=Z}}function P(l,i,u,D){var Z=i&&i.prototype instanceof Y?i:Y,J=Object.create(Z.prototype),X=new b(D||[]);return d(J,"_invoke",{value:c(l,u,X)}),J}function N(l,i,u){try{return{type:"normal",arg:l.call(i,u)}}catch(D){return{type:"throw",arg:D}}}f.wrap=P;var h="suspendedStart",G="suspendedYield",k="executing",B="completed",z={};function Y(){}function le(){}function ue(){}var V={};g(V,T,function(){return this});var re=Object.getPrototypeOf,A=re&&re(re(y([])));A&&A!==j&&R.call(A,T)&&(V=A);var L=ue.prototype=Y.prototype=Object.create(V);function E(l){["next","throw","return"].forEach(function(i){g(l,i,function(u){return this._invoke(i,u)})})}function p(l,i){function u(Z,J,X,ee){var Q=N(l[Z],l,J);if(Q.type!=="throw"){var te=Q.arg,ce=te.value;return ce&&typeof ce=="object"&&R.call(ce,"__await")?i.resolve(ce.__await).then(function(pe){u("next",pe,X,ee)},function(pe){u("throw",pe,X,ee)}):i.resolve(ce).then(function(pe){te.value=pe,X(te)},function(pe){return u("throw",pe,X,ee)})}ee(Q.arg)}var D;d(this,"_invoke",{value:function(J,X){function ee(){return new i(function(Q,te){u(J,X,Q,te)})}return D=D?D.then(ee,ee):ee()}})}function c(l,i,u){var D=h;return function(Z,J){if(D===k)throw new Error("Generator is already running");if(D===B){if(Z==="throw")throw J;return{value:s,done:!0}}for(u.method=Z,u.arg=J;;){var X=u.delegate;if(X){var ee=S(X,u);if(ee){if(ee===z)continue;return ee}}if(u.method==="next")u.sent=u._sent=u.arg;else if(u.method==="throw"){if(D===h)throw D=B,u.arg;u.dispatchException(u.arg)}else u.method==="return"&&u.abrupt("return",u.arg);D=k;var Q=N(l,i,u);if(Q.type==="normal"){if(D=u.done?B:G,Q.arg===z)continue;return{value:Q.arg,done:u.done}}Q.type==="throw"&&(D=B,u.method="throw",u.arg=Q.arg)}}}function S(l,i){var u=i.method,D=l.iterator[u];if(D===s)return i.delegate=null,u==="throw"&&l.iterator.return&&(i.method="return",i.arg=s,S(l,i),i.method==="throw")||u!=="return"&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+u+"' method")),z;var Z=N(D,l.iterator,i.arg);if(Z.type==="throw")return i.method="throw",i.arg=Z.arg,i.delegate=null,z;var J=Z.arg;return J?J.done?(i[l.resultName]=J.value,i.next=l.nextLoc,i.method!=="return"&&(i.method="next",i.arg=s),i.delegate=null,z):J:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,z)}function I(l){var i={tryLoc:l[0]};1 in l&&(i.catchLoc=l[1]),2 in l&&(i.finallyLoc=l[2],i.afterLoc=l[3]),this.tryEntries.push(i)}function F(l){var i=l.completion||{};i.type="normal",delete i.arg,l.completion=i}function b(l){this.tryEntries=[{tryLoc:"root"}],l.forEach(I,this),this.reset(!0)}function y(l){if(l||l===""){var i=l[T];if(i)return i.call(l);if(typeof l.next=="function")return l;if(!isNaN(l.length)){var u=-1,D=function Z(){for(;++u<l.length;)if(R.call(l,u))return Z.value=l[u],Z.done=!1,Z;return Z.value=s,Z.done=!0,Z};return D.next=D}}throw new TypeError(typeof l+" is not iterable")}return le.prototype=ue,d(L,"constructor",{value:ue,configurable:!0}),d(ue,"constructor",{value:le,configurable:!0}),le.displayName=g(ue,n,"GeneratorFunction"),f.isGeneratorFunction=function(l){var i=typeof l=="function"&&l.constructor;return!!i&&(i===le||(i.displayName||i.name)==="GeneratorFunction")},f.mark=function(l){return Object.setPrototypeOf?Object.setPrototypeOf(l,ue):(l.__proto__=ue,g(l,n,"GeneratorFunction")),l.prototype=Object.create(L),l},f.awrap=function(l){return{__await:l}},E(p.prototype),g(p.prototype,o,function(){return this}),f.AsyncIterator=p,f.async=function(l,i,u,D,Z){Z===void 0&&(Z=Promise);var J=new p(P(l,i,u,D),Z);return f.isGeneratorFunction(i)?J:J.next().then(function(X){return X.done?X.value:J.next()})},E(L),g(L,n,"Generator"),g(L,T,function(){return this}),g(L,"toString",function(){return"[object Generator]"}),f.keys=function(l){var i=Object(l),u=[];for(var D in i)u.push(D);return u.reverse(),function Z(){for(;u.length;){var J=u.pop();if(J in i)return Z.value=J,Z.done=!1,Z}return Z.done=!0,Z}},f.values=y,b.prototype={constructor:b,reset:function(i){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(F),!i)for(var u in this)u.charAt(0)==="t"&&R.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=s)},stop:function(){this.done=!0;var i=this.tryEntries[0].completion;if(i.type==="throw")throw i.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var u=this;function D(te,ce){return X.type="throw",X.arg=i,u.next=te,ce&&(u.method="next",u.arg=s),!!ce}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var J=this.tryEntries[Z],X=J.completion;if(J.tryLoc==="root")return D("end");if(J.tryLoc<=this.prev){var ee=R.call(J,"catchLoc"),Q=R.call(J,"finallyLoc");if(ee&&Q){if(this.prev<J.catchLoc)return D(J.catchLoc,!0);if(this.prev<J.finallyLoc)return D(J.finallyLoc)}else if(ee){if(this.prev<J.catchLoc)return D(J.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return D(J.finallyLoc)}}}},abrupt:function(i,u){for(var D=this.tryEntries.length-1;D>=0;--D){var Z=this.tryEntries[D];if(Z.tryLoc<=this.prev&&R.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var J=Z;break}}J&&(i==="break"||i==="continue")&&J.tryLoc<=u&&u<=J.finallyLoc&&(J=null);var X=J?J.completion:{};return X.type=i,X.arg=u,J?(this.method="next",this.next=J.finallyLoc,z):this.complete(X)},complete:function(i,u){if(i.type==="throw")throw i.arg;return i.type==="break"||i.type==="continue"?this.next=i.arg:i.type==="return"?(this.rval=this.arg=i.arg,this.method="return",this.next="end"):i.type==="normal"&&u&&(this.next=u),z},finish:function(i){for(var u=this.tryEntries.length-1;u>=0;--u){var D=this.tryEntries[u];if(D.finallyLoc===i)return this.complete(D.completion,D.afterLoc),F(D),z}},catch:function(i){for(var u=this.tryEntries.length-1;u>=0;--u){var D=this.tryEntries[u];if(D.tryLoc===i){var Z=D.completion;if(Z.type==="throw"){var J=Z.arg;F(D)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(i,u,D){return this.delegate={iterator:y(i),resultName:u,nextLoc:D},this.method==="next"&&(this.arg=s),z}},f}function v(s,f,j,R,d,O,T){try{var o=s[O](T),n=o.value}catch(g){j(g);return}o.done?f(n):Promise.resolve(n).then(R,d)}function a(s){return function(){var f=this,j=arguments;return new Promise(function(R,d){var O=s.apply(f,j);function T(n){v(O,R,d,T,o,"next",n)}function o(n){v(O,R,d,T,o,"throw",n)}T(void 0)})}}var r=function(){var s=a(t().mark(function f(j){var R,d,O,T,o,n,g,P,N,h;return t().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:R=j.task,d=j.onError,O=j.timeout,T=j.wait,o=T===void 0?O:T,n=j.retry,g=n===void 0?8:n,P=0;case 2:return N=Date.now(),k.prev=4,k.next=7,(0,x._D)(R({attempt:P,timeout:O}),O);case 7:return k.abrupt("return",k.sent);case 10:if(k.prev=10,k.t0=k.catch(4),!(P>=g)){k.next=14;break}throw k.t0;case 14:if(h=o-(Date.now()-N),!(h>0)){k.next=18;break}return k.next=18,(0,U.Kb)(h);case 18:if(k.t1=d,!k.t1){k.next=22;break}return k.next=22,d(k.t0,{attempt:P,timeout:O});case 22:P++;case 23:k.next=2;break;case 25:case"end":return k.stop()}},f,null,[[4,10]])}));return function(j){return s.apply(this,arguments)}}(),e=1/0,w=60*1e3,C=5*1e3,_=function(f){var j=f.type,R=j===void 0?"save-chunk":j,d=f.saveChunkAsync,O=f.onSaveChunkErrorAsync,T=f.describeData,o=T===void 0?function(n){return JSON.stringify(n)}:T;return a(t().mark(function n(g){var P,N,h,G,k,B,z,Y,le;return t().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:P=g.chunkList,N=g.dataIndexMax,h=g.saveQueueLength,G=h===void 0?N:h,k=g.setSavingState,B=0,z=t().mark(function re(){var A,L;return t().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return A=P[Y],L={dataIndex:B,dataIndexMax:N,chunkIndex:Y,chunkIndexMax:le,chunkLength:A.length,chunkFirstData:o(A[0]),saveQueueLength:G},p.next=4,r({retry:e,timeout:w,wait:C,task:function(){var c=a(t().mark(function I(F){var b,y,l;return t().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return b=F.attempt,y=F.timeout,l=K({type:R+"-save",attempt:b,timeout:y},L),k(l),u.next=5,d(A,l);case 5:case"end":return u.stop()}},I)}));function S(I){return c.apply(this,arguments)}return S}(),onError:function(){var c=a(t().mark(function I(F,b){var y,l,i;return t().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return y=b.attempt,l=b.timeout,i=K({type:R+"-retry",error:F.stack||String(F),attempt:y,timeout:l},L),k(i),D.next=5,O(F,A,i);case 5:case"end":return D.stop()}},I)}));function S(I,F){return c.apply(this,arguments)}return S}()});case 4:B+=A.length;case 5:case"end":return p.stop()}},re)}),Y=0,le=P.length;case 4:if(!(Y<le)){V.next=9;break}return V.delegateYield(z(),"t0",6);case 6:Y++,V.next=4;break;case 9:case"end":return V.stop()}},n)}))}},96208:function(me,M,m){"use strict";m.d(M,{y:function(){return x}});var U=m(97582),x=function(K){var q=K.urlSnapshotPng,H=K.urlSnapshotTask,$=K.urlSnapshotPublic,t=K.urlPngFallback,v=K.requestDesktopSnapshot,a=K.getDesktopSnapshotPngData,r=K.getDesktopSnapshotPngZipData,e=K.getScreenMetaHtmlString,w=!1,C=function(j){var R=j.imageElement,d=j.zoomMode,O=j.cacheTag,T=j.projectMetaCid,o=j.screenMetaCid,n=j.screenStateCid;return(0,U.pY)({urlSnapshotPng:q,urlPngFallback:t,imageElement:R,zoomMode:d,cacheTag:O,projectMetaCid:T,screenMetaCid:o,screenStateCid:n})},_=function(j){var R=j.imageElement,d=j.zoomMode,O=j.projectMetaCid,T=j.screenMetaCid,o=j.screenStateCid;return(0,U.LG)({urlSnapshotPng:q,urlPngFallback:t,imageElement:R,zoomMode:d,projectMetaCid:O,screenMetaCid:T,screenStateCid:o})},s=function(j){var R=j.zoomMode,d=j.projectMetaCid,O=j.screenMetaCidList,T=j.screenMetaFolderCidList,o=j.onProgress;return(0,U.SX)({urlSnapshotTask:H,zoomMode:R,projectMetaCid:d,screenMetaCidList:O,screenMetaFolderCidList:T,onProgress:o})};return{isSnapshotPublicAvailable:w,getSnapshotPngUrl:U.eP,loadSnapshotPngAsync:C,requestSnapshotPngAsync:_,requestSnapshotPngZipAsync:s}}},85388:function(me,M,m){"use strict";m.d(M,{C:function(){return v}});var U=m(87587),x=m(80800),W=m(92239);function K(a,r){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(a);r&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),e.push.apply(e,w)}return e}function q(a){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?K(Object(e),!0).forEach(function(w){H(a,w,e[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):K(Object(e)).forEach(function(w){Object.defineProperty(a,w,Object.getOwnPropertyDescriptor(e,w))})}return a}function H(a,r,e){return r=$(r),r in a?Object.defineProperty(a,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[r]=e,a}function $(a){var r=t(a,"string");return typeof r=="symbol"?r:String(r)}function t(a,r){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var w=e.call(a,r||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(a)}var v=function(r){var e=r.initialSocketState,w=r.createSocketStore,C=r.userId,_=r.uTag,s=_===void 0?"-":_,f=r.socketUrl,j=f===void 0?window.location.origin:f,R=r.socketPayloadListenerMap,d=r.socketPayloadQueueAsyncListenerMap,O=r.onError,T=q(q(q(q({},e),x.E3),W.E3),{},{userId:C,uTag:s}),o=w({initialState:T,socketPayloadListenerMap:R,socketPayloadQueueAsyncListenerMap:d,socketUrl:j}),n=o.addEventListener,g=o.removeEventListener,P=o.destroy,N=o.recreateUserSocket,h=o.getIsSocketConnected,G=o.getSocketTimestamp,k=(0,U.vH)();n("socket:open",function(){(0,x.AS)({socketStore:o,onError:O}),(0,W.AS)({socketStore:o,onError:O}),k.resolve(),k=(0,U.vH)()});var B=Promise.resolve(void 0),z=function(){return h()?B:k.promise},Y=(0,x.lO)({socketStore:o,onError:O}),le=Y.joinProjectMeta,ue=Y.leaveProjectMeta,V=Y.requestProjectMetaJsonSaveQueue,re=Y.requestProjectMetaBufferSaveQueue,A=(0,W.lO)({socketStore:o,onError:O}),L=A.joinTeam,E=A.leaveTeam,p=A.joinOrg,c=A.leaveOrg,S=A.joinOrgLibrary,I=A.leaveOrgLibrary;return{recreateUserSocket:N,destroy:P,addEventListener:n,removeEventListener:g,getSocketTimestamp:G,getIsSocketConnected:h,getSocketConnectPromise:z,joinProjectMeta:le,leaveProjectMeta:ue,requestProjectMetaJsonSaveQueue:V,requestProjectMetaBufferSaveQueue:re,joinTeam:L,leaveTeam:E,joinOrg:p,leaveOrg:c,joinOrgLibrary:S,leaveOrgLibrary:I}}},80800:function(me,M,m){"use strict";m.d(M,{AS:function(){return K},E3:function(){return W},lO:function(){return q}});var U=m(27444),x=m(28451),W={projectMetaCidList:[]},K=function($){var t=$.socketStore,v=t.getState,a=t.sendSocketPayloadAsync,r=$.onError,e=v(),w=e.projectMetaCidList;w.length&&a(x.TZ,{projectMetaCidList:w}).catch(r)},q=function($){var t=$.socketStore,v=t.getState,a=t.setState,r=t.sendSocketPayloadAsync,e=$.onError;return{joinProjectMeta:function(){for(var C=arguments.length,_=new Array(C),s=0;s<C;s++)_[s]=arguments[s];return _=_.filter(function(f){return!v().projectMetaCidList.includes(f)}),_.length&&r(x.TZ,{projectMetaCidList:_}).then(function(f){console.log("joined projectMeta",f),a({projectMetaCidList:_.reduce(U.zd,v().projectMetaCidList)})},e)},leaveProjectMeta:function(){for(var C=arguments.length,_=new Array(C),s=0;s<C;s++)_[s]=arguments[s];return _=_.filter(function(f){return v().projectMetaCidList.includes(f)}),_.length&&r(x.j2,{projectMetaCidList:_}).then(function(f){console.log("left projectMeta",f),a({projectMetaCidList:_.reduce(U.Uv,v().projectMetaCidList)})},e)},requestProjectMetaJsonSaveQueue:function(C){var _=C.jsonSaveQueue,s=_===void 0?[]:_,f=C.projectMetaCid,j=f===void 0?"":f,R=C.fromUser,d=R===void 0?{}:R;return r(x.w5,{jsonSaveQueue:s,projectMetaCid:j,fromUser:d})},requestProjectMetaBufferSaveQueue:function(C){var _=C.bufferSaveQueue,s=_===void 0?[]:_,f=C.projectMetaCid,j=f===void 0?"":f,R=C.fromUser,d=R===void 0?{}:R;return r(x.W$,{bufferSaveQueue:s,projectMetaCid:j,fromUser:d})}}}},92239:function(me,M,m){"use strict";m.d(M,{AS:function(){return $},E3:function(){return H},lO:function(){return t}});var U=m(27444),x=m(28451);function W(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */W=function(){return a};var v,a={},r=Object.prototype,e=r.hasOwnProperty,w=Object.defineProperty||function(p,c,S){p[c]=S.value},C=typeof Symbol=="function"?Symbol:{},_=C.iterator||"@@iterator",s=C.asyncIterator||"@@asyncIterator",f=C.toStringTag||"@@toStringTag";function j(p,c,S){return Object.defineProperty(p,c,{value:S,enumerable:!0,configurable:!0,writable:!0}),p[c]}try{j({},"")}catch(p){j=function(S,I,F){return S[I]=F}}function R(p,c,S,I){var F=c&&c.prototype instanceof P?c:P,b=Object.create(F.prototype),y=new L(I||[]);return w(b,"_invoke",{value:ue(p,S,y)}),b}function d(p,c,S){try{return{type:"normal",arg:p.call(c,S)}}catch(I){return{type:"throw",arg:I}}}a.wrap=R;var O="suspendedStart",T="suspendedYield",o="executing",n="completed",g={};function P(){}function N(){}function h(){}var G={};j(G,_,function(){return this});var k=Object.getPrototypeOf,B=k&&k(k(E([])));B&&B!==r&&e.call(B,_)&&(G=B);var z=h.prototype=P.prototype=Object.create(G);function Y(p){["next","throw","return"].forEach(function(c){j(p,c,function(S){return this._invoke(c,S)})})}function le(p,c){function S(F,b,y,l){var i=d(p[F],p,b);if(i.type!=="throw"){var u=i.arg,D=u.value;return D&&typeof D=="object"&&e.call(D,"__await")?c.resolve(D.__await).then(function(Z){S("next",Z,y,l)},function(Z){S("throw",Z,y,l)}):c.resolve(D).then(function(Z){u.value=Z,y(u)},function(Z){return S("throw",Z,y,l)})}l(i.arg)}var I;w(this,"_invoke",{value:function(b,y){function l(){return new c(function(i,u){S(b,y,i,u)})}return I=I?I.then(l,l):l()}})}function ue(p,c,S){var I=O;return function(F,b){if(I===o)throw new Error("Generator is already running");if(I===n){if(F==="throw")throw b;return{value:v,done:!0}}for(S.method=F,S.arg=b;;){var y=S.delegate;if(y){var l=V(y,S);if(l){if(l===g)continue;return l}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(I===O)throw I=n,S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);I=o;var i=d(p,c,S);if(i.type==="normal"){if(I=S.done?n:T,i.arg===g)continue;return{value:i.arg,done:S.done}}i.type==="throw"&&(I=n,S.method="throw",S.arg=i.arg)}}}function V(p,c){var S=c.method,I=p.iterator[S];if(I===v)return c.delegate=null,S==="throw"&&p.iterator.return&&(c.method="return",c.arg=v,V(p,c),c.method==="throw")||S!=="return"&&(c.method="throw",c.arg=new TypeError("The iterator does not provide a '"+S+"' method")),g;var F=d(I,p.iterator,c.arg);if(F.type==="throw")return c.method="throw",c.arg=F.arg,c.delegate=null,g;var b=F.arg;return b?b.done?(c[p.resultName]=b.value,c.next=p.nextLoc,c.method!=="return"&&(c.method="next",c.arg=v),c.delegate=null,g):b:(c.method="throw",c.arg=new TypeError("iterator result is not an object"),c.delegate=null,g)}function re(p){var c={tryLoc:p[0]};1 in p&&(c.catchLoc=p[1]),2 in p&&(c.finallyLoc=p[2],c.afterLoc=p[3]),this.tryEntries.push(c)}function A(p){var c=p.completion||{};c.type="normal",delete c.arg,p.completion=c}function L(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(re,this),this.reset(!0)}function E(p){if(p||p===""){var c=p[_];if(c)return c.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var S=-1,I=function F(){for(;++S<p.length;)if(e.call(p,S))return F.value=p[S],F.done=!1,F;return F.value=v,F.done=!0,F};return I.next=I}}throw new TypeError(typeof p+" is not iterable")}return N.prototype=h,w(z,"constructor",{value:h,configurable:!0}),w(h,"constructor",{value:N,configurable:!0}),N.displayName=j(h,f,"GeneratorFunction"),a.isGeneratorFunction=function(p){var c=typeof p=="function"&&p.constructor;return!!c&&(c===N||(c.displayName||c.name)==="GeneratorFunction")},a.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,h):(p.__proto__=h,j(p,f,"GeneratorFunction")),p.prototype=Object.create(z),p},a.awrap=function(p){return{__await:p}},Y(le.prototype),j(le.prototype,s,function(){return this}),a.AsyncIterator=le,a.async=function(p,c,S,I,F){F===void 0&&(F=Promise);var b=new le(R(p,c,S,I),F);return a.isGeneratorFunction(c)?b:b.next().then(function(y){return y.done?y.value:b.next()})},Y(z),j(z,f,"Generator"),j(z,_,function(){return this}),j(z,"toString",function(){return"[object Generator]"}),a.keys=function(p){var c=Object(p),S=[];for(var I in c)S.push(I);return S.reverse(),function F(){for(;S.length;){var b=S.pop();if(b in c)return F.value=b,F.done=!1,F}return F.done=!0,F}},a.values=E,L.prototype={constructor:L,reset:function(c){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(A),!c)for(var S in this)S.charAt(0)==="t"&&e.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=v)},stop:function(){this.done=!0;var c=this.tryEntries[0].completion;if(c.type==="throw")throw c.arg;return this.rval},dispatchException:function(c){if(this.done)throw c;var S=this;function I(u,D){return y.type="throw",y.arg=c,S.next=u,D&&(S.method="next",S.arg=v),!!D}for(var F=this.tryEntries.length-1;F>=0;--F){var b=this.tryEntries[F],y=b.completion;if(b.tryLoc==="root")return I("end");if(b.tryLoc<=this.prev){var l=e.call(b,"catchLoc"),i=e.call(b,"finallyLoc");if(l&&i){if(this.prev<b.catchLoc)return I(b.catchLoc,!0);if(this.prev<b.finallyLoc)return I(b.finallyLoc)}else if(l){if(this.prev<b.catchLoc)return I(b.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return I(b.finallyLoc)}}}},abrupt:function(c,S){for(var I=this.tryEntries.length-1;I>=0;--I){var F=this.tryEntries[I];if(F.tryLoc<=this.prev&&e.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var b=F;break}}b&&(c==="break"||c==="continue")&&b.tryLoc<=S&&S<=b.finallyLoc&&(b=null);var y=b?b.completion:{};return y.type=c,y.arg=S,b?(this.method="next",this.next=b.finallyLoc,g):this.complete(y)},complete:function(c,S){if(c.type==="throw")throw c.arg;return c.type==="break"||c.type==="continue"?this.next=c.arg:c.type==="return"?(this.rval=this.arg=c.arg,this.method="return",this.next="end"):c.type==="normal"&&S&&(this.next=S),g},finish:function(c){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.finallyLoc===c)return this.complete(I.completion,I.afterLoc),A(I),g}},catch:function(c){for(var S=this.tryEntries.length-1;S>=0;--S){var I=this.tryEntries[S];if(I.tryLoc===c){var F=I.completion;if(F.type==="throw"){var b=F.arg;A(I)}return b}}throw new Error("illegal catch attempt")},delegateYield:function(c,S,I){return this.delegate={iterator:E(c),resultName:S,nextLoc:I},this.method==="next"&&(this.arg=v),g}},a}function K(v,a,r,e,w,C,_){try{var s=v[C](_),f=s.value}catch(j){r(j);return}s.done?a(f):Promise.resolve(f).then(e,w)}function q(v){return function(){var a=this,r=arguments;return new Promise(function(e,w){var C=v.apply(a,r);function _(f){K(C,e,w,_,s,"next",f)}function s(f){K(C,e,w,_,s,"throw",f)}_(void 0)})}}var H={orgCidList:[],spaceCidList:[],teamCidList:[],orgLibraryCidList:[]},$=function(a){var r=a.socketStore,e=r.getState,w=r.sendSocketPayloadAsync,C=a.onError,_=e(),s=_.orgCidList,f=_.spaceCidList,j=_.teamCidList;s.length&&w(x.L5,{orgCidList:s}).catch(C),f.length&&w(x.SL,{spaceCidList:f}).catch(C),j.length&&w(x.Jj,{teamCidList:j}).catch(C)},t=function(a){var r=a.socketStore,e=r.getState,w=r.setState,C=r.sendSocketPayloadAsync,_=a.onError;return{joinOrg:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return!e().orgCidList.includes(g)}),n.abrupt("return",d.length&&C(x.L5,{orgCidList:d}).then(function(g){console.log("joined org",g),w({orgCidList:d.reduce(U.zd,e().orgCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}(),leaveOrg:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return e().orgCidList.includes(g)}),n.abrupt("return",d.length&&C(x.VE,{orgCidList:d}).then(function(g){console.log("left org",g),w({orgCidList:d.reduce(U.Uv,e().orgCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}(),joinSpace:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return!e().spaceCidList.includes(g)}),n.abrupt("return",d.length&&C(x.SL,{spaceCidList:d}).then(function(g){console.log("joined space",g),w({spaceCidList:d.reduce(U.zd,e().spaceCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}(),leaveSpace:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return e().spaceCidList.includes(g)}),n.abrupt("return",d.length&&C(x.GC,{spaceCidList:d}).then(function(g){console.log("left space",g),w({spaceCidList:d.reduce(U.Uv,e().spaceCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}(),joinTeam:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return!e().teamCidList.includes(g)}),n.abrupt("return",d.length&&C(x.Jj,{teamCidList:d}).then(function(g){console.log("joined team",g),w({teamCidList:d.reduce(U.zd,e().teamCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}(),leaveTeam:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return e().teamCidList.includes(g)}),n.abrupt("return",d.length&&C(x.j,{teamCidList:d}).then(function(g){console.log("left team",g),w({teamCidList:d.reduce(U.Uv,e().teamCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}(),joinOrgLibrary:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return!e().orgLibraryCidList.includes(g)}),n.abrupt("return",d.length&&C(x.Gj,{orgLibraryCidList:d}).then(function(g){console.log("joined orgLibrary",g),w({orgLibraryCidList:d.reduce(U.zd,e().orgLibraryCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}(),leaveOrgLibrary:function(){var s=q(W().mark(function j(){var R,d,O,T=arguments;return W().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(R=T.length,d=new Array(R),O=0;O<R;O++)d[O]=T[O];return d=d.filter(function(g){return e().orgLibraryCidList.includes(g)}),n.abrupt("return",d.length&&C(x.lb,{orgLibraryCidList:d}).then(function(g){console.log("left orgLibrary",g),w({orgLibraryCidList:d.reduce(U.Uv,e().orgLibraryCidList)})},_));case 3:case"end":return n.stop()}},j)}));function f(){return s.apply(this,arguments)}return f}()}}},96100:function(me,M,m){"use strict";m.d(M,{e:function(){return le},i:function(){return ue}});var U=m(96513),x=m(63828),W=m(32449),K=m(41367),q=m(24663),H=m(68427),$=m(31522),t=m(85343),v=m(38371),a=m(78263),r=["screenGluePatch","screenMetaPatch"];function e(V){return _(V)||C(V)||G(V)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}function _(V){if(Array.isArray(V))return k(V)}function s(V,re){var A=Object.keys(V);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(V);re&&(L=L.filter(function(E){return Object.getOwnPropertyDescriptor(V,E).enumerable})),A.push.apply(A,L)}return A}function f(V){for(var re=1;re<arguments.length;re++){var A=arguments[re]!=null?arguments[re]:{};re%2?s(Object(A),!0).forEach(function(L){j(V,L,A[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(A)):s(Object(A)).forEach(function(L){Object.defineProperty(V,L,Object.getOwnPropertyDescriptor(A,L))})}return V}function j(V,re,A){return re=R(re),re in V?Object.defineProperty(V,re,{value:A,enumerable:!0,configurable:!0,writable:!0}):V[re]=A,V}function R(V){var re=d(V,"string");return typeof re=="symbol"?re:String(re)}function d(V,re){if(typeof V!="object"||!V)return V;var A=V[Symbol.toPrimitive];if(A!==void 0){var L=A.call(V,re||"default");if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(re==="string"?String:Number)(V)}function O(V,re){if(V==null)return{};var A=T(V,re),L,E;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(V);for(E=0;E<p.length;E++)L=p[E],!(re.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(V,L)&&(A[L]=V[L])}return A}function T(V,re){if(V==null)return{};var A={},L=Object.keys(V),E,p;for(p=0;p<L.length;p++)E=L[p],!(re.indexOf(E)>=0)&&(A[E]=V[E]);return A}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return re};var V,re={},A=Object.prototype,L=A.hasOwnProperty,E=Object.defineProperty||function(oe,ie,ae){oe[ie]=ae.value},p=typeof Symbol=="function"?Symbol:{},c=p.iterator||"@@iterator",S=p.asyncIterator||"@@asyncIterator",I=p.toStringTag||"@@toStringTag";function F(oe,ie,ae){return Object.defineProperty(oe,ie,{value:ae,enumerable:!0,configurable:!0,writable:!0}),oe[ie]}try{F({},"")}catch(oe){F=function(ae,se,fe){return ae[se]=fe}}function b(oe,ie,ae,se){var fe=ie&&ie.prototype instanceof J?ie:J,he=Object.create(fe.prototype),_e=new Le(se||[]);return E(he,"_invoke",{value:ve(oe,ae,_e)}),he}function y(oe,ie,ae){try{return{type:"normal",arg:oe.call(ie,ae)}}catch(se){return{type:"throw",arg:se}}}re.wrap=b;var l="suspendedStart",i="suspendedYield",u="executing",D="completed",Z={};function J(){}function X(){}function ee(){}var Q={};F(Q,c,function(){return this});var te=Object.getPrototypeOf,ce=te&&te(te(ge([])));ce&&ce!==A&&L.call(ce,c)&&(Q=ce);var pe=ee.prototype=J.prototype=Object.create(Q);function de(oe){["next","throw","return"].forEach(function(ie){F(oe,ie,function(ae){return this._invoke(ie,ae)})})}function Se(oe,ie){function ae(fe,he,_e,ye){var be=y(oe[fe],oe,he);if(be.type!=="throw"){var Oe=be.arg,Pe=Oe.value;return Pe&&typeof Pe=="object"&&L.call(Pe,"__await")?ie.resolve(Pe.__await).then(function(je){ae("next",je,_e,ye)},function(je){ae("throw",je,_e,ye)}):ie.resolve(Pe).then(function(je){Oe.value=je,_e(Oe)},function(je){return ae("throw",je,_e,ye)})}ye(be.arg)}var se;E(this,"_invoke",{value:function(he,_e){function ye(){return new ie(function(be,Oe){ae(he,_e,be,Oe)})}return se=se?se.then(ye,ye):ye()}})}function ve(oe,ie,ae){var se=l;return function(fe,he){if(se===u)throw new Error("Generator is already running");if(se===D){if(fe==="throw")throw he;return{value:V,done:!0}}for(ae.method=fe,ae.arg=he;;){var _e=ae.delegate;if(_e){var ye=ne(_e,ae);if(ye){if(ye===Z)continue;return ye}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(se===l)throw se=D,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);se=u;var be=y(oe,ie,ae);if(be.type==="normal"){if(se=ae.done?D:i,be.arg===Z)continue;return{value:be.arg,done:ae.done}}be.type==="throw"&&(se=D,ae.method="throw",ae.arg=be.arg)}}}function ne(oe,ie){var ae=ie.method,se=oe.iterator[ae];if(se===V)return ie.delegate=null,ae==="throw"&&oe.iterator.return&&(ie.method="return",ie.arg=V,ne(oe,ie),ie.method==="throw")||ae!=="return"&&(ie.method="throw",ie.arg=new TypeError("The iterator does not provide a '"+ae+"' method")),Z;var fe=y(se,oe.iterator,ie.arg);if(fe.type==="throw")return ie.method="throw",ie.arg=fe.arg,ie.delegate=null,Z;var he=fe.arg;return he?he.done?(ie[oe.resultName]=he.value,ie.next=oe.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=V),ie.delegate=null,Z):he:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,Z)}function we(oe){var ie={tryLoc:oe[0]};1 in oe&&(ie.catchLoc=oe[1]),2 in oe&&(ie.finallyLoc=oe[2],ie.afterLoc=oe[3]),this.tryEntries.push(ie)}function Ee(oe){var ie=oe.completion||{};ie.type="normal",delete ie.arg,oe.completion=ie}function Le(oe){this.tryEntries=[{tryLoc:"root"}],oe.forEach(we,this),this.reset(!0)}function ge(oe){if(oe||oe===""){var ie=oe[c];if(ie)return ie.call(oe);if(typeof oe.next=="function")return oe;if(!isNaN(oe.length)){var ae=-1,se=function fe(){for(;++ae<oe.length;)if(L.call(oe,ae))return fe.value=oe[ae],fe.done=!1,fe;return fe.value=V,fe.done=!0,fe};return se.next=se}}throw new TypeError(typeof oe+" is not iterable")}return X.prototype=ee,E(pe,"constructor",{value:ee,configurable:!0}),E(ee,"constructor",{value:X,configurable:!0}),X.displayName=F(ee,I,"GeneratorFunction"),re.isGeneratorFunction=function(oe){var ie=typeof oe=="function"&&oe.constructor;return!!ie&&(ie===X||(ie.displayName||ie.name)==="GeneratorFunction")},re.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,ee):(oe.__proto__=ee,F(oe,I,"GeneratorFunction")),oe.prototype=Object.create(pe),oe},re.awrap=function(oe){return{__await:oe}},de(Se.prototype),F(Se.prototype,S,function(){return this}),re.AsyncIterator=Se,re.async=function(oe,ie,ae,se,fe){fe===void 0&&(fe=Promise);var he=new Se(b(oe,ie,ae,se),fe);return re.isGeneratorFunction(ie)?he:he.next().then(function(_e){return _e.done?_e.value:he.next()})},de(pe),F(pe,I,"Generator"),F(pe,c,function(){return this}),F(pe,"toString",function(){return"[object Generator]"}),re.keys=function(oe){var ie=Object(oe),ae=[];for(var se in ie)ae.push(se);return ae.reverse(),function fe(){for(;ae.length;){var he=ae.pop();if(he in ie)return fe.value=he,fe.done=!1,fe}return fe.done=!0,fe}},re.values=ge,Le.prototype={constructor:Le,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=V,this.done=!1,this.delegate=null,this.method="next",this.arg=V,this.tryEntries.forEach(Ee),!ie)for(var ae in this)ae.charAt(0)==="t"&&L.call(this,ae)&&!isNaN(+ae.slice(1))&&(this[ae]=V)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var ae=this;function se(Oe,Pe){return _e.type="throw",_e.arg=ie,ae.next=Oe,Pe&&(ae.method="next",ae.arg=V),!!Pe}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var he=this.tryEntries[fe],_e=he.completion;if(he.tryLoc==="root")return se("end");if(he.tryLoc<=this.prev){var ye=L.call(he,"catchLoc"),be=L.call(he,"finallyLoc");if(ye&&be){if(this.prev<he.catchLoc)return se(he.catchLoc,!0);if(this.prev<he.finallyLoc)return se(he.finallyLoc)}else if(ye){if(this.prev<he.catchLoc)return se(he.catchLoc,!0)}else{if(!be)throw new Error("try statement without catch or finally");if(this.prev<he.finallyLoc)return se(he.finallyLoc)}}}},abrupt:function(ie,ae){for(var se=this.tryEntries.length-1;se>=0;--se){var fe=this.tryEntries[se];if(fe.tryLoc<=this.prev&&L.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var he=fe;break}}he&&(ie==="break"||ie==="continue")&&he.tryLoc<=ae&&ae<=he.finallyLoc&&(he=null);var _e=he?he.completion:{};return _e.type=ie,_e.arg=ae,he?(this.method="next",this.next=he.finallyLoc,Z):this.complete(_e)},complete:function(ie,ae){if(ie.type==="throw")throw ie.arg;return ie.type==="break"||ie.type==="continue"?this.next=ie.arg:ie.type==="return"?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):ie.type==="normal"&&ae&&(this.next=ae),Z},finish:function(ie){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var se=this.tryEntries[ae];if(se.finallyLoc===ie)return this.complete(se.completion,se.afterLoc),Ee(se),Z}},catch:function(ie){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var se=this.tryEntries[ae];if(se.tryLoc===ie){var fe=se.completion;if(fe.type==="throw"){var he=fe.arg;Ee(se)}return he}}throw new Error("illegal catch attempt")},delegateYield:function(ie,ae,se){return this.delegate={iterator:ge(ie),resultName:ae,nextLoc:se},this.method==="next"&&(this.arg=V),Z}},re}function n(V,re){return N(V)||P(V,re)||G(V,re)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(V,re){var A=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(A!=null){var L,E,p,c,S=[],I=!0,F=!1;try{if(p=(A=A.call(V)).next,re===0){if(Object(A)!==A)return;I=!1}else for(;!(I=(L=p.call(A)).done)&&(S.push(L.value),S.length!==re);I=!0);}catch(b){F=!0,E=b}finally{try{if(!I&&A.return!=null&&(c=A.return(),Object(c)!==c))return}finally{if(F)throw E}}return S}}function N(V){if(Array.isArray(V))return V}function h(V,re){var A=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!A){if(Array.isArray(V)||(A=G(V))||re&&V&&typeof V.length=="number"){A&&(V=A);var L=0,E=function(){};return{s:E,n:function(){return L>=V.length?{done:!0}:{done:!1,value:V[L++]}},e:function(F){throw F},f:E}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p=!0,c=!1,S;return{s:function(){A=A.call(V)},n:function(){var F=A.next();return p=F.done,F},e:function(F){c=!0,S=F},f:function(){try{!p&&A.return!=null&&A.return()}finally{if(c)throw S}}}}function G(V,re){if(V){if(typeof V=="string")return k(V,re);var A=Object.prototype.toString.call(V).slice(8,-1);if(A==="Object"&&V.constructor&&(A=V.constructor.name),A==="Map"||A==="Set")return Array.from(V);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return k(V,re)}}function k(V,re){(re==null||re>V.length)&&(re=V.length);for(var A=0,L=new Array(re);A<re;A++)L[A]=V[A];return L}function B(V,re,A,L,E,p,c){try{var S=V[p](c),I=S.value}catch(F){A(F);return}S.done?re(I):Promise.resolve(I).then(L,E)}function z(V){return function(){var re=this,A=arguments;return new Promise(function(L,E){var p=V.apply(re,A);function c(I){B(p,L,E,c,S,"next",I)}function S(I){B(p,L,E,c,S,"throw",I)}c(void 0)})}}var Y=function(){return console.warn("use dummy socket store"),{getServerTimestamp:K.x,joinProjectMeta:function(){},leaveProjectMeta:function(){}}},le="project-exchange:server-patch",ue=function(re){var A=re.getSocketStore,L=A===void 0?Y:A,E=re.exchangeEventSource,p=E===void 0?(0,x.hF)():E,c=new Map,S=new Map,I=new Map,F=function(ye){return c.get(ye)},b=function(ye){return c.get(S.get(ye))},y=function(ye){return S.get(ye)},l=function(ye){return I.get(ye)},i=function(ye){return b(ye).getLocalProjectMeta()},u=function(ye){return b(ye).getLocalScreenGlueList()},D=function(ye){return b(ye).getLocalScreenMetaList()},Z=function(ye){return b(ye).getLocalScreenRuntimeStateList()},J="INSP-PE-OP",X=function(){var _e=z(o().mark(function ye(be){var Oe,Pe,je,Me,Ie,Ne,ke,Ce,Ae,Te,De,Re,Fe,Be,Ue,He,We,Ke,xe;return o().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(Oe=be.projectMeta,Pe=be.screenGlueList,je=Pe===void 0?[]:Pe,Me=be.screenMetaList,Ie=Me===void 0?[]:Me,Ne=be.projectScreenObjectList,ke=Ne===void 0?[]:Ne,Ce=be.screenRuntimeStateList,Ae=Ce===void 0?ke.map(function($e){return(0,H.$b)($e)}):Ce,Te=be.disableSocket,De=Te===void 0?!1:Te,window.location.hash.includes(J)&&console.log(J,{projectMeta:Oe,screenGlueList:je,screenMetaList:Ie,projectScreenObjectList:ke,screenRuntimeStateList:Ae,disableSocket:De}),Oe){Ve.next=4;break}throw new Error("[openProject] expect projectMeta: "+Oe);case 4:if(Re=Oe.cid,Fe=Oe.type,!c.has(Re)){Ve.next=8;break}throw new Error("[openProject] store "+Re+" already opened");case 8:if(Ie.length!==Ae.length){Be=new Set,Ue=h(Ae);try{for(Ue.s();!(He=Ue.n()).done;)We=He.value,Be.add(We.screenMetaCid)}catch($e){Ue.e($e)}finally{Ue.f()}Ie=Ie.filter(function($e){var Ze=Be.has($e.cid);return Ze||console.warn('[openProject] no buffer data for meta "'+$e.cid+'", skipped'),Ze})}return Ke=(0,q.Bf)({projectMetaCid:Re,projectMetaType:Fe,getServerTimestamp:L().getServerTimestamp}),Ke.loadServer({projectMetaList:[Oe],screenGlueList:je,screenMetaList:Ie,screenRuntimeStateList:Ae}),c.set(Re,Ke),!De&&L().joinProjectMeta(Re),xe=function(Ze){if(Ze.projectMetaChangeMap!==void 0)for(var Je=0,Ge=Object.entries(Ze.projectMetaChangeMap);Je<Ge.length;Je++){var Ye=n(Ge[Je],2),Xe=Ye[0],qe=n(Ye[1],2),Qe=qe[0],et=qe[1];Qe!==void 0?(S.set(Qe.upper_cid,Xe),I.set(Xe,Qe.upper_cid)):(S.delete(et.upper_cid),I.delete(Xe))}p&&p.dispatchEvent(Ze)},Ke.eventSource.addEventListener(q._j,xe),Ke.eventSource.addEventListener(q.of,xe),Ke.eventSource.addEventListener(q.mA,xe),Ke.eventSource.addEventListener(q.$l,xe),Ke.eventSource.addEventListener(q.mu,xe),Ke.eventSource.addEventListener(q.sO,xe),S.set(Oe.upper_cid,Re),I.set(Re,Oe.upper_cid),Ve.abrupt("return",Ke);case 23:case"end":return Ve.stop()}},ye)}));return function(be){return _e.apply(this,arguments)}}(),ee=function(ye){var be=c.get(ye);if(be)return L().leaveProjectMeta(ye),c.delete(ye),be},Q=function(ye){var be=new Set(c.keys()),Oe=h(ye),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var je=Pe.value.projectMetaCid;if(!c.has(je))throw new Error("[verifyDumpOrPatchList] unexpected data for: "+je);be.delete(je)}}catch(Me){Oe.e(Me)}finally{Oe.f()}},te=function(){var ye=[],be=h(c.values()),Oe;try{for(be.s();!(Oe=be.n()).done;){var Pe=Oe.value;ye.push(Pe.generateLocalDump())}}catch(je){be.e(je)}finally{be.f()}return ye},ce=function(ye){Q(ye);var be=h(ye),Oe;try{for(be.s();!(Oe=be.n()).done;){var Pe=Oe.value;c.get(Pe.projectMetaCid).resetLocalWithDump(Pe)}}catch(je){be.e(je)}finally{be.f()}},pe=function(ye){Q(ye);var be=h(ye),Oe;try{for(be.s();!(Oe=be.n()).done;){var Pe=Oe.value;c.get(Pe.projectMetaCid).resetServerWithDump(Pe)}}catch(je){be.e(je)}finally{be.f()}},de=function(ye){Q(ye);var be=[],Oe=h(ye),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var je=Pe.value;be.push(c.get(je.projectMetaCid).previewResetLocalWithDump(je))}}catch(Me){Oe.e(Me)}finally{Oe.f()}return be},Se=function(){var ye=h(c.values()),be;try{for(ye.s();!(be=ye.n()).done;){var Oe=be.value;if(Oe.hasLocalPatch())return!0}}catch(Pe){ye.e(Pe)}finally{ye.f()}return!1},ve=function(){var ye=0,be=h(c.values()),Oe;try{for(be.s();!(Oe=be.n()).done;){var Pe=Oe.value;ye+=Pe.countLocalPatch()}}catch(je){be.e(je)}finally{be.f()}return ye},ne=function(){var ye=[],be=h(c.values()),Oe;try{for(be.s();!(Oe=be.n()).done;){var Pe=Oe.value,je=Pe.generateLocalPatch();je.isEmpty||ye.push(je)}}catch(Me){be.e(Me)}finally{be.f()}return ye},we=function(ye,be){if(ye===void 0&&(ye=[]),be===void 0&&(be=!1),ye.length!==0){Q(ye);var Oe=h(ye),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var je=Pe.value,Me=c.get(je.projectMetaCid);Me===void 0||Me.applyServerPatch(je)}}catch(Ie){Oe.e(Ie)}finally{Oe.f()}p&&p.dispatchEvent({type:le,projectPatchList:ye,isLocalPatch:be})}},Ee="INSP-PE-GSQA",Le=function(){var _e=z(o().mark(function ye(){var be,Oe,Pe,je,Me;return o().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return be=ne(),Ne.next=3,(0,$.Tc)({projectPatchList:ge(be),gzipObjectToBufferAsync:v.Xj});case 3:return Oe=Ne.sent,Pe=Oe.jsonSaveQueue,je=Oe.bufferSaveQueue,window.location.hash.includes(Ee)&&be.length&&console.log(Ee,be,Pe,je),Me=Date.now(),Ne.abrupt("return",{jsonSaveQueue:Pe,bufferSaveQueue:je,doFreeSOS:function(){var ke=z(o().mark(function Ae(){var Te,De,Re;return o().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:Te=h(be),Be.prev=1,Te.s();case 3:if((De=Te.n()).done){Be.next=9;break}return Re=De.value.projectMetaCid,Be.next=7,(0,t.nJ)(Re,Me);case 7:Be.next=3;break;case 9:Be.next=14;break;case 11:Be.prev=11,Be.t0=Be.catch(1),Te.e(Be.t0);case 14:return Be.prev=14,Te.f(),Be.finish(14);case 17:case"end":return Be.stop()}},Ae,null,[[1,11,14,17]])}));function Ce(){return ke.apply(this,arguments)}return Ce}(),applyServer:function(){return we(be,"local-patch")}});case 9:case"end":return Ne.stop()}},ye)}));return function(){return _e.apply(this,arguments)}}(),ge=function(ye){try{var be=[],Oe=h(ye),Pe;try{for(Oe.s();!(Pe=Oe.n()).done;){var je=Pe.value,Me=je.projectMetaCid,Ie=je.screenMetaPatch;if(!(!Ie||!Ie.deleteList.length)){var Ne=c.get(Me),ke=Ne&&Ne.screenGlueDataStore.filterMapLocalList(function(We){return We.type===W._H.PROJECT_MAIN&&We.cid}),Ce=n(ke,1),Ae=Ce[0];if(Ae){var Te=[],De=h(Ie.deleteList),Re;try{for(De.s();!(Re=De.n()).done;){var Fe=Re.value.cid;Ne.screenMetaDataStore._getServer(Fe).screen_glue_cid===Ae&&Te.push(Fe)}}catch(We){De.e(We)}finally{De.f()}Te.length<=1||(Ne.describe(console.warn),be.push([Me,Te]))}}}}catch(We){Oe.e(We)}finally{Oe.f()}for(var Be=function(){var Ke=n(He[Ue],2),xe=Ke[0],ze=Ke[1],Ve=ye.find(function(Ge){return Ge.projectMetaCid===xe}),$e=Ve.screenGluePatch,Ze=Ve.screenMetaPatch,Je=O(Ve,r);$e&&($e=f(f({},$e),{},{deleteList:[]})),Ze&&(Ze=f(f({},Ze),{},{deleteList:[]})),ye=[].concat(e(ye.filter(function(Ge){return Ge.projectMetaCid!==xe})),[f({screenGluePatch:$e,screenMetaPatch:Ze},Je)]),(0,a.u)("\u8BEF\u5220\u9664\u9632\u62A4 "+new Date().toISOString().slice(0,7),"pm="+xe+" sm="+ze.join(","))},Ue=0,He=be;Ue<He.length;Ue++)Be()}catch(We){(0,a.u)("[_guardLargeDelete]",We,ye)}return ye},oe="INSP-PE-ASQA",ie=function(){var _e=z(o().mark(function ye(be){var Oe,Pe,je,Me;return o().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Oe=be.jsonSaveQueue,Pe=be.bufferSaveQueue,Ne.next=3,(0,$.yI)({jsonSaveQueue:Oe,bufferSaveQueue:Pe,gunzipObjectFromBufferAsync:v.le});case 3:je=Ne.sent,Me=je.projectPatchList,window.location.hash.includes(oe)&&console.log(oe,Me),we(Me);case 7:case"end":return Ne.stop()}},ye)}));return function(be){return _e.apply(this,arguments)}}(),ae=function(){var _e=z(o().mark(function ye(){var be,Oe,Pe;return o().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:be=h(c.values()),Me.prev=1,be.s();case 3:if((Oe=be.n()).done){Me.next=10;break}if(Pe=Oe.value,!Pe.hasLocalPatch()){Me.next=8;break}return Me.next=8,(0,t.Ev)(Pe.projectMetaCid,c);case 8:Me.next=3;break;case 10:Me.next=15;break;case 12:Me.prev=12,Me.t0=Me.catch(1),be.e(Me.t0);case 15:return Me.prev=15,be.f(),Me.finish(15);case 18:case"end":return Me.stop()}},ye,null,[[1,12,15,18]])}));return function(){return _e.apply(this,arguments)}}(),se=function(){var _e=z(o().mark(function ye(){var be,Oe,Pe,je;return o().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:be=[],Oe=h(c.keys()),Ie.prev=2,je=o().mark(function Ne(){var ke,Ce,Ae,Te,De,Re,Fe;return o().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return ke=Pe.value,Ce=Date.now(),Ue.next=4,(0,t.B5)(ke);case 4:if(Ae=Ue.sent,Ae){Ue.next=7;break}return Ue.abrupt("return",1);case 7:Te=Ae.prjDoc,De=Ae.time,Re=Ae.size,Fe=function(){var He=z(o().mark(function We(){return o().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.abrupt("return",(0,t.nJ)(ke,Ce));case 1:case"end":return xe.stop()}},We)}));return function(){return He.apply(this,arguments)}}(),be.push({projectMetaCid:ke,prjDoc:Te,time:De,size:Re,clearData:Fe});case 10:case"end":return Ue.stop()}},Ne)}),Oe.s();case 5:if((Pe=Oe.n()).done){Ie.next=11;break}return Ie.delegateYield(je(),"t0",7);case 7:if(!Ie.t0){Ie.next=9;break}return Ie.abrupt("continue",9);case 9:Ie.next=5;break;case 11:Ie.next=16;break;case 13:Ie.prev=13,Ie.t1=Ie.catch(2),Oe.e(Ie.t1);case 16:return Ie.prev=16,Oe.f(),Ie.finish(16);case 19:return Ie.abrupt("return",be);case 20:case"end":return Ie.stop()}},ye,null,[[2,13,16,19]])}));return function(){return _e.apply(this,arguments)}}(),fe=function(ye){return ye===void 0&&(ye=console.log),c.forEach(function(be){return be.describe(ye)})},he=function(){if(!(0,U.Vk)(e(S.keys()).sort(),e(I.values()).sort()))throw new Error("[verify] upperCidMap keys mismatch");if(!(0,U.Vk)(e(S.values()).sort(),e(I.keys()).sort()))throw new Error("[verify] upperCidMap values mismatch");c.forEach(function(ye){return ye.verify()})};return{exchangeEventSource:p,getProjectStore:F,getProjectStoreByUpperCid:b,getProjectMetaCidByUpperCid:y,getUpperCidByProjectMetaCid:l,getLocalProjectMetaByUpperCid:i,getLocalScreenGlueListByUpperCid:u,getLocalScreenMetaListByUpperCid:D,getLocalScreenRuntimeStateListByUpperCid:Z,openProject:X,closeProject:ee,generateLocalDump:te,resetLocalWithDump:ce,resetServerWithDump:pe,previewResetLocalWithDump:de,hasSaveQueue:Se,countSaveQueue:ve,generateSaveQueueAsync:Le,applySaveQueueAsync:ie,startSOS:ae,checkSOS:se,describe:fe,verify:he}}},85343:function(me,M,m){"use strict";m.d(M,{B5:function(){return w},Ev:function(){return r},nJ:function(){return e}});var U=m(38371),x=m(63981);function W(C,_){var s=Object.keys(C);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(C);_&&(f=f.filter(function(j){return Object.getOwnPropertyDescriptor(C,j).enumerable})),s.push.apply(s,f)}return s}function K(C){for(var _=1;_<arguments.length;_++){var s=arguments[_]!=null?arguments[_]:{};_%2?W(Object(s),!0).forEach(function(f){q(C,f,s[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(s)):W(Object(s)).forEach(function(f){Object.defineProperty(C,f,Object.getOwnPropertyDescriptor(s,f))})}return C}function q(C,_,s){return _=H(_),_ in C?Object.defineProperty(C,_,{value:s,enumerable:!0,configurable:!0,writable:!0}):C[_]=s,C}function H(C){var _=$(C,"string");return typeof _=="symbol"?_:String(_)}function $(C,_){if(typeof C!="object"||!C)return C;var s=C[Symbol.toPrimitive];if(s!==void 0){var f=s.call(C,_||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(C)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return _};var C,_={},s=Object.prototype,f=s.hasOwnProperty,j=Object.defineProperty||function(b,y,l){b[y]=l.value},R=typeof Symbol=="function"?Symbol:{},d=R.iterator||"@@iterator",O=R.asyncIterator||"@@asyncIterator",T=R.toStringTag||"@@toStringTag";function o(b,y,l){return Object.defineProperty(b,y,{value:l,enumerable:!0,configurable:!0,writable:!0}),b[y]}try{o({},"")}catch(b){o=function(l,i,u){return l[i]=u}}function n(b,y,l,i){var u=y&&y.prototype instanceof B?y:B,D=Object.create(u.prototype),Z=new I(i||[]);return j(D,"_invoke",{value:E(b,l,Z)}),D}function g(b,y,l){try{return{type:"normal",arg:b.call(y,l)}}catch(i){return{type:"throw",arg:i}}}_.wrap=n;var P="suspendedStart",N="suspendedYield",h="executing",G="completed",k={};function B(){}function z(){}function Y(){}var le={};o(le,d,function(){return this});var ue=Object.getPrototypeOf,V=ue&&ue(ue(F([])));V&&V!==s&&f.call(V,d)&&(le=V);var re=Y.prototype=B.prototype=Object.create(le);function A(b){["next","throw","return"].forEach(function(y){o(b,y,function(l){return this._invoke(y,l)})})}function L(b,y){function l(u,D,Z,J){var X=g(b[u],b,D);if(X.type!=="throw"){var ee=X.arg,Q=ee.value;return Q&&typeof Q=="object"&&f.call(Q,"__await")?y.resolve(Q.__await).then(function(te){l("next",te,Z,J)},function(te){l("throw",te,Z,J)}):y.resolve(Q).then(function(te){ee.value=te,Z(ee)},function(te){return l("throw",te,Z,J)})}J(X.arg)}var i;j(this,"_invoke",{value:function(D,Z){function J(){return new y(function(X,ee){l(D,Z,X,ee)})}return i=i?i.then(J,J):J()}})}function E(b,y,l){var i=P;return function(u,D){if(i===h)throw new Error("Generator is already running");if(i===G){if(u==="throw")throw D;return{value:C,done:!0}}for(l.method=u,l.arg=D;;){var Z=l.delegate;if(Z){var J=p(Z,l);if(J){if(J===k)continue;return J}}if(l.method==="next")l.sent=l._sent=l.arg;else if(l.method==="throw"){if(i===P)throw i=G,l.arg;l.dispatchException(l.arg)}else l.method==="return"&&l.abrupt("return",l.arg);i=h;var X=g(b,y,l);if(X.type==="normal"){if(i=l.done?G:N,X.arg===k)continue;return{value:X.arg,done:l.done}}X.type==="throw"&&(i=G,l.method="throw",l.arg=X.arg)}}}function p(b,y){var l=y.method,i=b.iterator[l];if(i===C)return y.delegate=null,l==="throw"&&b.iterator.return&&(y.method="return",y.arg=C,p(b,y),y.method==="throw")||l!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+l+"' method")),k;var u=g(i,b.iterator,y.arg);if(u.type==="throw")return y.method="throw",y.arg=u.arg,y.delegate=null,k;var D=u.arg;return D?D.done?(y[b.resultName]=D.value,y.next=b.nextLoc,y.method!=="return"&&(y.method="next",y.arg=C),y.delegate=null,k):D:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,k)}function c(b){var y={tryLoc:b[0]};1 in b&&(y.catchLoc=b[1]),2 in b&&(y.finallyLoc=b[2],y.afterLoc=b[3]),this.tryEntries.push(y)}function S(b){var y=b.completion||{};y.type="normal",delete y.arg,b.completion=y}function I(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(c,this),this.reset(!0)}function F(b){if(b||b===""){var y=b[d];if(y)return y.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var l=-1,i=function u(){for(;++l<b.length;)if(f.call(b,l))return u.value=b[l],u.done=!1,u;return u.value=C,u.done=!0,u};return i.next=i}}throw new TypeError(typeof b+" is not iterable")}return z.prototype=Y,j(re,"constructor",{value:Y,configurable:!0}),j(Y,"constructor",{value:z,configurable:!0}),z.displayName=o(Y,T,"GeneratorFunction"),_.isGeneratorFunction=function(b){var y=typeof b=="function"&&b.constructor;return!!y&&(y===z||(y.displayName||y.name)==="GeneratorFunction")},_.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,Y):(b.__proto__=Y,o(b,T,"GeneratorFunction")),b.prototype=Object.create(re),b},_.awrap=function(b){return{__await:b}},A(L.prototype),o(L.prototype,O,function(){return this}),_.AsyncIterator=L,_.async=function(b,y,l,i,u){u===void 0&&(u=Promise);var D=new L(n(b,y,l,i),u);return _.isGeneratorFunction(y)?D:D.next().then(function(Z){return Z.done?Z.value:D.next()})},A(re),o(re,T,"Generator"),o(re,d,function(){return this}),o(re,"toString",function(){return"[object Generator]"}),_.keys=function(b){var y=Object(b),l=[];for(var i in y)l.push(i);return l.reverse(),function u(){for(;l.length;){var D=l.pop();if(D in y)return u.value=D,u.done=!1,u}return u.done=!0,u}},_.values=F,I.prototype={constructor:I,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,this.tryEntries.forEach(S),!y)for(var l in this)l.charAt(0)==="t"&&f.call(this,l)&&!isNaN(+l.slice(1))&&(this[l]=C)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var l=this;function i(ee,Q){return Z.type="throw",Z.arg=y,l.next=ee,Q&&(l.method="next",l.arg=C),!!Q}for(var u=this.tryEntries.length-1;u>=0;--u){var D=this.tryEntries[u],Z=D.completion;if(D.tryLoc==="root")return i("end");if(D.tryLoc<=this.prev){var J=f.call(D,"catchLoc"),X=f.call(D,"finallyLoc");if(J&&X){if(this.prev<D.catchLoc)return i(D.catchLoc,!0);if(this.prev<D.finallyLoc)return i(D.finallyLoc)}else if(J){if(this.prev<D.catchLoc)return i(D.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return i(D.finallyLoc)}}}},abrupt:function(y,l){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.tryLoc<=this.prev&&f.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var D=u;break}}D&&(y==="break"||y==="continue")&&D.tryLoc<=l&&l<=D.finallyLoc&&(D=null);var Z=D?D.completion:{};return Z.type=y,Z.arg=l,D?(this.method="next",this.next=D.finallyLoc,k):this.complete(Z)},complete:function(y,l){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&l&&(this.next=l),k},finish:function(y){for(var l=this.tryEntries.length-1;l>=0;--l){var i=this.tryEntries[l];if(i.finallyLoc===y)return this.complete(i.completion,i.afterLoc),S(i),k}},catch:function(y){for(var l=this.tryEntries.length-1;l>=0;--l){var i=this.tryEntries[l];if(i.tryLoc===y){var u=i.completion;if(u.type==="throw"){var D=u.arg;S(i)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(y,l,i){return this.delegate={iterator:F(y),resultName:l,nextLoc:i},this.method==="next"&&(this.arg=C),k}},_}function v(C,_,s,f,j,R,d){try{var O=C[R](d),T=O.value}catch(o){s(o);return}O.done?_(T):Promise.resolve(T).then(f,j)}function a(C){return function(){var _=this,s=arguments;return new Promise(function(f,j){var R=C.apply(_,s);function d(T){v(R,f,j,d,O,"next",T)}function O(T){v(R,f,j,d,O,"throw",T)}d(void 0)})}}var r=function(){var C=a(t().mark(function _(s,f){var j,R;return t().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s===void 0&&(s=""),O.prev=1,j=f.get(s).selectLocalProjectDocument({isBranchProjectMeta:!0}),O.next=5,(0,U.Xj)(j);case 5:return R=O.sent,O.next=8,(0,x.au)("//ProjExch/"+s,R);case 8:O.next=13;break;case 10:O.prev=10,O.t0=O.catch(1),console.warn("saveSOS",s,O.t0);case 13:case"end":return O.stop()}},_,null,[[1,10]])}));return function(s,f){return C.apply(this,arguments)}}(),e=function(){var C=a(t().mark(function _(s,f){return t().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return s===void 0&&(s=""),f===void 0&&(f=Date.now()),R.prev=2,R.next=5,(0,x.Af)("//ProjExch/"+s,f);case 5:return R.abrupt("return",R.sent);case 8:R.prev=8,R.t0=R.catch(2),console.warn("freeSOS",s,R.t0);case 11:case"end":return R.stop()}},_,null,[[2,8]])}));return function(s,f){return C.apply(this,arguments)}}(),w=function(){var C=a(t().mark(function _(s){var f,j,R,d,O;return t().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s===void 0&&(s=""),o.prev=1,o.next=4,(0,x.IF)("//ProjExch/"+s);case 4:if(f=o.sent,!f.length){o.next=13;break}return console.warn("[loadSOS] found "+f.length+" record"),j=f[0],R=j.data,d=j.extra,console.warn("[loadSOS] load record from "+new Date(d.time).toISOString()+", size: "+R.size+" / "+d.size),o.next=11,(0,U.le)(R);case 11:return O=o.sent,o.abrupt("return",K({prjDoc:O},d));case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(1),console.warn("loadSOS",s,o.t0);case 18:case"end":return o.stop()}},_,null,[[1,15]])}));return function(s){return C.apply(this,arguments)}}()},24477:function(me,M,m){"use strict";m.d(M,{BX:function(){return f},Cg:function(){return s},Op:function(){return R},es:function(){return j}});var U=m(96513),x=m(41367),W=m(84617),K=m(61829);function q(d,O){return t(d)||$(d,O)||e(d,O)||H()}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(d,O){var T=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(T!=null){var o,n,g,P,N=[],h=!0,G=!1;try{if(g=(T=T.call(d)).next,O===0){if(Object(T)!==T)return;h=!1}else for(;!(h=(o=g.call(T)).done)&&(N.push(o.value),N.length!==O);h=!0);}catch(k){G=!0,n=k}finally{try{if(!h&&T.return!=null&&(P=T.return(),Object(P)!==P))return}finally{if(G)throw n}}return N}}function t(d){if(Array.isArray(d))return d}function v(d,O){var T=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!T){if(Array.isArray(d)||(T=e(d))||O&&d&&typeof d.length=="number"){T&&(d=T);var o=0,n=function(){};return{s:n,n:function(){return o>=d.length?{done:!0}:{done:!1,value:d[o++]}},e:function(G){throw G},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=!0,P=!1,N;return{s:function(){T=T.call(d)},n:function(){var G=T.next();return g=G.done,G},e:function(G){P=!0,N=G},f:function(){try{!g&&T.return!=null&&T.return()}finally{if(P)throw N}}}}function a(d){return C(d)||w(d)||e(d)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(d,O){if(d){if(typeof d=="string")return _(d,O);var T=Object.prototype.toString.call(d).slice(8,-1);if(T==="Object"&&d.constructor&&(T=d.constructor.name),T==="Map"||T==="Set")return Array.from(d);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return _(d,O)}}function w(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}function C(d){if(Array.isArray(d))return _(d)}function _(d,O){(O==null||O>d.length)&&(O=d.length);for(var T=0,o=new Array(O);T<O;T++)o[T]=d[T];return o}var s=function(O){var T=function(N,h){return function(G){return G=h(G),G.mtime=(0,x.J)(N()),G}},o=function(N){var h=(0,K.T7)(N),G=h.filterEntryProjectMeta;return T(O,G)},n=function(N){var h=(0,K.T7)(N),G=h.filterEntryScreenGlue;return T(O,G)},g=function(N){var h=(0,K.T7)(N),G=h.filterEntryScreenMeta;return T(O,G)};return{"json-v3:project-meta:delete":function(){},"json-v3:project-meta:update":function(N,h,G){var k=h.payload;return o(G)(k)},"json-v3:screen-glue:delete":function(){},"json-v3:screen-glue:update":function(N,h,G){var k=h.payload;return n(G)(k)},"json-v3:screen-meta:delete":function(){},"json-v3:screen-meta:update":function(N,h,G){var k=h.payload;return g(G)(k)}}},f=function(O){var T=O.dataName,o=T===void 0?"":T,n=O.onLocalDataDelete,g=n===void 0?function(ee){}:n,P=O.onServerDataDelete,N=P===void 0?function(ee){}:P,h=O.JSON_DATA_REDUCER_MAP,G=new Map,k=new Map,B=function(Q){return G.has(Q)},z=function(Q){return k.has(Q)},Y=function(Q){return G.get(Q)},le=function(Q){return k.get(Q)},ue=function(){return a(G.values())},V=function(){return a(G.keys())},re=function(Q){var te=[],ce=v(G.values()),pe;try{for(ce.s();!(pe=ce.n()).done;){var de=pe.value,Se=Q(de);Se&&te.push(Se)}}catch(ve){ce.e(ve)}finally{ce.f()}return te},A=function(Q){var te=G.get(Q);if(te!==void 0)return G.delete(Q),g(te),{[Q]:[void 0,te]}},L=function(Q){var te=!1,ce={},pe=v(G.values()),de;try{for(pe.s();!(de=pe.n()).done;){var Se=de.value;Q(Se)||(G.delete(Se.cid),g(Se),te=!0,ce[Se.cid]=[void 0,Se])}}catch(ve){pe.e(ve)}finally{pe.f()}return te?ce:void 0},E=function(Q){var te=k.get(Q);return te!==void 0&&(k.delete(Q),N(te)),A(Q)},p=function(Q){var te=v(k.values()),ce;try{for(te.s();!(ce=te.n()).done;){var pe=ce.value;Q(pe)||(k.delete(pe.cid),N(pe))}}catch(de){te.e(de)}finally{te.f()}return L(Q)},c=function(){for(var Q=!1,te={},ce=arguments.length,pe=new Array(ce),de=0;de<ce;de++)pe[de]=arguments[de];for(var Se=0,ve=pe;Se<ve.length;Se++){var ne=ve[Se],we=ne.cid,Ee=G.get(we);Ee!==ne&&(G.set(we,ne),Q=!0,te[we]=[ne,Ee])}return Q?te:void 0},S=function(){for(var Q=arguments.length,te=new Array(Q),ce=0;ce<Q;ce++)te[ce]=arguments[ce];for(var pe=0,de=te;pe<de.length;pe++){var Se=de[pe];k.set(Se.cid,Se)}return c.apply(void 0,te)},I=function(Q){var te=a(G.values());return Q&&te.sort(function(ce,pe){return ce.cid.localeCompare(pe.cid)}),te},F=function(Q){var te=!1,ce={},pe=new Set(G.keys()),de=v(Q),Se;try{for(de.s();!(Se=de.n()).done;){var ve=Se.value,ne=ve.cid,we=G.get(ne);pe.delete(ne),ve!==we&&(G.set(ne,ve),te=!0,ce[ne]=[ve,we])}}catch(ie){de.e(ie)}finally{de.f()}var Ee=v(pe),Le;try{for(Ee.s();!(Le=Ee.n()).done;){var ge=Le.value,oe=G.get(ge);G.delete(ge),g(oe),te=!0,ce[ge]=[void 0,oe]}}catch(ie){Ee.e(ie)}finally{Ee.f()}return te?ce:void 0},b=function(Q){var te=new Set(k.keys()),ce=v(Q),pe;try{for(ce.s();!(pe=ce.n()).done;){var de=pe.value,Se=de.cid;te.delete(Se),k.set(Se,de)}}catch(Le){ce.e(Le)}finally{ce.f()}var ve=v(te),ne;try{for(ve.s();!(ne=ve.n()).done;){var we=ne.value,Ee=k.get(we);k.delete(we),N(Ee)}}catch(Le){ve.e(Le)}finally{ve.f()}return F(Q)},y=function(Q){var te=[],ce=[],pe=new Set(G.keys()),de=v(Q),Se;try{for(de.s();!(Se=de.n()).done;){var ve=Se.value,ne=ve.cid,we=G.get(ne);pe.delete(ne),ve!==we&&te.push(ne)}}catch(oe){de.e(oe)}finally{de.f()}var Ee=v(pe),Le;try{for(Ee.s();!(Le=Ee.n()).done;){var ge=Le.value;ce.push(ge)}}catch(oe){Ee.e(oe)}finally{Ee.f()}return{updateCidList:te,deleteCidList:ce}},l=function(){return(0,W.tI)(new Map(G),a(k.values()))},i=function(){return(0,W.ln)(new Map(G),a(k.values()))},u=function(){var Q=(0,W.WD)(new Map(G),a(k.values())),te=Q.deleteList,ce=Q.updateList,pe=[],de=v(G.keys()),Se;try{for(de.s();!(Se=de.n()).done;){var ve=Se.value;!k.has(ve)&&pe.push(ve)}}catch(ne){de.e(ne)}finally{de.f()}return te.length||ce.length?{deleteList:te,updateList:ce,createCidList:pe}:void 0},D=function(Q){var te=Q.deleteList,ce=Q.updateList,pe=Q.createCidList,de=!1,Se={},ve=new Set(pe),ne=a(G.values()),we=a(k.values());return G.clear(),k.clear(),(0,W.af)(te,ce,ne,function(Ee,Le){Ee===void 0?(Ee=void 0,g(Le)):(Le||ve.has(Ee.cid))&&G.set(Ee.cid,Ee),Ee!==Le&&(de=!0,Se[(Ee||Le).cid]=[Ee,Le])}),(0,W.af)(te,ce,we,function(Ee,Le){Ee===void 0?N(Le):(Le||ve.has(Ee.cid))&&k.set(Ee.cid,Ee)}),de?Se:void 0},Z=function(Q,te){var ce=!1,pe={},de=v(Q),Se;try{for(de.s();!(Se=de.n()).done;){var ve=Se.value,ne=ve.payload.cid,we=G.get(ne),Ee=h[ve.type](we,ve,te);Ee!==we&&(Ee===void 0?(G.delete(ne),g(we)):G.set(ne,Ee),ce=!0,pe[ne]=[Ee,we])}}catch(Le){de.e(Le)}finally{de.f()}return ce?pe:void 0},J=function(Q){Q===void 0&&(Q=console.log),Q("  - ["+o+"] local cid:",a(G.keys()).sort(),"dataMap:",G),Q("  - ["+o+"] server cid:",a(k.keys()).sort(),"dataMap:",k),l()&&Q("  - ["+o+"] patch:",u())},X=function(){if(!(0,U.Vk)(a(G.keys()).sort(),a(k.keys()).sort()))throw new Error("[verify] "+o+" cid mismatch")};return{dataName:o,hasLocal:B,hasServer:z,getLocal:Y,_getServer:le,getLocalList:ue,getLocalCidList:V,filterMapLocalList:re,unloadLocalByCid:A,unloadLocalWithFilter:L,unloadServerByCid:E,unloadServerWithFilter:p,loadLocal:c,loadServer:S,generateLocalDump:I,resetLocalWithDump:F,resetServerWithDump:b,previewResetLocalWithDump:y,hasLocalPatch:l,countLocalPatch:i,generateLocalPatch:u,applyServerPatch:D,reduceLocalUpdateActionList:Z,describe:J,verify:X}},j=function(O,T,o){O!==void 0&&Object.keys(O).forEach(function(n){var g=q(O[n],2),P=g[0],N=g[1],h=P===void 0?"delete":N===void 0?"create":"update";T(o,h,n,P,N)})},R=function(O,T){var o=T.deleteList,n=T.updateList,g=T.createCidList,P=new Set(g),N=a(O);O.length=0,(0,W.af)(o,n,N,function(h,G){(G||P.has(h.cid))&&O.push(h)})}},24663:function(me,M,m){"use strict";m.d(M,{$l:function(){return T},Bf:function(){return g},Ux:function(){return P},_j:function(){return R},l_:function(){return N},mA:function(){return O},mu:function(){return o},of:function(){return d},sO:function(){return n}});var U=m(63828),x=m(41367),W=m(22178),K=m(6425),q=m(24477),H=m(31808);function $(G,k){var B=typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(!B){if(Array.isArray(G)||(B=a(G))||k&&G&&typeof G.length=="number"){B&&(G=B);var z=0,Y=function(){};return{s:Y,n:function(){return z>=G.length?{done:!0}:{done:!1,value:G[z++]}},e:function(A){throw A},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var le=!0,ue=!1,V;return{s:function(){B=B.call(G)},n:function(){var A=B.next();return le=A.done,A},e:function(A){ue=!0,V=A},f:function(){try{!le&&B.return!=null&&B.return()}finally{if(ue)throw V}}}}function t(G){return e(G)||r(G)||a(G)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(G,k){if(G){if(typeof G=="string")return w(G,k);var B=Object.prototype.toString.call(G).slice(8,-1);if(B==="Object"&&G.constructor&&(B=G.constructor.name),B==="Map"||B==="Set")return Array.from(G);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return w(G,k)}}function r(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function e(G){if(Array.isArray(G))return w(G)}function w(G,k){(k==null||k>G.length)&&(k=G.length);for(var B=0,z=new Array(k);B<k;B++)z[B]=G[B];return z}function C(G,k){var B=Object.keys(G);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(G);k&&(z=z.filter(function(Y){return Object.getOwnPropertyDescriptor(G,Y).enumerable})),B.push.apply(B,z)}return B}function _(G){for(var k=1;k<arguments.length;k++){var B=arguments[k]!=null?arguments[k]:{};k%2?C(Object(B),!0).forEach(function(z){s(G,z,B[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(B)):C(Object(B)).forEach(function(z){Object.defineProperty(G,z,Object.getOwnPropertyDescriptor(B,z))})}return G}function s(G,k,B){return k=f(k),k in G?Object.defineProperty(G,k,{value:B,enumerable:!0,configurable:!0,writable:!0}):G[k]=B,G}function f(G){var k=j(G,"string");return typeof k=="symbol"?k:String(k)}function j(G,k){if(typeof G!="object"||!G)return G;var B=G[Symbol.toPrimitive];if(B!==void 0){var z=B.call(G,k||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(G)}var R="project-store:load-local",d="project-store:reset-local-with-dump",O="project-store:reset-server-with-dump",T="project-store:apply-server-patch",o="project-store:reduce-local-update-action-list",n="project-store:merge-local-project-document",g=function(k){var B=k.projectMetaCid,z=k.projectMetaType,Y=k.getServerTimestamp,le=Y===void 0?x.x:Y,ue=k.eventSource,V=ue===void 0?(0,U.hF)():ue,re=k.onChange,A=re===void 0?function(ke,Ce,Ae){return V.dispatchEvent(_({type:ke,projectMetaCid:Ae},Ce))}:re,L=function(Ce){y.unloadLocalWithFilter(function(Ae){return Ae.project_meta_cid!==Ce.cid})},E=function(Ce){l.unloadLocalWithFilter(function(Ae){return Ae.screen_glue_cid!==Ce.cid})},p=function(Ce){u.unloadLocalWithFilter(function(Ae){return Ae.screenMetaCid!==Ce.cid})},c=function(Ce){y.unloadServerWithFilter(function(Ae){return Ae.project_meta_cid!==Ce.cid})},S=function(Ce){l.unloadServerWithFilter(function(Ae){return Ae.screen_glue_cid!==Ce.cid})},I=function(Ce){u.unloadServerWithFilter(function(Ae){return Ae.screenMetaCid!==Ce.cid})},F=(0,q.Cg)(le),b=(0,q.BX)({dataName:"projectMeta",onLocalDataDelete:L,onServerDataDelete:c,JSON_DATA_REDUCER_MAP:F}),y=(0,q.BX)({dataName:"screenGlue",onLocalDataDelete:E,onServerDataDelete:S,JSON_DATA_REDUCER_MAP:F}),l=(0,q.BX)({dataName:"screenMeta",onLocalDataDelete:p,onServerDataDelete:I,JSON_DATA_REDUCER_MAP:F}),i=(0,H.iG)(le),u=(0,H.AQ)({RUNTIME_STATE_REDUCER_MAP:i}),D=function(){return b.getLocal(B)},Z=y.getLocal,J=y.getLocalList,X=y.getLocalCidList,ee=l.getLocal,Q=l.getLocalList,te=function(Ce){return l.filterMapLocalList(function(Ae){return Ae.screen_glue_cid===Ce&&Ae})},ce=l.getLocalCidList,pe=u.getLocalRuntimeState,de=u.getLocalRuntimeStateList,Se=function(Ce){return l.filterMapLocalList(function(Ae){return Ae.screen_glue_cid===Ce&&u.getLocalRuntimeState(Ae.cid)})},ve=function(Ce,Ae,Te,De,Re){if(!(Ae===void 0&&Te===void 0&&De===void 0&&Re===void 0)){var Fe={projectMetaChangeMap:Ae,screenGlueChangeMap:Te,screenMetaChangeMap:De,screenRuntimeStateChangeMap:Re};return A(Ce,Fe,B),Fe}},ne=function(Ce){var Ae=Ce.projectMetaList,Te=Ce.screenGlueList,De=Ce.screenMetaList,Re=Ce.screenRuntimeStateList;return ve(R,b.loadLocal.apply(b,t(Ae)),y.loadLocal.apply(y,t(Te)),l.loadLocal.apply(l,t(De)),u.loadLocal.apply(u,t(Re)))},we=function(Ce){var Ae=Ce.projectMetaList,Te=Ce.screenGlueList,De=Ce.screenMetaList,Re=Ce.screenRuntimeStateList;b.loadServer.apply(b,t(Ae)),y.loadServer.apply(y,t(Te)),l.loadServer.apply(l,t(De)),u.loadServer.apply(u,t(Re))},Ee=function(Ce){return{projectMetaCid:B,projectMetaDump:b.generateLocalDump(Ce),screenGlueDump:y.generateLocalDump(Ce),screenMetaDump:l.generateLocalDump(Ce),screenRuntimeStateDump:u.generateLocalDump(Ce)}},Le=function(Ce){var Ae=Ce.projectMetaCid,Te=Ce.projectMetaDump,De=Ce.screenGlueDump,Re=Ce.screenMetaDump,Fe=Ce.screenRuntimeStateDump;if(Ae!==B)throw new Error("[resetLocalWithDump] wrong projectMetaCid: "+Ae+", expect: "+B);return ve(d,b.resetLocalWithDump(Te),y.resetLocalWithDump(De),l.resetLocalWithDump(Re),u.resetLocalWithDump(Fe))},ge=function(Ce){var Ae=Ce.projectMetaCid,Te=Ce.projectMetaDump,De=Ce.screenGlueDump,Re=Ce.screenMetaDump,Fe=Ce.screenRuntimeStateDump;if(Ae!==B)throw new Error("[resetServerWithDump] wrong projectMetaCid: "+Ae+", expect: "+B);return ve(O,b.resetServerWithDump(Te),y.resetServerWithDump(De),l.resetServerWithDump(Re),u.resetServerWithDump(Fe))},oe=function(Ce){var Ae=Ce.projectMetaCid,Te=Ce.projectMetaDump,De=Ce.screenGlueDump,Re=Ce.screenMetaDump,Fe=Ce.screenRuntimeStateDump;if(Ae!==B)throw new Error("[previewResetLocalWithDump] wrong projectMetaCid: "+Ae+", expect: "+B);return{projectMetaCid:B,projectMetaPreview:b.previewResetLocalWithDump(Te),screenGluePreview:y.previewResetLocalWithDump(De),screenMetaPreview:l.previewResetLocalWithDump(Re),screenRuntimeStatePreview:u.previewResetLocalWithDump(Fe)}},ie=function(){return b.hasLocalPatch()||y.hasLocalPatch()||l.hasLocalPatch()||u.hasLocalPatch()},ae=function(){return b.countLocalPatch()+y.countLocalPatch()+l.countLocalPatch()+u.countLocalPatch()},se=function(){var Ce=b.generateLocalPatch(),Ae=y.generateLocalPatch(),Te=l.generateLocalPatch(),De=u.generateLocalPatch();return{projectMetaCid:B,projectMetaType:z,isEmpty:!Ce&&!Ae&&!Te&&!De,projectMetaPatch:Ce,screenGluePatch:Ae,screenMetaPatch:Te,screenRuntimeStatePatch:De}},fe=function(Ce){var Ae=Ce.projectMetaCid,Te=Ce.projectMetaPatch,De=Ce.screenGluePatch,Re=Ce.screenMetaPatch,Fe=Ce.screenRuntimeStatePatch;if(Ae!==B)throw new Error("[applyServerPatch] wrong projectMetaCid: "+Ae+", expect: "+B);return ve(T,Te&&b.applyServerPatch(Te),De&&y.applyServerPatch(De),Re&&l.applyServerPatch(Re),Fe&&u.applyServerPatch(Fe,he(l)))},he=function(Ce){return{existLocalBindData:function(Te){var De=Te.screenMetaCid;return Ce.hasLocal(De)},existServerBindData:function(Te){var De=Te.screenMetaCid;return Ce.hasServer(De)}}},_e=function(Ce,Ae,Te,De,Re){return ve(Ce,Ae.length!==0?b.reduceLocalUpdateActionList(Ae,z):void 0,Te.length!==0?y.reduceLocalUpdateActionList(Te,z):void 0,De.length!==0?l.reduceLocalUpdateActionList(De,z):void 0,Re.length!==0?u.reduceLocalUpdateActionList(Re,z):void 0)},ye=function(Ce){var Ae=[],Te=[],De=[],Re=[],Fe=$(Ce),Be;try{for(Fe.s();!(Be=Fe.n()).done;){var Ue=Be.value;switch(Ue.type){case"json-v3:project-meta:delete":case"json-v3:project-meta:update":Ae.push(Ue);break;case"json-v3:screen-glue:delete":case"json-v3:screen-glue:update":Te.push(Ue);break;case"json-v3:screen-meta:delete":case"json-v3:screen-meta:update":De.push(Ue);break;default:Re.push(Ue);break}}}catch(He){Fe.e(He)}finally{Fe.f()}return _e(o,Ae,Te,De,Re)},be={getLocalProjectMeta:D,getLocalScreenGlueList:J,getLocalScreenMetaListByScreenGlueCid:te,getLocalScreenRuntimeStateByCid:pe},Oe=function(Ce){return Ce===void 0&&(Ce={}),(0,K.xm)(be,Ce)},Pe=function(Ce,Ae){return Ce===void 0&&(Ce={}),Ae===void 0&&(Ae={}),(0,K.CH)(Oe(Ce),Ae)},je={has:function(){return!1}},Me=function(Ce){var Ae=Ce.projectDocument,Te=Ce.ignoreProjectMetaCidSet,De=Te===void 0?je:Te,Re=Ce.ignoreScreenGlueCidSet,Fe=Re===void 0?je:Re,Be=Ce.ignoreScreenMetaCidSet,Ue=Be===void 0?je:Be,He=Ce.ignoreScreenStateCidSet,We=He===void 0?je:He,Ke=Ce.ignoreItemCidSet,xe=Ke===void 0?je:Ke,ze=[],Ve=[],$e=[],Ze=[];return(0,W._g)({projectDocument:Ae,onProjectMeta:function(Ge){if(Ge.cid!==B)throw new Error("[mergeLocalProjectDocument] expect projectMeta: "+B+", get: "+Ge.cid);!De.has(Ge.cid)&&ze.push({type:"json-v3:project-meta:update",payload:Ge})},onScreenGlue:function(Ge){!Fe.has(Ge.cid)&&Ve.push({type:"json-v3:screen-glue:update",payload:Ge})},onScreenMeta:function(Ge){!Ue.has(Ge.cid)&&$e.push({type:"json-v3:screen-meta:update",payload:Ge})},onScreenState:function(Ge,Ye){var Xe=Ye.itemList,qe=Ye.screenMeta.cid;!We.has(Ge.cid)&&Ze.push({type:"buffer-v3:screen-state-data:update",payload:Ge,screenMetaCid:qe});var Qe=$(Xe),et;try{for(Qe.s();!(et=Qe.n()).done;){var tt=et.value;!xe.has(tt.cid)&&Ze.push({type:"buffer-v3:screen-state-item:update",payload:tt,stateCid:Ge.cid,screenMetaCid:qe})}}catch(rt){Qe.e(rt)}finally{Qe.f()}}}),_e(n,ze,Ve,$e,Ze)},Ie=function(Ce){Ce===void 0&&(Ce=console.log),Ce("- projectMetaCid: "+B),b.describe(Ce),y.describe(Ce),l.describe(Ce),u.describe(Ce)},Ne=function(){b.verify(),y.verify(),l.verify(),u.verify()};return{projectMetaCid:B,getServerTimestamp:le,eventSource:V,projectMetaDataStore:b,screenGlueDataStore:y,screenMetaDataStore:l,screenRuntimeStateStore:u,getLocalProjectMeta:D,getLocalScreenGlueByCid:Z,getLocalScreenGlueList:J,getLocalScreenGlueCidList:X,getLocalScreenMetaByCid:ee,getLocalScreenMetaList:Q,getLocalScreenMetaListByScreenGlueCid:te,getLocalScreenMetaCidList:ce,getLocalScreenRuntimeStateByCid:pe,getLocalScreenRuntimeStateList:de,getLocalScreenRuntimeStateListByScreenGlueCid:Se,loadLocal:ne,loadServer:we,generateLocalDump:Ee,resetLocalWithDump:Le,resetServerWithDump:ge,previewResetLocalWithDump:oe,hasLocalPatch:ie,countLocalPatch:ae,generateLocalPatch:se,applyServerPatch:fe,reduceLocalUpdateActionList:ye,selectLocalProjectDocument:Oe,selectAndRemapLocalProjectDocument:Pe,mergeLocalProjectDocument:Me,describe:Ie,verify:Ne}},P=function(k,B){var z=k.projectMetaChangeMap,Y=k.screenGlueChangeMap,le=k.screenMetaChangeMap,ue=k.screenRuntimeStateChangeMap;z!==void 0&&(0,q.es)(z,B,"projectMeta"),Y!==void 0&&(0,q.es)(Y,B,"screenGlue"),le!==void 0&&(0,q.es)(le,B,"screenMeta"),ue!==void 0&&(0,H.lN)(ue,B)},N=function(k,B){var z=k.projectMetaCid,Y=k.projectMetaDump,le=k.screenGlueDump,ue=k.screenMetaDump,V=k.screenRuntimeStateDump,re=$(B),A;try{for(re.s();!(A=re.n()).done;){var L=A.value,E=L.projectMetaCid,p=L.projectMetaPatch,c=L.screenGluePatch,S=L.screenMetaPatch,I=L.screenRuntimeStatePatch;if(z!==E)throw new Error("mismatch cid: "+z+" - "+E);p&&(0,q.Op)(Y,p),c&&(0,q.Op)(le,c),S&&(0,q.Op)(ue,S),I&&(0,H.Vf)(V,I)}}catch(b){re.e(b)}finally{re.f()}var F=new Map;ue.forEach(function(b){var y=b.cid;return F.set(y,1)}),V.forEach(function(b){var y=b.screenMetaCid;return F.has(y)&&F.set(y,2)}),h(ue,function(b){var y=b.cid;return F.get(y)===2}),h(V,function(b){var y=b.screenMetaCid;return F.get(y)===2})},h=function(k,B){for(var z=0,Y=0;z<k.length;){var le=k[z];B(le,z,k)&&(k[Y++]=le),z++}return k.length=Y,k}},96363:function(me,M,m){"use strict";m.d(M,{Dt:function(){return q},M$:function(){return H},_X:function(){return W},hq:function(){return K}});var U=m(93834),x=m(27444),W=function(t,v){var a=t,r=a.dataMap,e=a.itemListMap;return r=(0,U.i7)(r,v.cid),e=(0,U.i7)(e,v.cid),t=(0,U.iA)(t,"dataMap",r),t=(0,U.iA)(t,"itemListMap",e),t},K=function(t,v){var a=t,r=a.dataMap,e=a.itemListMap;return r=(0,U.iA)(r,v.cid,v),e[v.cid]===void 0&&(e=(0,U.iA)(e,v.cid,[])),t=(0,U.iA)(t,"dataMap",r),t=(0,U.iA)(t,"itemListMap",e),t},q=function(t,v,a){var r=t,e=r.itemListMap,w=e[v];return w=(0,x.wW)(w,function(C){return C.cid===a.cid}),e=(0,U.iA)(e,v,w),t=(0,U.iA)(t,"itemListMap",e),t},H=function(t,v,a){var r=t,e=r.itemListMap,w=e[v];return w=(0,x.hs)(w,function(C){return C.cid===a.cid},a),e=(0,U.iA)(e,v,w),t=(0,U.iA)(t,"itemListMap",e),t}},31808:function(me,M,m){"use strict";m.d(M,{AQ:function(){return d},Vf:function(){return o},iG:function(){return R},lN:function(){return T}});var U=m(60907),x=m(96513),W=m(41367),K=m(61829),q=m(68427),H=m(96363),$=m(1193);function t(n){return r(n)||a(n)||_(n)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function r(n){if(Array.isArray(n))return s(n)}function e(n,g){var P=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!P){if(Array.isArray(n)||(P=_(n))||g&&n&&typeof n.length=="number"){P&&(n=P);var N=0,h=function(){};return{s:h,n:function(){return N>=n.length?{done:!0}:{done:!1,value:n[N++]}},e:function(Y){throw Y},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var G=!0,k=!1,B;return{s:function(){P=P.call(n)},n:function(){var Y=P.next();return G=Y.done,Y},e:function(Y){k=!0,B=Y},f:function(){try{!G&&P.return!=null&&P.return()}finally{if(k)throw B}}}}function w(n,g){return j(n)||f(n,g)||_(n,g)||C()}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(n,g){if(n){if(typeof n=="string")return s(n,g);var P=Object.prototype.toString.call(n).slice(8,-1);if(P==="Object"&&n.constructor&&(P=n.constructor.name),P==="Map"||P==="Set")return Array.from(n);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return s(n,g)}}function s(n,g){(g==null||g>n.length)&&(g=n.length);for(var P=0,N=new Array(g);P<g;P++)N[P]=n[P];return N}function f(n,g){var P=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(P!=null){var N,h,G,k,B=[],z=!0,Y=!1;try{if(G=(P=P.call(n)).next,g===0){if(Object(P)!==P)return;z=!1}else for(;!(z=(N=G.call(P)).done)&&(B.push(N.value),B.length!==g);z=!0);}catch(le){Y=!0,h=le}finally{try{if(!z&&P.return!=null&&(k=P.return(),Object(k)!==k))return}finally{if(Y)throw h}}return B}}function j(n){if(Array.isArray(n))return n}var R=function(g){var P=function(B){var z=(0,K.T7)(B),Y=z.filterEntryScreenState;return O(g,Y)},N=function(B){var z=(0,K.T7)(B),Y=z.filterEntryItem;return O(g,Y)},h=function(B,z){for(var Y={},le=0,ue=Object.entries(B);le<ue.length;le++){var V=w(ue[le],2),re=V[0],A=V[1];Y[re]=z(A)}return Y},G=function(B){var z=B.screenMetaCid,Y=B.dataMap,le=B.itemListMap,ue={screenMetaCid:z,dataMap:h(Y,P),itemListMap:h(le,function(V){return V.map(function(re){return P(re)})})};return(0,q.AY)(ue),ue};return{"buffer-v3:screen-runtime-state:set":function(B,z,Y){var le=z.payload;return G(le)},"buffer-v3:screen-state-data:delete":function(B,z,Y){var le=z.payload;return(0,H._X)(B,le)},"buffer-v3:screen-state-data:update":function(B,z,Y){var le=z.payload;return(0,H.hq)(B,P(Y)(le))},"buffer-v3:screen-state-item:delete":function(B,z,Y){var le=z.payload,ue=z.stateCid;return(0,H.Dt)(B,ue,le)},"buffer-v3:screen-state-item:update":function(B,z,Y){var le=z.payload,ue=z.stateCid;return(0,H.M$)(B,ue,N(Y)(le))}}},d=function(g){var P=g.RUNTIME_STATE_REDUCER_MAP,N=new Map,h=new Map,G=function(J){return N.has(J)},k=function(J){return h.has(J)},B=function(J){var X=N.get(J);return X&&X.getState()},z=function(){var J=[],X=e(N.values()),ee;try{for(X.s();!(ee=X.n()).done;){var Q=ee.value;J.push(Q.getState())}}catch(te){X.e(te)}finally{X.f()}return J},Y=function(J){var X=N.get(J);if(X!==void 0)return N.delete(J),{[J]:[void 0,X.getState()]}},le=function(J){var X=!1,ee={},Q=e(N.values()),te;try{for(Q.s();!(te=Q.n()).done;){var ce=te.value.getState,pe=ce();if(!J(pe)){var de=pe.screenMetaCid;N.delete(de),X=!0,ee[de]=[void 0,pe]}}}catch(Se){Q.e(Se)}finally{Q.f()}return X?ee:void 0},ue=function(J){return h.delete(J),Y(J)},V=function(J){var X=e(h.values()),ee;try{for(X.s();!(ee=X.n()).done;){var Q=ee.value;if(!J(Q)){var te=Q.screenMetaCid;h.delete(te)}}}catch(ce){X.e(ce)}finally{X.f()}return le(J)},re=function(){for(var J=!1,X={},ee=arguments.length,Q=new Array(ee),te=0;te<ee;te++)Q[te]=arguments[te];for(var ce=0,pe=Q;ce<pe.length;ce++){var de=pe[ce],Se=de.screenMetaCid,ve=N.get(Se),ne=ve&&ve.getState();ne!==de&&(ve!==void 0?ve.setState(de):N.set(Se,(0,U.xb)(de)),J=!0,X[Se]=[de,ne])}return J?X:void 0},A=function(){for(var J=arguments.length,X=new Array(J),ee=0;ee<J;ee++)X[ee]=arguments[ee];for(var Q=0,te=X;Q<te.length;Q++){var ce=te[Q],pe=ce.screenMetaCid;h.set(pe,ce)}return re.apply(void 0,X)},L=function(J){var X=[],ee=e(N.values()),Q;try{for(ee.s();!(Q=ee.n()).done;){var te=Q.value;X.push(te.getState())}}catch(ce){ee.e(ce)}finally{ee.f()}return J&&X.sort(function(ce,pe){return ce.screenMetaCid.localeCompare(pe.screenMetaCid)}),X},E=function(J){var X=!1,ee={},Q=new Set(N.keys()),te=e(J),ce;try{for(te.s();!(ce=te.n()).done;){var pe=ce.value,de=pe.screenMetaCid,Se=N.get(de),ve=Se&&Se.getState();Q.delete(de),pe!==ve&&(N.set(de,(0,U.xb)(pe)),X=!0,ee[de]=[pe,ve])}}catch(ge){te.e(ge)}finally{te.f()}var ne=e(Q),we;try{for(ne.s();!(we=ne.n()).done;){var Ee=we.value,Le=N.get(Ee).getState();N.delete(Ee),X=!0,ee[Ee]=[void 0,Le]}}catch(ge){ne.e(ge)}finally{ne.f()}return X?ee:void 0},p=function(J){var X=new Set(h.keys()),ee=e(J),Q;try{for(ee.s();!(Q=ee.n()).done;){var te=Q.value,ce=te.screenMetaCid;X.delete(ce),h.set(ce,te)}}catch(ve){ee.e(ve)}finally{ee.f()}var pe=e(X),de;try{for(pe.s();!(de=pe.n()).done;){var Se=de.value;h.delete(Se)}}catch(ve){pe.e(ve)}finally{pe.f()}return E(J)},c=function(J){var X=[],ee=[],Q=new Set(N.keys()),te=e(J),ce;try{for(te.s();!(ce=te.n()).done;){var pe=ce.value,de=pe.screenMetaCid,Se=N.get(de),ve=Se&&Se.getState();Q.delete(de),pe!==ve&&X.push(de)}}catch(Le){te.e(Le)}finally{te.f()}var ne=e(Q),we;try{for(ne.s();!(we=ne.n()).done;){var Ee=we.value;ee.push(Ee)}}catch(Le){ne.e(Le)}finally{ne.f()}return{updateCidList:X,deleteCidList:ee}},S=function(J){var X=new Set(h.keys()),ee=e(N.values()),Q;try{for(ee.s();!(Q=ee.n()).done;){var te=Q.value.getState,ce=te(),pe=ce.screenMetaCid,de=h.get(pe),Se=J(ce,de,pe);if(Se)return Se;X.delete(pe)}}catch(oe){ee.e(oe)}finally{ee.f()}var ve=e(X),ne;try{for(ve.s();!(ne=ve.n()).done;){var we=ne.value,Ee=void 0,Le=h.get(we),ge=J(Ee,Le,we);if(ge)return ge}}catch(oe){ve.e(oe)}finally{ve.f()}},I=function(J,X,ee){var Q=!1,te={},ce=e(J),pe;try{for(ce.s();!(pe=ce.n()).done;){var de=pe.value,Se=de.screenMetaCid;if(ee!==void 0){var ve=h.get(Se),ne=ee(ve,de);ve!==ne&&(ne===void 0?h.delete(Se):h.set(Se,ne))}var we=N.get(Se),Ee=we===void 0?void 0:we.getState(),Le=X(Ee,de);Ee!==Le&&(Le===void 0?N.delete(Se):we===void 0?N.set(Se,(0,U.xb)(Le)):we.setState(Le),Q=!0,te[Se]=[Le,Ee])}}catch(ge){ce.e(ge)}finally{ce.f()}return Q?te:void 0},F=function(){return!!S($.iP)},b=function(){var J=0;return S(function(X,ee){J+=(0,$.wc)(X,ee)}),J},y=function(){var J=[];return S(function(X,ee,Q){if(X){var te=(0,$.Nz)(X,ee);te.length&&J.push({screenMetaCid:Q,statePatchList:te,isCreate:!ee})}}),J.length?J:void 0},l=function(J,X){J===void 0&&(J=[]);var ee=X===void 0?{}:X,Q=ee.existLocalBindData,te=Q===void 0?function(de){return!0}:Q,ce=ee.existServerBindData,pe=ce===void 0?function(de){return!0}:ce;return I(J,function(de,Se){var ve=Se.screenMetaCid,ne=Se.statePatchList,we=Se.isCreate;if(!(de!==void 0&&!te(de)||de===void 0&&!we))return(0,$.ch)(de||(0,q.hV)(ve),ne)},function(de,Se){var ve=Se.screenMetaCid,ne=Se.statePatchList,we=Se.isCreate;if(!(de!==void 0&&!pe(de)||de===void 0&&!we))return(0,$.ch)(de||(0,q.hV)(ve),ne)})},i=function(J,X){return I(J,function(ee,Q){return P[Q.type](ee||(0,q.hV)(Q.screenMetaCid),Q,X)})},u=function(J){J===void 0&&(J=console.log),J("  - [screenRuntimeState] local cid:",t(N.keys()).sort(),"runtimeState:",t(N).reduce(function(X,ee){var Q=w(ee,2),te=Q[0],ce=Q[1].getState;return X[te]=ce(),X},{})),J("  - [screenRuntimeState] server cid:",t(h.keys()).sort(),"runtimeState:",t(h).reduce(function(X,ee){var Q=w(ee,2),te=Q[0],ce=Q[1];return X[te]=ce,X},{})),F()&&J("  - patch (saveQueue):",y())},D=function(){if(!(0,x.Vk)(t(N.keys()).sort(),t(h.keys()).sort()))throw new Error("[verify] screenMetaCid mismatch")};return{hasLocal:G,hasServer:k,getLocalRuntimeState:B,getLocalRuntimeStateList:z,unloadLocalByCid:Y,unloadLocalWithFilter:le,unloadServerByCid:ue,unloadServerWithFilter:V,loadLocal:re,loadServer:A,generateLocalDump:L,resetLocalWithDump:E,resetServerWithDump:p,previewResetLocalWithDump:c,hasLocalPatch:F,countLocalPatch:b,generateLocalPatch:y,applyServerPatch:l,reduceLocalUpdateActionList:i,describe:u,verify:D}},O=function(g,P){return function(N){return N=P(N),N.mtime=(0,W.J)(g()),N}},T=function(g,P){g!==void 0&&Object.keys(g).forEach(function(N){var h=w(g[N],2),G=h[0],k=h[1];if(G===void 0)return P("screenRuntimeState","delete",N,G,k);if(k===void 0)return P("screenRuntimeState","create",N,G,k);var B=G.dataMap,z=G.itemListMap,Y=k.dataMap,le=k.itemListMap;if(B!==Y){for(var ue=Object.keys(B),V=new Set(Object.keys(Y)),re=0,A=ue;re<A.length;re++){var L=A[re],E=B[L],p=Y[L];V.delete(L),P("screenRuntimeState:data",p===void 0?"create":"update",[N,L],E,p)}var c=e(V),S;try{for(c.s();!(S=c.n()).done;){var I=S.value;P("screenRuntimeState:data","delete",[N,I],void 0,Y[I])}}catch(ee){c.e(ee)}finally{c.f()}}if(z!==le){for(var F=Object.keys(z),b=new Set(Object.keys(le)),y=0,l=F;y<l.length;y++){var i=l[y],u=z[i],D=le[i];b.delete(i),P("screenRuntimeState:itemList",D===void 0?"create":"update",[N,i],u,D)}var Z=e(b),J;try{for(Z.s();!(J=Z.n()).done;){var X=J.value;P("screenRuntimeState:itemList","delete",[N,X],void 0,le[X])}}catch(ee){Z.e(ee)}finally{Z.f()}}})},o=function(g,P){var N=new Map;g.forEach(function(V){return N.set(V.screenMetaCid,V)});var h=e(P),G;try{for(h.s();!(G=h.n()).done;){var k=G.value,B=k.screenMetaCid,z=k.statePatchList,Y=k.isCreate,le=N.get(B);if(!(le===void 0&&!Y)){var ue=(0,$.ch)(le||(0,q.hV)(B),z);le!==ue&&(ue===void 0?N.delete(B):N.set(B,ue))}}}catch(V){h.e(V)}finally{h.f()}g.length=0,g.push.apply(g,t(N.values()))}},78263:function(me,M,m){"use strict";m.d(M,{T:function(){return x},u:function(){return W}});var U="__SDST",x=function(q,H){try{if(typeof q!="function"||typeof H!="function"||typeof globalThis[U]=="function")return;globalThis[U]=function($){for(var t=arguments.length,v=new Array(t>1?t-1:0),a=1;a<t;a++)v[a-1]=arguments[a];for(var r=0,e=v;r<e.length;r++){var w=e[r];H({level:"warning",message:w})}q($)}}catch($){console.error("[addSentry]",$)}},W=function(q){try{for(var H,$=arguments.length,t=new Array($>1?$-1:0),v=1;v<$;v++)t[v-1]=arguments[v];typeof globalThis[U]=="function"?globalThis[U].apply(globalThis,[q].concat(t)):(H=console).error.apply(H,[q].concat(t))}catch(a){console.error("[sendSentry]",a)}}},28451:function(me,M,m){"use strict";m.d(M,{B1:function(){return L},EG:function(){return O},G4:function(){return T},GC:function(){return t},GI:function(){return I},Gj:function(){return h},Jj:function(){return B},L5:function(){return q},NJ:function(){return W},NL:function(){return p},SL:function(){return $},TY:function(){return R},TZ:function(){return V},VE:function(){return H},W$:function(){return c},Yq:function(){return d},az:function(){return A},bF:function(){return P},c$:function(){return o},e8:function(){return n},eF:function(){return ue},il:function(){return x},j:function(){return z},j2:function(){return re},lb:function(){return G},p1:function(){return g},sB:function(){return S},w5:function(){return E},yL:function(){return k},yT:function(){return N}});var U="socket:event-name:lock-tag:20201217",x="broadcast:user:data",W="broadcast:org:data",K="broadcast:space:data",q="v3:join:org-list",H="v3:leave:org-list",$="v3:join:space-list",t="v3:leave:space-list",v="user-profile:update",a="user-profile:delete",r="space:update",e="space:update:all",w="space:delete",C="team:update",_="team:delete",s="org:update",f="user:notification",j="order:paid",R="library-access:update",d="org-asset:update",O="org-asset:delete",T="org-asset-group:update",o="org-asset-group:delete",n="org-combo-group:update",g="org-combo-group:delete",P="org-combo:delete",N="broadcast:org-library:data",h="v3:join:org-library-list",G="v3:leave:org-library-list",k="broadcast:team:data",B="v3:join:team-list",z="v3:leave:team-list",Y="project-upper:update",le="project-upper:delete",ue="broadcast:project-meta:data",V="v3:join:project-meta-list",re="v3:leave:project-meta-list",A="project-version:reset",L="v3:broadcast:project-meta:json-save-queue",E="v3:request:project-meta:json-save-queue",p="v3:broadcast:project-meta:buffer-save-queue",c="v3:request:project-meta:buffer-save-queue",S="broadcast:comment:data",I="broadcast:comment-thread:data",F="join:orgs",b="leave:orgs",y="join:teams",l="leave:teams"},31522:function(me,M,m){"use strict";m.d(M,{Tc:function(){return Y},yI:function(){return le}});var U=m(27444),x=m(10250);function W(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */W=function(){return L};var A,L={},E=Object.prototype,p=E.hasOwnProperty,c=Object.defineProperty||function(ae,se,fe){ae[se]=fe.value},S=typeof Symbol=="function"?Symbol:{},I=S.iterator||"@@iterator",F=S.asyncIterator||"@@asyncIterator",b=S.toStringTag||"@@toStringTag";function y(ae,se,fe){return Object.defineProperty(ae,se,{value:fe,enumerable:!0,configurable:!0,writable:!0}),ae[se]}try{y({},"")}catch(ae){y=function(fe,he,_e){return fe[he]=_e}}function l(ae,se,fe,he){var _e=se&&se.prototype instanceof ee?se:ee,ye=Object.create(_e.prototype),be=new oe(he||[]);return c(ye,"_invoke",{value:we(ae,fe,be)}),ye}function i(ae,se,fe){try{return{type:"normal",arg:ae.call(se,fe)}}catch(he){return{type:"throw",arg:he}}}L.wrap=l;var u="suspendedStart",D="suspendedYield",Z="executing",J="completed",X={};function ee(){}function Q(){}function te(){}var ce={};y(ce,I,function(){return this});var pe=Object.getPrototypeOf,de=pe&&pe(pe(ie([])));de&&de!==E&&p.call(de,I)&&(ce=de);var Se=te.prototype=ee.prototype=Object.create(ce);function ve(ae){["next","throw","return"].forEach(function(se){y(ae,se,function(fe){return this._invoke(se,fe)})})}function ne(ae,se){function fe(_e,ye,be,Oe){var Pe=i(ae[_e],ae,ye);if(Pe.type!=="throw"){var je=Pe.arg,Me=je.value;return Me&&typeof Me=="object"&&p.call(Me,"__await")?se.resolve(Me.__await).then(function(Ie){fe("next",Ie,be,Oe)},function(Ie){fe("throw",Ie,be,Oe)}):se.resolve(Me).then(function(Ie){je.value=Ie,be(je)},function(Ie){return fe("throw",Ie,be,Oe)})}Oe(Pe.arg)}var he;c(this,"_invoke",{value:function(ye,be){function Oe(){return new se(function(Pe,je){fe(ye,be,Pe,je)})}return he=he?he.then(Oe,Oe):Oe()}})}function we(ae,se,fe){var he=u;return function(_e,ye){if(he===Z)throw new Error("Generator is already running");if(he===J){if(_e==="throw")throw ye;return{value:A,done:!0}}for(fe.method=_e,fe.arg=ye;;){var be=fe.delegate;if(be){var Oe=Ee(be,fe);if(Oe){if(Oe===X)continue;return Oe}}if(fe.method==="next")fe.sent=fe._sent=fe.arg;else if(fe.method==="throw"){if(he===u)throw he=J,fe.arg;fe.dispatchException(fe.arg)}else fe.method==="return"&&fe.abrupt("return",fe.arg);he=Z;var Pe=i(ae,se,fe);if(Pe.type==="normal"){if(he=fe.done?J:D,Pe.arg===X)continue;return{value:Pe.arg,done:fe.done}}Pe.type==="throw"&&(he=J,fe.method="throw",fe.arg=Pe.arg)}}}function Ee(ae,se){var fe=se.method,he=ae.iterator[fe];if(he===A)return se.delegate=null,fe==="throw"&&ae.iterator.return&&(se.method="return",se.arg=A,Ee(ae,se),se.method==="throw")||fe!=="return"&&(se.method="throw",se.arg=new TypeError("The iterator does not provide a '"+fe+"' method")),X;var _e=i(he,ae.iterator,se.arg);if(_e.type==="throw")return se.method="throw",se.arg=_e.arg,se.delegate=null,X;var ye=_e.arg;return ye?ye.done?(se[ae.resultName]=ye.value,se.next=ae.nextLoc,se.method!=="return"&&(se.method="next",se.arg=A),se.delegate=null,X):ye:(se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,X)}function Le(ae){var se={tryLoc:ae[0]};1 in ae&&(se.catchLoc=ae[1]),2 in ae&&(se.finallyLoc=ae[2],se.afterLoc=ae[3]),this.tryEntries.push(se)}function ge(ae){var se=ae.completion||{};se.type="normal",delete se.arg,ae.completion=se}function oe(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(Le,this),this.reset(!0)}function ie(ae){if(ae||ae===""){var se=ae[I];if(se)return se.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var fe=-1,he=function _e(){for(;++fe<ae.length;)if(p.call(ae,fe))return _e.value=ae[fe],_e.done=!1,_e;return _e.value=A,_e.done=!0,_e};return he.next=he}}throw new TypeError(typeof ae+" is not iterable")}return Q.prototype=te,c(Se,"constructor",{value:te,configurable:!0}),c(te,"constructor",{value:Q,configurable:!0}),Q.displayName=y(te,b,"GeneratorFunction"),L.isGeneratorFunction=function(ae){var se=typeof ae=="function"&&ae.constructor;return!!se&&(se===Q||(se.displayName||se.name)==="GeneratorFunction")},L.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,te):(ae.__proto__=te,y(ae,b,"GeneratorFunction")),ae.prototype=Object.create(Se),ae},L.awrap=function(ae){return{__await:ae}},ve(ne.prototype),y(ne.prototype,F,function(){return this}),L.AsyncIterator=ne,L.async=function(ae,se,fe,he,_e){_e===void 0&&(_e=Promise);var ye=new ne(l(ae,se,fe,he),_e);return L.isGeneratorFunction(se)?ye:ye.next().then(function(be){return be.done?be.value:ye.next()})},ve(Se),y(Se,b,"Generator"),y(Se,I,function(){return this}),y(Se,"toString",function(){return"[object Generator]"}),L.keys=function(ae){var se=Object(ae),fe=[];for(var he in se)fe.push(he);return fe.reverse(),function _e(){for(;fe.length;){var ye=fe.pop();if(ye in se)return _e.value=ye,_e.done=!1,_e}return _e.done=!0,_e}},L.values=ie,oe.prototype={constructor:oe,reset:function(se){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(ge),!se)for(var fe in this)fe.charAt(0)==="t"&&p.call(this,fe)&&!isNaN(+fe.slice(1))&&(this[fe]=A)},stop:function(){this.done=!0;var se=this.tryEntries[0].completion;if(se.type==="throw")throw se.arg;return this.rval},dispatchException:function(se){if(this.done)throw se;var fe=this;function he(je,Me){return be.type="throw",be.arg=se,fe.next=je,Me&&(fe.method="next",fe.arg=A),!!Me}for(var _e=this.tryEntries.length-1;_e>=0;--_e){var ye=this.tryEntries[_e],be=ye.completion;if(ye.tryLoc==="root")return he("end");if(ye.tryLoc<=this.prev){var Oe=p.call(ye,"catchLoc"),Pe=p.call(ye,"finallyLoc");if(Oe&&Pe){if(this.prev<ye.catchLoc)return he(ye.catchLoc,!0);if(this.prev<ye.finallyLoc)return he(ye.finallyLoc)}else if(Oe){if(this.prev<ye.catchLoc)return he(ye.catchLoc,!0)}else{if(!Pe)throw new Error("try statement without catch or finally");if(this.prev<ye.finallyLoc)return he(ye.finallyLoc)}}}},abrupt:function(se,fe){for(var he=this.tryEntries.length-1;he>=0;--he){var _e=this.tryEntries[he];if(_e.tryLoc<=this.prev&&p.call(_e,"finallyLoc")&&this.prev<_e.finallyLoc){var ye=_e;break}}ye&&(se==="break"||se==="continue")&&ye.tryLoc<=fe&&fe<=ye.finallyLoc&&(ye=null);var be=ye?ye.completion:{};return be.type=se,be.arg=fe,ye?(this.method="next",this.next=ye.finallyLoc,X):this.complete(be)},complete:function(se,fe){if(se.type==="throw")throw se.arg;return se.type==="break"||se.type==="continue"?this.next=se.arg:se.type==="return"?(this.rval=this.arg=se.arg,this.method="return",this.next="end"):se.type==="normal"&&fe&&(this.next=fe),X},finish:function(se){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var he=this.tryEntries[fe];if(he.finallyLoc===se)return this.complete(he.completion,he.afterLoc),ge(he),X}},catch:function(se){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var he=this.tryEntries[fe];if(he.tryLoc===se){var _e=he.completion;if(_e.type==="throw"){var ye=_e.arg;ge(he)}return ye}}throw new Error("illegal catch attempt")},delegateYield:function(se,fe,he){return this.delegate={iterator:ie(se),resultName:fe,nextLoc:he},this.method==="next"&&(this.arg=A),X}},L}function K(A){return $(A)||H(A)||j(A)||q()}function q(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(A){if(typeof Symbol<"u"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function $(A){if(Array.isArray(A))return R(A)}function t(A,L,E,p,c,S,I){try{var F=A[S](I),b=F.value}catch(y){E(y);return}F.done?L(b):Promise.resolve(b).then(p,c)}function v(A){return function(){var L=this,E=arguments;return new Promise(function(p,c){var S=A.apply(L,E);function I(b){t(S,p,c,I,F,"next",b)}function F(b){t(S,p,c,I,F,"throw",b)}I(void 0)})}}function a(A,L){var E=Object.keys(A);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(A);L&&(p=p.filter(function(c){return Object.getOwnPropertyDescriptor(A,c).enumerable})),E.push.apply(E,p)}return E}function r(A){for(var L=1;L<arguments.length;L++){var E=arguments[L]!=null?arguments[L]:{};L%2?a(Object(E),!0).forEach(function(p){e(A,p,E[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(E)):a(Object(E)).forEach(function(p){Object.defineProperty(A,p,Object.getOwnPropertyDescriptor(E,p))})}return A}function e(A,L,E){return L=w(L),L in A?Object.defineProperty(A,L,{value:E,enumerable:!0,configurable:!0,writable:!0}):A[L]=E,A}function w(A){var L=C(A,"string");return typeof L=="symbol"?L:String(L)}function C(A,L){if(typeof A!="object"||!A)return A;var E=A[Symbol.toPrimitive];if(E!==void 0){var p=E.call(A,L||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(A)}function _(A,L){var E=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!E){if(Array.isArray(A)||(E=j(A))||L&&A&&typeof A.length=="number"){E&&(A=E);var p=0,c=function(){};return{s:c,n:function(){return p>=A.length?{done:!0}:{done:!1,value:A[p++]}},e:function(y){throw y},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var S=!0,I=!1,F;return{s:function(){E=E.call(A)},n:function(){var y=E.next();return S=y.done,y},e:function(y){I=!0,F=y},f:function(){try{!S&&E.return!=null&&E.return()}finally{if(I)throw F}}}}function s(A,L){return O(A)||d(A,L)||j(A,L)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(A,L){if(A){if(typeof A=="string")return R(A,L);var E=Object.prototype.toString.call(A).slice(8,-1);if(E==="Object"&&A.constructor&&(E=A.constructor.name),E==="Map"||E==="Set")return Array.from(A);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return R(A,L)}}function R(A,L){(L==null||L>A.length)&&(L=A.length);for(var E=0,p=new Array(L);E<L;E++)p[E]=A[E];return p}function d(A,L){var E=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(E!=null){var p,c,S,I,F=[],b=!0,y=!1;try{if(S=(E=E.call(A)).next,L===0){if(Object(E)!==E)return;b=!1}else for(;!(b=(p=S.call(E)).done)&&(F.push(p.value),F.length!==L);b=!0);}catch(l){y=!0,c=l}finally{try{if(!b&&E.return!=null&&(I=E.return(),Object(I)!==I))return}finally{if(y)throw c}}return F}}function O(A){if(Array.isArray(A))return A}var T="DELETE",o="UPDATE",n="project-buffer:get",g="project-buffer:patch",P={projectMetaPatch:"project-meta",screenGluePatch:"screen-glue",screenMetaPatch:"screen-meta"},N=Object.entries(P).reduce(function(A,L){var E=s(L,2),p=E[0],c=E[1];return A[c]=p,A},{}),h=64,G="list",k=function(L){var E=[],p=function(I,F){var b=I.deleteList,y=I.updateList,l=I.createCidList,i=P[F],u=new Set(l),D=_(b),Z;try{for(D.s();!(Z=D.n()).done;){var J=Z.value;E.push([T,i,J])}}catch(te){D.e(te)}finally{D.f()}var X=_(y),ee;try{for(X.s();!(ee=X.n()).done;){var Q=ee.value;E.push([o,i,Q,{isCreate:u.has(Q.cid)}])}}catch(te){X.e(te)}finally{X.f()}},c=function(){var I=(0,U.eO)(E,h);return I.map(function(F){return{projectMetaCid:L,data:JSON.stringify({projectMetaCid:L,[G]:F})}})};return{push:p,build:c}},B={isLogTo:!1,isLogToRaw:!1,isLogFrom:!1,isLogFromRaw:!1},z=function(L){Object.assign(B,r({},L))},Y=function(){var A=v(W().mark(function L(E){var p,c,S,I,F,b,y,l,i,u,D,Z,J,X,ee,Q,te,ce,pe,de,Se;return W().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:p=E.projectPatchList,c=E.gzipObjectToBufferAsync,B.isLogTo&&console.log("[toSaveQueueAsync]",p),S=[],I=[],F=_(p),ne.prev=5,F.s();case 7:if((b=F.n()).done){ne.next=45;break}if(y=b.value,l=y.projectMetaCid,i=y.projectMetaType,u=y.projectMetaPatch,D=y.screenGluePatch,Z=y.screenMetaPatch,J=y.screenRuntimeStatePatch,X=k(l),u&&X.push(u,"projectMetaPatch"),D&&X.push(D,"screenGluePatch"),Z&&X.push(Z,"screenMetaPatch"),S.push.apply(S,K(X.build())),!J){ne.next=43;break}ee=_(J),ne.prev=17,ee.s();case 19:if((Q=ee.n()).done){ne.next=35;break}return te=Q.value,ce=te.screenMetaCid,pe=te.statePatchList,de=te.isCreate,Se=(0,x.tF)(ce,pe),ne.t0=I,ne.t1=g,ne.t2=l,ne.t3=i,ne.t4=ce,ne.next=29,c(Se);case 29:ne.t5=ne.sent,ne.t6=de,ne.t7={action:ne.t1,projectMetaCid:ne.t2,projectMetaType:ne.t3,localKey:ne.t4,data:ne.t5,isCreate:ne.t6},ne.t0.push.call(ne.t0,ne.t7);case 33:ne.next=19;break;case 35:ne.next=40;break;case 37:ne.prev=37,ne.t8=ne.catch(17),ee.e(ne.t8);case 40:return ne.prev=40,ee.f(),ne.finish(40);case 43:ne.next=7;break;case 45:ne.next=50;break;case 47:ne.prev=47,ne.t9=ne.catch(5),F.e(ne.t9);case 50:return ne.prev=50,F.f(),ne.finish(50);case 53:return B.isLogToRaw&&console.log("[toSaveQueueAsync]",{jsonSaveQueue:S,bufferSaveQueue:I}),ne.abrupt("return",{jsonSaveQueue:S,bufferSaveQueue:I});case 55:case"end":return ne.stop()}},L,null,[[5,47,50,53],[17,37,40,43]])}));return function(E){return A.apply(this,arguments)}}(),le=function(){var A=v(W().mark(function L(E){var p,c,S,I,F,b,y,l,i,u,D,Z,J,X,ee,Q,te,ce,pe,de,Se,ve,ne,we,Ee,Le,ge,oe,ie,ae,se;return W().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:p=E.jsonSaveQueue,c=p===void 0?[]:p,S=E.bufferSaveQueue,I=S===void 0?[]:S,F=E.gunzipObjectFromBufferAsync,B.isLogFromRaw&&console.log("[fromSaveQueueAsync]",{jsonSaveQueue:c,bufferSaveQueue:I}),b=new Map,y=function(ye){var be=b.get(ye);return be===void 0&&(be={projectMetaCid:ye,projectMetaPatch:{deleteList:[],updateList:[],createCidList:[]},screenGluePatch:{deleteList:[],updateList:[],createCidList:[]},screenMetaPatch:{deleteList:[],updateList:[],createCidList:[]},screenRuntimeStatePatch:[]},b.set(ye,be)),be},l=_(c),he.prev=5,l.s();case 7:if((i=l.n()).done){he.next=35;break}u=i.value.data,D=JSON.parse(u),Z=D.projectMetaCid,J=D[G],X=_(J),he.prev=11,X.s();case 13:if((ee=X.n()).done){he.next=25;break}Q=s(ee.value,4),te=Q[0],ce=Q[1],pe=Q[2],de=Q[3],he.t0=te,he.next=he.t0===T?18:he.t0===o?20:23;break;case 18:return y(Z)[N[ce]].deleteList.push(pe),he.abrupt("break",23);case 20:return y(Z)[N[ce]].updateList.push(pe),de&&de.isCreate&&y(Z)[N[ce]].createCidList.push(pe.cid),he.abrupt("break",23);case 23:he.next=13;break;case 25:he.next=30;break;case 27:he.prev=27,he.t1=he.catch(11),X.e(he.t1);case 30:return he.prev=30,X.f(),he.finish(30);case 33:he.next=7;break;case 35:he.next=40;break;case 37:he.prev=37,he.t2=he.catch(5),l.e(he.t2);case 40:return he.prev=40,l.f(),he.finish(40);case 43:Se=_(I),he.prev=44,Se.s();case 46:if((ve=Se.n()).done){he.next=58;break}if(ne=ve.value,we=ne.action,Ee=ne.projectMetaCid,Le=ne.localKey,ge=ne.data,oe=ne.isCreate,we===g){he.next=50;break}return he.abrupt("continue",56);case 50:return he.next=52,F(ge);case 52:ie=he.sent,(0,x.Tb)(ie),ae=ie.statePatchList,y(Ee).screenRuntimeStatePatch.push({screenMetaCid:Le,statePatchList:ae,isCreate:oe});case 56:he.next=46;break;case 58:he.next=63;break;case 60:he.prev=60,he.t3=he.catch(44),Se.e(he.t3);case 63:return he.prev=63,Se.f(),he.finish(63);case 66:return se=K(b.values()),B.isLogFrom&&console.log("[fromSaveQueueAsync]",se),he.abrupt("return",{projectPatchList:se});case 69:case"end":return he.stop()}},L,null,[[5,37,40,43],[11,27,30,33],[44,60,63,66]])}));return function(E){return A.apply(this,arguments)}}(),ue=function(L){for(var E=L.urlBatchSaveAction,p=L.userAuthCookie,c=L.jsonSaveQueue,S=c===void 0?[]:c,I=[],F={cookie:p,accept:"*/*","content-type":"application/json"},b=0,y=S.length;b<y;b++){var l=S[b],i=l.projectMetaCid,u=l.data,D=new URL(i,E).toString();I.push([D,{method:"PUT",headers:F,body:u}])}return I},V=function(L){for(var E=L.urlBatchSaveAction,p=L.userAuthCookie,c=L.bufferSaveQueue,S=c===void 0?[]:c,I=[],F={cookie:p},b=0,y=S.length;b<y;b++){var l=S[b],i=l.action,u=l.projectMetaCid,D=l.projectMetaType,Z=l.localKey,J=l.data;if(i===g){var X=new URL(D+"/"+u+"/"+Z,E).toString();I.push([X,{method:"PUT",headers:F,body:J}])}}return I},re=function(L){for(var E=L.userId,p=L.bufferSaveQueue,c=p===void 0?[]:p,S=[],I=0,F=c.length;I<F;I++){var b=c[I],y=b.action,l=b.projectMetaCid,i=b.localKey;y===g&&S.push([y,l,i])}return{type:"receipt:bufferSaveQueue",userId:E,bufferActionList:S}}},33532:function(me,M,m){"use strict";m.d(M,{V$:function(){return x},qC:function(){return W}});var U=m(15969),x=function(H,$){},W=function(H,$){return H=(0,U.u)(H),H},K=function(H,$){}},41367:function(me,M,m){"use strict";m.d(M,{J:function(){return U},x:function(){return x}});var U=function(K){return Math.round(K*100)/100},x=function(){return U(Date.now()*.001)}},97582:function(me,M,m){"use strict";m.d(M,{LG:function(){return w},SX:function(){return C},eP:function(){return r},pY:function(){return e}});var U=m(72725),x=m(31583),W=m(37401),K=m(81112);function q(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */q=function(){return s};var _,s={},f=Object.prototype,j=f.hasOwnProperty,R=Object.defineProperty||function(y,l,i){y[l]=i.value},d=typeof Symbol=="function"?Symbol:{},O=d.iterator||"@@iterator",T=d.asyncIterator||"@@asyncIterator",o=d.toStringTag||"@@toStringTag";function n(y,l,i){return Object.defineProperty(y,l,{value:i,enumerable:!0,configurable:!0,writable:!0}),y[l]}try{n({},"")}catch(y){n=function(i,u,D){return i[u]=D}}function g(y,l,i,u){var D=l&&l.prototype instanceof z?l:z,Z=Object.create(D.prototype),J=new F(u||[]);return R(Z,"_invoke",{value:p(y,i,J)}),Z}function P(y,l,i){try{return{type:"normal",arg:y.call(l,i)}}catch(u){return{type:"throw",arg:u}}}s.wrap=g;var N="suspendedStart",h="suspendedYield",G="executing",k="completed",B={};function z(){}function Y(){}function le(){}var ue={};n(ue,O,function(){return this});var V=Object.getPrototypeOf,re=V&&V(V(b([])));re&&re!==f&&j.call(re,O)&&(ue=re);var A=le.prototype=z.prototype=Object.create(ue);function L(y){["next","throw","return"].forEach(function(l){n(y,l,function(i){return this._invoke(l,i)})})}function E(y,l){function i(D,Z,J,X){var ee=P(y[D],y,Z);if(ee.type!=="throw"){var Q=ee.arg,te=Q.value;return te&&typeof te=="object"&&j.call(te,"__await")?l.resolve(te.__await).then(function(ce){i("next",ce,J,X)},function(ce){i("throw",ce,J,X)}):l.resolve(te).then(function(ce){Q.value=ce,J(Q)},function(ce){return i("throw",ce,J,X)})}X(ee.arg)}var u;R(this,"_invoke",{value:function(Z,J){function X(){return new l(function(ee,Q){i(Z,J,ee,Q)})}return u=u?u.then(X,X):X()}})}function p(y,l,i){var u=N;return function(D,Z){if(u===G)throw new Error("Generator is already running");if(u===k){if(D==="throw")throw Z;return{value:_,done:!0}}for(i.method=D,i.arg=Z;;){var J=i.delegate;if(J){var X=c(J,i);if(X){if(X===B)continue;return X}}if(i.method==="next")i.sent=i._sent=i.arg;else if(i.method==="throw"){if(u===N)throw u=k,i.arg;i.dispatchException(i.arg)}else i.method==="return"&&i.abrupt("return",i.arg);u=G;var ee=P(y,l,i);if(ee.type==="normal"){if(u=i.done?k:h,ee.arg===B)continue;return{value:ee.arg,done:i.done}}ee.type==="throw"&&(u=k,i.method="throw",i.arg=ee.arg)}}}function c(y,l){var i=l.method,u=y.iterator[i];if(u===_)return l.delegate=null,i==="throw"&&y.iterator.return&&(l.method="return",l.arg=_,c(y,l),l.method==="throw")||i!=="return"&&(l.method="throw",l.arg=new TypeError("The iterator does not provide a '"+i+"' method")),B;var D=P(u,y.iterator,l.arg);if(D.type==="throw")return l.method="throw",l.arg=D.arg,l.delegate=null,B;var Z=D.arg;return Z?Z.done?(l[y.resultName]=Z.value,l.next=y.nextLoc,l.method!=="return"&&(l.method="next",l.arg=_),l.delegate=null,B):Z:(l.method="throw",l.arg=new TypeError("iterator result is not an object"),l.delegate=null,B)}function S(y){var l={tryLoc:y[0]};1 in y&&(l.catchLoc=y[1]),2 in y&&(l.finallyLoc=y[2],l.afterLoc=y[3]),this.tryEntries.push(l)}function I(y){var l=y.completion||{};l.type="normal",delete l.arg,y.completion=l}function F(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(S,this),this.reset(!0)}function b(y){if(y||y===""){var l=y[O];if(l)return l.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var i=-1,u=function D(){for(;++i<y.length;)if(j.call(y,i))return D.value=y[i],D.done=!1,D;return D.value=_,D.done=!0,D};return u.next=u}}throw new TypeError(typeof y+" is not iterable")}return Y.prototype=le,R(A,"constructor",{value:le,configurable:!0}),R(le,"constructor",{value:Y,configurable:!0}),Y.displayName=n(le,o,"GeneratorFunction"),s.isGeneratorFunction=function(y){var l=typeof y=="function"&&y.constructor;return!!l&&(l===Y||(l.displayName||l.name)==="GeneratorFunction")},s.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,le):(y.__proto__=le,n(y,o,"GeneratorFunction")),y.prototype=Object.create(A),y},s.awrap=function(y){return{__await:y}},L(E.prototype),n(E.prototype,T,function(){return this}),s.AsyncIterator=E,s.async=function(y,l,i,u,D){D===void 0&&(D=Promise);var Z=new E(g(y,l,i,u),D);return s.isGeneratorFunction(l)?Z:Z.next().then(function(J){return J.done?J.value:Z.next()})},L(A),n(A,o,"Generator"),n(A,O,function(){return this}),n(A,"toString",function(){return"[object Generator]"}),s.keys=function(y){var l=Object(y),i=[];for(var u in l)i.push(u);return i.reverse(),function D(){for(;i.length;){var Z=i.pop();if(Z in l)return D.value=Z,D.done=!1,D}return D.done=!0,D}},s.values=b,F.prototype={constructor:F,reset:function(l){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(I),!l)for(var i in this)i.charAt(0)==="t"&&j.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=_)},stop:function(){this.done=!0;var l=this.tryEntries[0].completion;if(l.type==="throw")throw l.arg;return this.rval},dispatchException:function(l){if(this.done)throw l;var i=this;function u(Q,te){return J.type="throw",J.arg=l,i.next=Q,te&&(i.method="next",i.arg=_),!!te}for(var D=this.tryEntries.length-1;D>=0;--D){var Z=this.tryEntries[D],J=Z.completion;if(Z.tryLoc==="root")return u("end");if(Z.tryLoc<=this.prev){var X=j.call(Z,"catchLoc"),ee=j.call(Z,"finallyLoc");if(X&&ee){if(this.prev<Z.catchLoc)return u(Z.catchLoc,!0);if(this.prev<Z.finallyLoc)return u(Z.finallyLoc)}else if(X){if(this.prev<Z.catchLoc)return u(Z.catchLoc,!0)}else{if(!ee)throw new Error("try statement without catch or finally");if(this.prev<Z.finallyLoc)return u(Z.finallyLoc)}}}},abrupt:function(l,i){for(var u=this.tryEntries.length-1;u>=0;--u){var D=this.tryEntries[u];if(D.tryLoc<=this.prev&&j.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var Z=D;break}}Z&&(l==="break"||l==="continue")&&Z.tryLoc<=i&&i<=Z.finallyLoc&&(Z=null);var J=Z?Z.completion:{};return J.type=l,J.arg=i,Z?(this.method="next",this.next=Z.finallyLoc,B):this.complete(J)},complete:function(l,i){if(l.type==="throw")throw l.arg;return l.type==="break"||l.type==="continue"?this.next=l.arg:l.type==="return"?(this.rval=this.arg=l.arg,this.method="return",this.next="end"):l.type==="normal"&&i&&(this.next=i),B},finish:function(l){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.finallyLoc===l)return this.complete(u.completion,u.afterLoc),I(u),B}},catch:function(l){for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i];if(u.tryLoc===l){var D=u.completion;if(D.type==="throw"){var Z=D.arg;I(u)}return Z}}throw new Error("illegal catch attempt")},delegateYield:function(l,i,u){return this.delegate={iterator:b(l),resultName:i,nextLoc:u},this.method==="next"&&(this.arg=_),B}},s}function H(_,s,f,j,R,d,O){try{var T=_[d](O),o=T.value}catch(n){f(n);return}T.done?s(o):Promise.resolve(o).then(j,R)}function $(_){return function(){var s=this,f=arguments;return new Promise(function(j,R){var d=_.apply(s,f);function O(o){H(d,j,R,O,T,"next",o)}function T(o){H(d,j,R,O,T,"throw",o)}O(void 0)})}}var t="/snapshot.png",v="/snapshot/task",a="/images/preview/image-load.png",r=function(s){var f=s.urlSnapshotPng,j=f===void 0?t:f,R=s.zoomMode,d=R===void 0?x.NI.THUMBNAIL:R,O=s.projectMetaCid,T=s.screenMetaCid,o=s.screenStateCid,n=s.cacheTag;return j+"?"+new URLSearchParams({projectMetaCid:O,screenMetaCid:T,screenStateCid:o,zoomMode:d,cacheTag:n})},e=function(s){var f=s.urlSnapshotPng,j=f===void 0?t:f,R=s.urlPngFallback,d=R===void 0?a:R,O=s.imageElement,T=s.zoomMode,o=s.cacheTag,n=o===void 0?Date.now().toString(36):o,g=s.projectMetaCid,P=s.screenMetaCid,N=s.screenStateCid;return new Promise(function(h,G){var k=r({urlSnapshotPng:j,zoomMode:T,projectMetaCid:g,screenMetaCid:P,screenStateCid:N,cacheTag:n});O.onerror=function(){O.src=d,G(new Error("failed to load "+k))},O.onload=function(){return h(O)},O.src=k})},w=function(){var _=$(q().mark(function s(f){var j,R,d,O,T,o,n,g,P,N,h,G;return q().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return j=f.urlSnapshotPng,R=j===void 0?t:j,d=f.urlPngFallback,O=d===void 0?a:d,T=f.zoomMode,o=f.projectMetaCid,n=f.screenMetaCid,g=f.screenStateCid,P=f.screenMetaList,N=r({urlSnapshotPng:R,urlPngFallback:O,zoomMode:T,projectMetaCid:o,screenMetaCid:n,screenStateCid:g}),h=(0,K.S)({screenMetaList:P,screenMetaCid:n}),G=h.filenamePng,B.abrupt("return",{urlPng:N,filenamePng:G});case 4:case"end":return B.stop()}},s)}));return function(f){return _.apply(this,arguments)}}(),C=function(){var _=$(q().mark(function s(f){var j,R,d,O,T,o,n,g,P,N,h,G,k;return q().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return j=f.urlSnapshotTask,R=j===void 0?v:j,d=f.zoomMode,O=f.projectMetaCid,T=f.screenMetaCidList,o=f.screenMetaFolderCidList,n=f.onProgress,g=n===void 0?function(Y){}:n,z.next=3,(0,U.W)(R,{method:"POST",body:JSON.stringify({taskMode:x.wC.PNG_ZIP_FILE_ALL,zoomMode:d,projectMetaCid:O,screenMetaCidList:T,screenMetaFolderCidList:o})});case 3:return z.next=5,z.sent.json();case 5:return P=z.sent,N=P.taskId,z.next=9,(0,W.k)($(q().mark(function Y(){var le,ue,V,re;return q().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,U.W)(R+"/"+N);case 2:return L.next=4,L.sent.json();case 4:if(le=L.sent,ue=le.error,V=le.result,re=le.progress,g&&g(re),!ue){L.next=11;break}throw new Error("[requestSnapshotPngZip] error: "+ue);case 11:if(re===100){L.next=13;break}return L.abrupt("return",!1);case 13:return L.abrupt("return",V);case 14:case"end":return L.stop()}},Y)})),250,5e3,6e5);case 9:return h=z.sent,G=h.zipFilename,k=h.cacheZipFileAccelRoute,z.abrupt("return",{urlPngZip:k,filenamePngZip:G});case 13:case"end":return z.stop()}},s)}));return function(f){return _.apply(this,arguments)}}()},37401:function(me,M,m){"use strict";m.d(M,{k:function(){return q}});var U=m(71114);function x(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */x=function(){return $};var H,$={},t=Object.prototype,v=t.hasOwnProperty,a=Object.defineProperty||function(A,L,E){A[L]=E.value},r=typeof Symbol=="function"?Symbol:{},e=r.iterator||"@@iterator",w=r.asyncIterator||"@@asyncIterator",C=r.toStringTag||"@@toStringTag";function _(A,L,E){return Object.defineProperty(A,L,{value:E,enumerable:!0,configurable:!0,writable:!0}),A[L]}try{_({},"")}catch(A){_=function(E,p,c){return E[p]=c}}function s(A,L,E,p){var c=L&&L.prototype instanceof o?L:o,S=Object.create(c.prototype),I=new V(p||[]);return a(S,"_invoke",{value:z(A,E,I)}),S}function f(A,L,E){try{return{type:"normal",arg:A.call(L,E)}}catch(p){return{type:"throw",arg:p}}}$.wrap=s;var j="suspendedStart",R="suspendedYield",d="executing",O="completed",T={};function o(){}function n(){}function g(){}var P={};_(P,e,function(){return this});var N=Object.getPrototypeOf,h=N&&N(N(re([])));h&&h!==t&&v.call(h,e)&&(P=h);var G=g.prototype=o.prototype=Object.create(P);function k(A){["next","throw","return"].forEach(function(L){_(A,L,function(E){return this._invoke(L,E)})})}function B(A,L){function E(c,S,I,F){var b=f(A[c],A,S);if(b.type!=="throw"){var y=b.arg,l=y.value;return l&&typeof l=="object"&&v.call(l,"__await")?L.resolve(l.__await).then(function(i){E("next",i,I,F)},function(i){E("throw",i,I,F)}):L.resolve(l).then(function(i){y.value=i,I(y)},function(i){return E("throw",i,I,F)})}F(b.arg)}var p;a(this,"_invoke",{value:function(S,I){function F(){return new L(function(b,y){E(S,I,b,y)})}return p=p?p.then(F,F):F()}})}function z(A,L,E){var p=j;return function(c,S){if(p===d)throw new Error("Generator is already running");if(p===O){if(c==="throw")throw S;return{value:H,done:!0}}for(E.method=c,E.arg=S;;){var I=E.delegate;if(I){var F=Y(I,E);if(F){if(F===T)continue;return F}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(p===j)throw p=O,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);p=d;var b=f(A,L,E);if(b.type==="normal"){if(p=E.done?O:R,b.arg===T)continue;return{value:b.arg,done:E.done}}b.type==="throw"&&(p=O,E.method="throw",E.arg=b.arg)}}}function Y(A,L){var E=L.method,p=A.iterator[E];if(p===H)return L.delegate=null,E==="throw"&&A.iterator.return&&(L.method="return",L.arg=H,Y(A,L),L.method==="throw")||E!=="return"&&(L.method="throw",L.arg=new TypeError("The iterator does not provide a '"+E+"' method")),T;var c=f(p,A.iterator,L.arg);if(c.type==="throw")return L.method="throw",L.arg=c.arg,L.delegate=null,T;var S=c.arg;return S?S.done?(L[A.resultName]=S.value,L.next=A.nextLoc,L.method!=="return"&&(L.method="next",L.arg=H),L.delegate=null,T):S:(L.method="throw",L.arg=new TypeError("iterator result is not an object"),L.delegate=null,T)}function le(A){var L={tryLoc:A[0]};1 in A&&(L.catchLoc=A[1]),2 in A&&(L.finallyLoc=A[2],L.afterLoc=A[3]),this.tryEntries.push(L)}function ue(A){var L=A.completion||{};L.type="normal",delete L.arg,A.completion=L}function V(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(le,this),this.reset(!0)}function re(A){if(A||A===""){var L=A[e];if(L)return L.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var E=-1,p=function c(){for(;++E<A.length;)if(v.call(A,E))return c.value=A[E],c.done=!1,c;return c.value=H,c.done=!0,c};return p.next=p}}throw new TypeError(typeof A+" is not iterable")}return n.prototype=g,a(G,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:n,configurable:!0}),n.displayName=_(g,C,"GeneratorFunction"),$.isGeneratorFunction=function(A){var L=typeof A=="function"&&A.constructor;return!!L&&(L===n||(L.displayName||L.name)==="GeneratorFunction")},$.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,g):(A.__proto__=g,_(A,C,"GeneratorFunction")),A.prototype=Object.create(G),A},$.awrap=function(A){return{__await:A}},k(B.prototype),_(B.prototype,w,function(){return this}),$.AsyncIterator=B,$.async=function(A,L,E,p,c){c===void 0&&(c=Promise);var S=new B(s(A,L,E,p),c);return $.isGeneratorFunction(L)?S:S.next().then(function(I){return I.done?I.value:S.next()})},k(G),_(G,C,"Generator"),_(G,e,function(){return this}),_(G,"toString",function(){return"[object Generator]"}),$.keys=function(A){var L=Object(A),E=[];for(var p in L)E.push(p);return E.reverse(),function c(){for(;E.length;){var S=E.pop();if(S in L)return c.value=S,c.done=!1,c}return c.done=!0,c}},$.values=re,V.prototype={constructor:V,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=H,this.done=!1,this.delegate=null,this.method="next",this.arg=H,this.tryEntries.forEach(ue),!L)for(var E in this)E.charAt(0)==="t"&&v.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=H)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if(L.type==="throw")throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var E=this;function p(y,l){return I.type="throw",I.arg=L,E.next=y,l&&(E.method="next",E.arg=H),!!l}for(var c=this.tryEntries.length-1;c>=0;--c){var S=this.tryEntries[c],I=S.completion;if(S.tryLoc==="root")return p("end");if(S.tryLoc<=this.prev){var F=v.call(S,"catchLoc"),b=v.call(S,"finallyLoc");if(F&&b){if(this.prev<S.catchLoc)return p(S.catchLoc,!0);if(this.prev<S.finallyLoc)return p(S.finallyLoc)}else if(F){if(this.prev<S.catchLoc)return p(S.catchLoc,!0)}else{if(!b)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return p(S.finallyLoc)}}}},abrupt:function(L,E){for(var p=this.tryEntries.length-1;p>=0;--p){var c=this.tryEntries[p];if(c.tryLoc<=this.prev&&v.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var S=c;break}}S&&(L==="break"||L==="continue")&&S.tryLoc<=E&&E<=S.finallyLoc&&(S=null);var I=S?S.completion:{};return I.type=L,I.arg=E,S?(this.method="next",this.next=S.finallyLoc,T):this.complete(I)},complete:function(L,E){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&E&&(this.next=E),T},finish:function(L){for(var E=this.tryEntries.length-1;E>=0;--E){var p=this.tryEntries[E];if(p.finallyLoc===L)return this.complete(p.completion,p.afterLoc),ue(p),T}},catch:function(L){for(var E=this.tryEntries.length-1;E>=0;--E){var p=this.tryEntries[E];if(p.tryLoc===L){var c=p.completion;if(c.type==="throw"){var S=c.arg;ue(p)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(L,E,p){return this.delegate={iterator:re(L),resultName:E,nextLoc:p},this.method==="next"&&(this.arg=H),T}},$}function W(H,$,t,v,a,r,e){try{var w=H[r](e),C=w.value}catch(_){t(_);return}w.done?$(C):Promise.resolve(C).then(v,a)}function K(H){return function(){var $=this,t=arguments;return new Promise(function(v,a){var r=H.apply($,t);function e(C){W(r,v,a,e,w,"next",C)}function w(C){W(r,v,a,e,w,"throw",C)}e(void 0)})}}var q=function(){var H=K(x().mark(function $(t,v,a,r){var e,w,C;return x().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:v===void 0&&(v=250),a===void 0&&(a=5e3),r===void 0&&(r=1/0),e=v,w=0;case 5:if(!(w<r)){s.next=17;break}return s.next=8,(0,U.Kb)(e);case 8:return s.next=10,t();case 10:if(C=s.sent,!C){s.next=13;break}return s.abrupt("return",C);case 13:w+=e,e=Math.min(e+v,a),s.next=5;break;case 17:throw new Error("reach delaySumLimit: "+r);case 18:case"end":return s.stop()}},$)}));return function(t,v,a,r){return H.apply(this,arguments)}}()},35425:function(me,M,m){"use strict";m.d(M,{E7:function(){return R},UI:function(){return f},og:function(){return j}});var U=m(63828),x=m(18802),W=m.n(x),K=m(92104);function q(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */q=function(){return n};var o,n={},g=Object.prototype,P=g.hasOwnProperty,N=Object.defineProperty||function(ee,Q,te){ee[Q]=te.value},h=typeof Symbol=="function"?Symbol:{},G=h.iterator||"@@iterator",k=h.asyncIterator||"@@asyncIterator",B=h.toStringTag||"@@toStringTag";function z(ee,Q,te){return Object.defineProperty(ee,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}),ee[Q]}try{z({},"")}catch(ee){z=function(te,ce,pe){return te[ce]=pe}}function Y(ee,Q,te,ce){var pe=Q&&Q.prototype instanceof E?Q:E,de=Object.create(pe.prototype),Se=new J(ce||[]);return N(de,"_invoke",{value:i(ee,te,Se)}),de}function le(ee,Q,te){try{return{type:"normal",arg:ee.call(Q,te)}}catch(ce){return{type:"throw",arg:ce}}}n.wrap=Y;var ue="suspendedStart",V="suspendedYield",re="executing",A="completed",L={};function E(){}function p(){}function c(){}var S={};z(S,G,function(){return this});var I=Object.getPrototypeOf,F=I&&I(I(X([])));F&&F!==g&&P.call(F,G)&&(S=F);var b=c.prototype=E.prototype=Object.create(S);function y(ee){["next","throw","return"].forEach(function(Q){z(ee,Q,function(te){return this._invoke(Q,te)})})}function l(ee,Q){function te(pe,de,Se,ve){var ne=le(ee[pe],ee,de);if(ne.type!=="throw"){var we=ne.arg,Ee=we.value;return Ee&&typeof Ee=="object"&&P.call(Ee,"__await")?Q.resolve(Ee.__await).then(function(Le){te("next",Le,Se,ve)},function(Le){te("throw",Le,Se,ve)}):Q.resolve(Ee).then(function(Le){we.value=Le,Se(we)},function(Le){return te("throw",Le,Se,ve)})}ve(ne.arg)}var ce;N(this,"_invoke",{value:function(de,Se){function ve(){return new Q(function(ne,we){te(de,Se,ne,we)})}return ce=ce?ce.then(ve,ve):ve()}})}function i(ee,Q,te){var ce=ue;return function(pe,de){if(ce===re)throw new Error("Generator is already running");if(ce===A){if(pe==="throw")throw de;return{value:o,done:!0}}for(te.method=pe,te.arg=de;;){var Se=te.delegate;if(Se){var ve=u(Se,te);if(ve){if(ve===L)continue;return ve}}if(te.method==="next")te.sent=te._sent=te.arg;else if(te.method==="throw"){if(ce===ue)throw ce=A,te.arg;te.dispatchException(te.arg)}else te.method==="return"&&te.abrupt("return",te.arg);ce=re;var ne=le(ee,Q,te);if(ne.type==="normal"){if(ce=te.done?A:V,ne.arg===L)continue;return{value:ne.arg,done:te.done}}ne.type==="throw"&&(ce=A,te.method="throw",te.arg=ne.arg)}}}function u(ee,Q){var te=Q.method,ce=ee.iterator[te];if(ce===o)return Q.delegate=null,te==="throw"&&ee.iterator.return&&(Q.method="return",Q.arg=o,u(ee,Q),Q.method==="throw")||te!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+te+"' method")),L;var pe=le(ce,ee.iterator,Q.arg);if(pe.type==="throw")return Q.method="throw",Q.arg=pe.arg,Q.delegate=null,L;var de=pe.arg;return de?de.done?(Q[ee.resultName]=de.value,Q.next=ee.nextLoc,Q.method!=="return"&&(Q.method="next",Q.arg=o),Q.delegate=null,L):de:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,L)}function D(ee){var Q={tryLoc:ee[0]};1 in ee&&(Q.catchLoc=ee[1]),2 in ee&&(Q.finallyLoc=ee[2],Q.afterLoc=ee[3]),this.tryEntries.push(Q)}function Z(ee){var Q=ee.completion||{};Q.type="normal",delete Q.arg,ee.completion=Q}function J(ee){this.tryEntries=[{tryLoc:"root"}],ee.forEach(D,this),this.reset(!0)}function X(ee){if(ee||ee===""){var Q=ee[G];if(Q)return Q.call(ee);if(typeof ee.next=="function")return ee;if(!isNaN(ee.length)){var te=-1,ce=function pe(){for(;++te<ee.length;)if(P.call(ee,te))return pe.value=ee[te],pe.done=!1,pe;return pe.value=o,pe.done=!0,pe};return ce.next=ce}}throw new TypeError(typeof ee+" is not iterable")}return p.prototype=c,N(b,"constructor",{value:c,configurable:!0}),N(c,"constructor",{value:p,configurable:!0}),p.displayName=z(c,B,"GeneratorFunction"),n.isGeneratorFunction=function(ee){var Q=typeof ee=="function"&&ee.constructor;return!!Q&&(Q===p||(Q.displayName||Q.name)==="GeneratorFunction")},n.mark=function(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,c):(ee.__proto__=c,z(ee,B,"GeneratorFunction")),ee.prototype=Object.create(b),ee},n.awrap=function(ee){return{__await:ee}},y(l.prototype),z(l.prototype,k,function(){return this}),n.AsyncIterator=l,n.async=function(ee,Q,te,ce,pe){pe===void 0&&(pe=Promise);var de=new l(Y(ee,Q,te,ce),pe);return n.isGeneratorFunction(Q)?de:de.next().then(function(Se){return Se.done?Se.value:de.next()})},y(b),z(b,B,"Generator"),z(b,G,function(){return this}),z(b,"toString",function(){return"[object Generator]"}),n.keys=function(ee){var Q=Object(ee),te=[];for(var ce in Q)te.push(ce);return te.reverse(),function pe(){for(;te.length;){var de=te.pop();if(de in Q)return pe.value=de,pe.done=!1,pe}return pe.done=!0,pe}},n.values=X,J.prototype={constructor:J,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Z),!Q)for(var te in this)te.charAt(0)==="t"&&P.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=o)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var te=this;function ce(we,Ee){return Se.type="throw",Se.arg=Q,te.next=we,Ee&&(te.method="next",te.arg=o),!!Ee}for(var pe=this.tryEntries.length-1;pe>=0;--pe){var de=this.tryEntries[pe],Se=de.completion;if(de.tryLoc==="root")return ce("end");if(de.tryLoc<=this.prev){var ve=P.call(de,"catchLoc"),ne=P.call(de,"finallyLoc");if(ve&&ne){if(this.prev<de.catchLoc)return ce(de.catchLoc,!0);if(this.prev<de.finallyLoc)return ce(de.finallyLoc)}else if(ve){if(this.prev<de.catchLoc)return ce(de.catchLoc,!0)}else{if(!ne)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return ce(de.finallyLoc)}}}},abrupt:function(Q,te){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var pe=this.tryEntries[ce];if(pe.tryLoc<=this.prev&&P.call(pe,"finallyLoc")&&this.prev<pe.finallyLoc){var de=pe;break}}de&&(Q==="break"||Q==="continue")&&de.tryLoc<=te&&te<=de.finallyLoc&&(de=null);var Se=de?de.completion:{};return Se.type=Q,Se.arg=te,de?(this.method="next",this.next=de.finallyLoc,L):this.complete(Se)},complete:function(Q,te){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&te&&(this.next=te),L},finish:function(Q){for(var te=this.tryEntries.length-1;te>=0;--te){var ce=this.tryEntries[te];if(ce.finallyLoc===Q)return this.complete(ce.completion,ce.afterLoc),Z(ce),L}},catch:function(Q){for(var te=this.tryEntries.length-1;te>=0;--te){var ce=this.tryEntries[te];if(ce.tryLoc===Q){var pe=ce.completion;if(pe.type==="throw"){var de=pe.arg;Z(ce)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(Q,te,ce){return this.delegate={iterator:X(Q),resultName:te,nextLoc:ce},this.method==="next"&&(this.arg=o),L}},n}function H(o,n,g,P,N,h,G){try{var k=o[h](G),B=k.value}catch(z){g(z);return}k.done?n(B):Promise.resolve(B).then(P,N)}function $(o){return function(){var n=this,g=arguments;return new Promise(function(P,N){var h=o.apply(n,g);function G(B){H(h,P,N,G,k,"next",B)}function k(B){H(h,P,N,G,k,"throw",B)}G(void 0)})}}function t(o,n){var g=Object.keys(o);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(o);n&&(P=P.filter(function(N){return Object.getOwnPropertyDescriptor(o,N).enumerable})),g.push.apply(g,P)}return g}function v(o){for(var n=1;n<arguments.length;n++){var g=arguments[n]!=null?arguments[n]:{};n%2?t(Object(g),!0).forEach(function(P){a(o,P,g[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(g)):t(Object(g)).forEach(function(P){Object.defineProperty(o,P,Object.getOwnPropertyDescriptor(g,P))})}return o}function a(o,n,g){return n=r(n),n in o?Object.defineProperty(o,n,{value:g,enumerable:!0,configurable:!0,writable:!0}):o[n]=g,o}function r(o){var n=e(o,"string");return typeof n=="symbol"?n:String(n)}function e(o,n){if(typeof o!="object"||!o)return o;var g=o[Symbol.toPrimitive];if(g!==void 0){var P=g.call(o,n||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(o)}var w="/",C=4*1e3,_=16*1e3,s=32*1e3,f=function(n){var g=n===void 0?{}:n,P=g.isSocketPolling,N=P===void 0?!1:P,h=g.reconnectionDelayInitialMin,G=h===void 0?C:h,k=g.reconnectionDelayInitialMax,B=k===void 0?_:k,z=g.reconnectionDelayMax,Y=z===void 0?s:z;return{transports:N?["polling","websocket"]:["websocket"],reconnectionDelay:Math.round((G+B)/2),reconnectionDelayMax:Y,randomizationFactor:(B-G)/(B+G)}},j=function(n){var g=n.userId,P=n.uTag,N=P===void 0?"-":P,h=n.socketUrl,G=n.socketPath,k=G===void 0?"/S":G,B=n.socketQueryDebugCookie,z=n.socketIoClientConfig,Y=z===void 0?f():z,le={userId:g,uTag:N,fromURL:T().slice(0,128),vTag:K.i};B&&(le.socketQueryDebugCookie=B),Y=v(v({},Y),{},{path:k,query:le});var ue=new x.Manager(h,Y),V=ue.socket(w,Y);V.on("error",function(p){console.log("server socket error:",p),!/xhr.+error/.test(String(p))&&V.close()});var re=function(){for(var c=arguments.length,S=new Array(c),I=0;I<c;I++)S[I]=arguments[I];return new Promise(function(F){return V.emit.apply(V,S.concat([F]))}).then(function(F){var b=F.error,y=F.result;if(b)throw Object.assign(new Error(typeof value=="object"&&b.message||"DEFAULT_USER_SOCKET_ERROR"),b);return y})},A=0,L=function(){return O(d()+A)},E=function(){var c=d();return re("request:timestamp").then(function(S){var I=d();A=Number(S)-(c+I)*.5})};return{close:function(){return V.close()},getIsConnected:function(){return V.connected},on:function(c,S){return V.on(c,S)},emitAsync:re,getServerTimestamp:L,calibrateTimestampOffsetAsync:E,query:le}},R=function(n){var g=n.userId,P=(0,U.IC)(),N=P.clear,h=P.on,G=P.emit,k=!1,B=setTimeout(function(){k=!0,G("connect",{isDummy:!0})},1e3);return{DUMMY_SOCKET:"DUMMY_SOCKET",close:function(){N(),clearTimeout(B),k=!1},getIsConnected:function(){return k},on:h,emitAsync:function(){var z=$(q().mark(function le(){var ue,V,re,A=arguments;return q().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:for(ue=A.length,V=new Array(ue),re=0;re<ue;re++)V[re]=A[re];return E.abrupt("return",{args:V,isDummy:!0});case 2:case"end":return E.stop()}},le)}));function Y(){return z.apply(this,arguments)}return Y}(),getServerTimestamp:d,calibrateTimestampOffsetAsync:function(){var z=$(q().mark(function le(){return q().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:case"end":return V.stop()}},le)}));function Y(){return z.apply(this,arguments)}return Y}(),query:{userId:g,fromURL:T().slice(0,128)}}},d=function(){return Date.now()*.001},O=function(n){return Math.round(n*100)/100},T=function(){try{return window.location.href}catch(n){return"UNKNOWN"}}},58024:function(me,M,m){"use strict";m.d(M,{K:function(){return _},m:function(){return s}});var U=m(60907),x=m(63828),W=m(35425);function K(f,j){return v(f)||t(f,j)||H(f,j)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(f,j){if(f){if(typeof f=="string")return $(f,j);var R=Object.prototype.toString.call(f).slice(8,-1);if(R==="Object"&&f.constructor&&(R=f.constructor.name),R==="Map"||R==="Set")return Array.from(f);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return $(f,j)}}function $(f,j){(j==null||j>f.length)&&(j=f.length);for(var R=0,d=new Array(j);R<j;R++)d[R]=f[R];return d}function t(f,j){var R=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(R!=null){var d,O,T,o,n=[],g=!0,P=!1;try{if(T=(R=R.call(f)).next,j===0){if(Object(R)!==R)return;g=!1}else for(;!(g=(d=T.call(R)).done)&&(n.push(d.value),n.length!==j);g=!0);}catch(N){P=!0,O=N}finally{try{if(!g&&R.return!=null&&(o=R.return(),Object(o)!==o))return}finally{if(P)throw O}}return n}}function v(f){if(Array.isArray(f))return f}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return j};var f,j={},R=Object.prototype,d=R.hasOwnProperty,O=Object.defineProperty||function(i,u,D){i[u]=D.value},T=typeof Symbol=="function"?Symbol:{},o=T.iterator||"@@iterator",n=T.asyncIterator||"@@asyncIterator",g=T.toStringTag||"@@toStringTag";function P(i,u,D){return Object.defineProperty(i,u,{value:D,enumerable:!0,configurable:!0,writable:!0}),i[u]}try{P({},"")}catch(i){P=function(D,Z,J){return D[Z]=J}}function N(i,u,D,Z){var J=u&&u.prototype instanceof le?u:le,X=Object.create(J.prototype),ee=new y(Z||[]);return O(X,"_invoke",{value:S(i,D,ee)}),X}function h(i,u,D){try{return{type:"normal",arg:i.call(u,D)}}catch(Z){return{type:"throw",arg:Z}}}j.wrap=N;var G="suspendedStart",k="suspendedYield",B="executing",z="completed",Y={};function le(){}function ue(){}function V(){}var re={};P(re,o,function(){return this});var A=Object.getPrototypeOf,L=A&&A(A(l([])));L&&L!==R&&d.call(L,o)&&(re=L);var E=V.prototype=le.prototype=Object.create(re);function p(i){["next","throw","return"].forEach(function(u){P(i,u,function(D){return this._invoke(u,D)})})}function c(i,u){function D(J,X,ee,Q){var te=h(i[J],i,X);if(te.type!=="throw"){var ce=te.arg,pe=ce.value;return pe&&typeof pe=="object"&&d.call(pe,"__await")?u.resolve(pe.__await).then(function(de){D("next",de,ee,Q)},function(de){D("throw",de,ee,Q)}):u.resolve(pe).then(function(de){ce.value=de,ee(ce)},function(de){return D("throw",de,ee,Q)})}Q(te.arg)}var Z;O(this,"_invoke",{value:function(X,ee){function Q(){return new u(function(te,ce){D(X,ee,te,ce)})}return Z=Z?Z.then(Q,Q):Q()}})}function S(i,u,D){var Z=G;return function(J,X){if(Z===B)throw new Error("Generator is already running");if(Z===z){if(J==="throw")throw X;return{value:f,done:!0}}for(D.method=J,D.arg=X;;){var ee=D.delegate;if(ee){var Q=I(ee,D);if(Q){if(Q===Y)continue;return Q}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(Z===G)throw Z=z,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);Z=B;var te=h(i,u,D);if(te.type==="normal"){if(Z=D.done?z:k,te.arg===Y)continue;return{value:te.arg,done:D.done}}te.type==="throw"&&(Z=z,D.method="throw",D.arg=te.arg)}}}function I(i,u){var D=u.method,Z=i.iterator[D];if(Z===f)return u.delegate=null,D==="throw"&&i.iterator.return&&(u.method="return",u.arg=f,I(i,u),u.method==="throw")||D!=="return"&&(u.method="throw",u.arg=new TypeError("The iterator does not provide a '"+D+"' method")),Y;var J=h(Z,i.iterator,u.arg);if(J.type==="throw")return u.method="throw",u.arg=J.arg,u.delegate=null,Y;var X=J.arg;return X?X.done?(u[i.resultName]=X.value,u.next=i.nextLoc,u.method!=="return"&&(u.method="next",u.arg=f),u.delegate=null,Y):X:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,Y)}function F(i){var u={tryLoc:i[0]};1 in i&&(u.catchLoc=i[1]),2 in i&&(u.finallyLoc=i[2],u.afterLoc=i[3]),this.tryEntries.push(u)}function b(i){var u=i.completion||{};u.type="normal",delete u.arg,i.completion=u}function y(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(F,this),this.reset(!0)}function l(i){if(i||i===""){var u=i[o];if(u)return u.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length)){var D=-1,Z=function J(){for(;++D<i.length;)if(d.call(i,D))return J.value=i[D],J.done=!1,J;return J.value=f,J.done=!0,J};return Z.next=Z}}throw new TypeError(typeof i+" is not iterable")}return ue.prototype=V,O(E,"constructor",{value:V,configurable:!0}),O(V,"constructor",{value:ue,configurable:!0}),ue.displayName=P(V,g,"GeneratorFunction"),j.isGeneratorFunction=function(i){var u=typeof i=="function"&&i.constructor;return!!u&&(u===ue||(u.displayName||u.name)==="GeneratorFunction")},j.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,V):(i.__proto__=V,P(i,g,"GeneratorFunction")),i.prototype=Object.create(E),i},j.awrap=function(i){return{__await:i}},p(c.prototype),P(c.prototype,n,function(){return this}),j.AsyncIterator=c,j.async=function(i,u,D,Z,J){J===void 0&&(J=Promise);var X=new c(N(i,u,D,Z),J);return j.isGeneratorFunction(u)?X:X.next().then(function(ee){return ee.done?ee.value:X.next()})},p(E),P(E,g,"Generator"),P(E,o,function(){return this}),P(E,"toString",function(){return"[object Generator]"}),j.keys=function(i){var u=Object(i),D=[];for(var Z in u)D.push(Z);return D.reverse(),function J(){for(;D.length;){var X=D.pop();if(X in u)return J.value=X,J.done=!1,J}return J.done=!0,J}},j.values=l,y.prototype={constructor:y,reset:function(u){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(b),!u)for(var D in this)D.charAt(0)==="t"&&d.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=f)},stop:function(){this.done=!0;var u=this.tryEntries[0].completion;if(u.type==="throw")throw u.arg;return this.rval},dispatchException:function(u){if(this.done)throw u;var D=this;function Z(ce,pe){return ee.type="throw",ee.arg=u,D.next=ce,pe&&(D.method="next",D.arg=f),!!pe}for(var J=this.tryEntries.length-1;J>=0;--J){var X=this.tryEntries[J],ee=X.completion;if(X.tryLoc==="root")return Z("end");if(X.tryLoc<=this.prev){var Q=d.call(X,"catchLoc"),te=d.call(X,"finallyLoc");if(Q&&te){if(this.prev<X.catchLoc)return Z(X.catchLoc,!0);if(this.prev<X.finallyLoc)return Z(X.finallyLoc)}else if(Q){if(this.prev<X.catchLoc)return Z(X.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return Z(X.finallyLoc)}}}},abrupt:function(u,D){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var J=this.tryEntries[Z];if(J.tryLoc<=this.prev&&d.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var X=J;break}}X&&(u==="break"||u==="continue")&&X.tryLoc<=D&&D<=X.finallyLoc&&(X=null);var ee=X?X.completion:{};return ee.type=u,ee.arg=D,X?(this.method="next",this.next=X.finallyLoc,Y):this.complete(ee)},complete:function(u,D){if(u.type==="throw")throw u.arg;return u.type==="break"||u.type==="continue"?this.next=u.arg:u.type==="return"?(this.rval=this.arg=u.arg,this.method="return",this.next="end"):u.type==="normal"&&D&&(this.next=D),Y},finish:function(u){for(var D=this.tryEntries.length-1;D>=0;--D){var Z=this.tryEntries[D];if(Z.finallyLoc===u)return this.complete(Z.completion,Z.afterLoc),b(Z),Y}},catch:function(u){for(var D=this.tryEntries.length-1;D>=0;--D){var Z=this.tryEntries[D];if(Z.tryLoc===u){var J=Z.completion;if(J.type==="throw"){var X=J.arg;b(Z)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(u,D,Z){return this.delegate={iterator:l(u),resultName:D,nextLoc:Z},this.method==="next"&&(this.arg=f),Y}},j}function r(f,j,R,d,O,T,o){try{var n=f[T](o),g=n.value}catch(P){R(P);return}n.done?j(g):Promise.resolve(g).then(d,O)}function e(f){return function(){var j=this,R=arguments;return new Promise(function(d,O){var T=f.apply(j,R);function o(g){r(T,d,O,o,n,"next",g)}function n(g){r(T,d,O,o,n,"throw",g)}o(void 0)})}}var w=function(){},C=function(j){console.error("ERROR",j)},_={userId:null,uTag:"-"},s=function(j){var R=j.initialState,d=R===void 0?_:R,O=j.socketPayloadListenerMap,T=O===void 0?{}:O,o=j.socketPayloadQueueAsyncListenerMap,n=o===void 0?{}:o,g=j.socketUrl,P=g===void 0?window.location.origin:g,N=j.socketPath,h=N===void 0?"/imock-socket":N,G=j.socketIoClientConfig,k=G===void 0?(0,W.UI)():G,B=j.socketQueryDebugCookie,z=d.userId,Y=d.uTag;!z&&console.warn("[SocketStore][openSocket] use dummy socket");var le=(0,U.Z7)(d),ue=le.getState,V=le.setState,re=le.subscribe,A=le.unsubscribe,L=(0,x.hF)(),E=L.clear,p=L.addEventListener,c=L.removeEventListener,S=L.dispatchEvent,I=Date.now(),F=null,b=null,y=function(){b&&b.close(),b=null,F&&clearTimeout(F),F=null},l=function i(){y(),b=(z?W.og:W.E7)({userId:z,uTag:Y,socketUrl:P,socketPath:h,socketIoClientConfig:k,socketQueryDebugCookie:B}),b.on("error",function(Z){console.warn("socket error",Z),!/xhr.+error/.test(String(Z))&&S({type:"socket:error",payload:{error:Z}})}),b.on("connect",e(a().mark(function Z(){return a().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return console.log("user socket connected"),X.next=3,b.calibrateTimestampOffsetAsync();case 3:S({type:"socket:open"}),console.log("user socket (re)open"),I=Date.now(),F=setTimeout(function(){b&&(I+5*1e3>Date.now()||i())},(10+Math.random()*10)*60*1e3);case 8:case"end":return X.stop()}},Z)})));var u=Promise.resolve("HEAD"),D=function(J){var X=u.then(J);return u=X.then(w,C),X};Object.entries(T).forEach(function(Z){var J=K(Z,2),X=J[0],ee=J[1],Q="@@SOCKET|"+X;b.on(X,function(te){return S({type:Q,payload:te})}),p(Q,function(te){var ce=te.payload;return ee({type:X,payload:ce,eventName:X})})}),Object.entries(n).forEach(function(Z){var J=K(Z,2),X=J[0],ee=J[1],Q="@@SOCKET-QUEUE-ASYNC|"+X;b.on(X,function(te){return S({type:Q,payload:te})}),p(Q,function(te){var ce=te.payload;return D(function(){return ee({type:X,payload:ce,eventName:X})})})}),I=Date.now()};return l(),{getState:ue,setState:V,subscribe:re,unsubscribe:A,addEventListener:p,removeEventListener:c,destroy:function(){V(d),E(),y()},recreateUserSocket:l,getIsSocketConnected:function(){return b.getIsConnected()},getSocketTimestamp:function(){return b.getServerTimestamp()},sendSocketPayloadAsync:function(u,D){return I=Date.now(),b.emitAsync(u,D)}}}},18487:function(me){me.exports=M;function M(U,x,W){var K=!1;return W=W||m,q.count=U,U===0?x():q;function q(H,$){if(q.count<=0)throw new Error("after called too many times");--q.count,H?(K=!0,x(H),x=W):q.count===0&&!K&&x(null,$)}}function m(){}},73633:function(me){me.exports=function(M,m,U){var x=M.byteLength;if(m=m||0,U=U||x,M.slice)return M.slice(m,U);if(m<0&&(m+=x),U<0&&(U+=x),U>x&&(U=x),m>=x||m>=U||x===0)return new ArrayBuffer(0);for(var W=new Uint8Array(M),K=new Uint8Array(U-m),q=m,H=0;q<U;q++,H++)K[H]=W[q];return K.buffer}},38689:function(me){me.exports=M;function M(m){m=m||{},this.ms=m.min||100,this.max=m.max||1e4,this.factor=m.factor||2,this.jitter=m.jitter>0&&m.jitter<=1?m.jitter:0,this.attempts=0}M.prototype.duration=function(){var m=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var U=Math.random(),x=Math.floor(U*this.jitter*m);m=Math.floor(U*10)&1?m+x:m-x}return Math.min(m,this.max)|0},M.prototype.reset=function(){this.attempts=0},M.prototype.setMin=function(m){this.ms=m},M.prototype.setMax=function(m){this.max=m},M.prototype.setJitter=function(m){this.jitter=m}},2148:function(me,M){(function(m){"use strict";M.encode=function(U){var x=new Uint8Array(U),W,K=x.length,q="";for(W=0;W<K;W+=3)q+=m[x[W]>>2],q+=m[(x[W]&3)<<4|x[W+1]>>4],q+=m[(x[W+1]&15)<<2|x[W+2]>>6],q+=m[x[W+2]&63];return K%3===2?q=q.substring(0,q.length-1)+"=":K%3===1&&(q=q.substring(0,q.length-2)+"=="),q},M.decode=function(U){var x=U.length*.75,W=U.length,K,q=0,H,$,t,v;U[U.length-1]==="="&&(x--,U[U.length-2]==="="&&x--);var a=new ArrayBuffer(x),r=new Uint8Array(a);for(K=0;K<W;K+=4)H=m.indexOf(U[K]),$=m.indexOf(U[K+1]),t=m.indexOf(U[K+2]),v=m.indexOf(U[K+3]),r[q++]=H<<2|$>>4,r[q++]=($&15)<<4|t>>2,r[q++]=(t&3)<<6|v&63;return a}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},6730:function(me){var M=typeof M<"u"?M:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,m=function(){try{var H=new Blob(["hi"]);return H.size===2}catch($){return!1}}(),U=m&&function(){try{var H=new Blob([new Uint8Array([1,2])]);return H.size===2}catch($){return!1}}(),x=M&&M.prototype.append&&M.prototype.getBlob;function W(H){return H.map(function($){if($.buffer instanceof ArrayBuffer){var t=$.buffer;if($.byteLength!==t.byteLength){var v=new Uint8Array($.byteLength);v.set(new Uint8Array(t,$.byteOffset,$.byteLength)),t=v.buffer}return t}return $})}function K(H,$){$=$||{};var t=new M;return W(H).forEach(function(v){t.append(v)}),$.type?t.getBlob($.type):t.getBlob()}function q(H,$){return new Blob(W(H),$||{})}typeof Blob<"u"&&(K.prototype=Blob.prototype,q.prototype=Blob.prototype),me.exports=function(){return m?U?Blob:q:x?K:void 0}()},5018:function(me){var M=[].slice;me.exports=function(m,U){if(typeof U=="string"&&(U=m[U]),typeof U!="function")throw new Error("bind() requires a function");var x=M.call(arguments,2);return function(){return U.apply(m,x.concat(M.call(arguments)))}}},51632:function(me){me.exports=M;function M(U){if(U)return m(U)}function m(U){for(var x in M.prototype)U[x]=M.prototype[x];return U}M.prototype.on=M.prototype.addEventListener=function(U,x){return this._callbacks=this._callbacks||{},(this._callbacks["$"+U]=this._callbacks["$"+U]||[]).push(x),this},M.prototype.once=function(U,x){function W(){this.off(U,W),x.apply(this,arguments)}return W.fn=x,this.on(U,W),this},M.prototype.off=M.prototype.removeListener=M.prototype.removeAllListeners=M.prototype.removeEventListener=function(U,x){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var W=this._callbacks["$"+U];if(!W)return this;if(arguments.length==1)return delete this._callbacks["$"+U],this;for(var K,q=0;q<W.length;q++)if(K=W[q],K===x||K.fn===x){W.splice(q,1);break}return W.length===0&&delete this._callbacks["$"+U],this},M.prototype.emit=function(U){this._callbacks=this._callbacks||{};for(var x=new Array(arguments.length-1),W=this._callbacks["$"+U],K=1;K<arguments.length;K++)x[K-1]=arguments[K];if(W){W=W.slice(0);for(var K=0,q=W.length;K<q;++K)W[K].apply(this,x)}return this},M.prototype.listeners=function(U){return this._callbacks=this._callbacks||{},this._callbacks["$"+U]||[]},M.prototype.hasListeners=function(U){return!!this.listeners(U).length}},56563:function(me){me.exports=function(M,m){var U=function(){};U.prototype=m.prototype,M.prototype=new U,M.prototype.constructor=M}},14937:function(me){me.exports=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}()},24051:function(me,M,m){me.exports=m(94219),me.exports.parser=m(50510)},94219:function(me,M,m){var U=m(11797),x=m(51632),W=m(79491)("engine.io-client:socket"),K=m(60639),q=m(50510),H=m(30307),$=m(58996);me.exports=t;function t(a,r){if(!(this instanceof t))return new t(a,r);r=r||{},a&&typeof a=="object"&&(r=a,a=null),a?(a=H(a),r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)):r.host&&(r.hostname=H(r.host).host),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=r.query||{},typeof this.query=="string"&&(this.query=$.decode(this.query)),this.upgrade=r.upgrade!==!1,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=r.jsonp!==!1,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.withCredentials=r.withCredentials!==!1,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.transportOptions=r.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=r.perMessageDeflate!==!1?r.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||void 0,this.key=r.key||void 0,this.passphrase=r.passphrase||void 0,this.cert=r.cert||void 0,this.ca=r.ca||void 0,this.ciphers=r.ciphers||void 0,this.rejectUnauthorized=r.rejectUnauthorized===void 0?!0:r.rejectUnauthorized,this.forceNode=!!r.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.priorWebsocketSuccess=!1,x(t.prototype),t.protocol=q.protocol,t.Socket=t,t.Transport=m(66723),t.transports=m(11797),t.parser=m(50510),t.prototype.createTransport=function(a){W('creating transport "%s"',a);var r=v(this.query);r.EIO=q.protocol,r.transport=a;var e=this.transportOptions[a]||{};this.id&&(r.sid=this.id);var w=new U[a]({query:r,socket:this,agent:e.agent||this.agent,hostname:e.hostname||this.hostname,port:e.port||this.port,secure:e.secure||this.secure,path:e.path||this.path,forceJSONP:e.forceJSONP||this.forceJSONP,jsonp:e.jsonp||this.jsonp,forceBase64:e.forceBase64||this.forceBase64,enablesXDR:e.enablesXDR||this.enablesXDR,withCredentials:e.withCredentials||this.withCredentials,timestampRequests:e.timestampRequests||this.timestampRequests,timestampParam:e.timestampParam||this.timestampParam,policyPort:e.policyPort||this.policyPort,pfx:e.pfx||this.pfx,key:e.key||this.key,passphrase:e.passphrase||this.passphrase,cert:e.cert||this.cert,ca:e.ca||this.ca,ciphers:e.ciphers||this.ciphers,rejectUnauthorized:e.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:e.perMessageDeflate||this.perMessageDeflate,extraHeaders:e.extraHeaders||this.extraHeaders,forceNode:e.forceNode||this.forceNode,localAddress:e.localAddress||this.localAddress,requestTimeout:e.requestTimeout||this.requestTimeout,protocols:e.protocols||void 0,isReactNative:this.isReactNative});return w};function v(a){var r={};for(var e in a)a.hasOwnProperty(e)&&(r[e]=a[e]);return r}t.prototype.open=function(){var a;if(this.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)a="websocket";else if(this.transports.length===0){var r=this;setTimeout(function(){r.emit("error","No transports available")},0);return}else a=this.transports[0];this.readyState="opening";try{a=this.createTransport(a)}catch(e){this.transports.shift(),this.open();return}a.open(),this.setTransport(a)},t.prototype.setTransport=function(a){W("setting transport %s",a.name);var r=this;this.transport&&(W("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){r.onDrain()}).on("packet",function(e){r.onPacket(e)}).on("error",function(e){r.onError(e)}).on("close",function(){r.onClose("transport close")})},t.prototype.probe=function(a){W('probing transport "%s"',a);var r=this.createTransport(a,{probe:1}),e=!1,w=this;t.priorWebsocketSuccess=!1;function C(){if(w.onlyBinaryUpgrades){var O=!this.supportsBinary&&w.transport.supportsBinary;e=e||O}e||(W('probe transport "%s" opened',a),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(T){if(!e)if(T.type==="pong"&&T.data==="probe"){if(W('probe transport "%s" pong',a),w.upgrading=!0,w.emit("upgrading",r),!r)return;t.priorWebsocketSuccess=r.name==="websocket",W('pausing current transport "%s"',w.transport.name),w.transport.pause(function(){e||w.readyState!=="closed"&&(W("changing transport and sending upgrade packet"),d(),w.setTransport(r),r.send([{type:"upgrade"}]),w.emit("upgrade",r),r=null,w.upgrading=!1,w.flush())})}else{W('probe transport "%s" failed',a);var o=new Error("probe error");o.transport=r.name,w.emit("upgradeError",o)}}))}function _(){e||(e=!0,d(),r.close(),r=null)}function s(O){var T=new Error("probe error: "+O);T.transport=r.name,_(),W('probe transport "%s" failed because of error: %s',a,O),w.emit("upgradeError",T)}function f(){s("transport closed")}function j(){s("socket closed")}function R(O){r&&O.name!==r.name&&(W('"%s" works - aborting "%s"',O.name,r.name),_())}function d(){r.removeListener("open",C),r.removeListener("error",s),r.removeListener("close",f),w.removeListener("close",j),w.removeListener("upgrading",R)}r.once("open",C),r.once("error",s),r.once("close",f),this.once("close",j),this.once("upgrading",R),r.open()},t.prototype.onOpen=function(){if(W("socket open"),this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){W("starting upgrade probes");for(var a=0,r=this.upgrades.length;a<r;a++)this.probe(this.upgrades[a])}},t.prototype.onPacket=function(a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(W('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(JSON.parse(a.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var r=new Error("server error");r.code=a.data,this.onError(r);break;case"message":this.emit("data",a.data),this.emit("message",a.data);break}else W('packet received with socket readyState "%s"',this.readyState)},t.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},t.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var r=this;r.pingTimeoutTimer=setTimeout(function(){r.readyState!=="closed"&&r.onClose("ping timeout")},a||r.pingInterval+r.pingTimeout)},t.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){W("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},t.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})},t.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},t.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(W("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},t.prototype.write=t.prototype.send=function(a,r,e){return this.sendPacket("message",a,r,e),this},t.prototype.sendPacket=function(a,r,e,w){if(typeof r=="function"&&(w=r,r=void 0),typeof e=="function"&&(w=e,e=null),!(this.readyState==="closing"||this.readyState==="closed")){e=e||{},e.compress=e.compress!==!1;var C={type:a,data:r,options:e};this.emit("packetCreate",C),this.writeBuffer.push(C),w&&this.once("flush",w),this.flush()}},t.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var a=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?w():r()}):this.upgrading?w():r()}function r(){a.onClose("forced close"),W("socket closing - telling transport to close"),a.transport.close()}function e(){a.removeListener("upgrade",e),a.removeListener("upgradeError",e),r()}function w(){a.once("upgrade",e),a.once("upgradeError",e)}return this},t.prototype.onError=function(a){W("socket error %j",a),t.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},t.prototype.onClose=function(a,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){W('socket close with reason: "%s"',a);var e=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,r),e.writeBuffer=[],e.prevBufferLen=0}},t.prototype.filterUpgrades=function(a){for(var r=[],e=0,w=a.length;e<w;e++)~K(this.transports,a[e])&&r.push(a[e]);return r}},66723:function(me,M,m){var U=m(50510),x=m(51632);me.exports=W;function W(K){this.path=K.path,this.hostname=K.hostname,this.port=K.port,this.secure=K.secure,this.query=K.query,this.timestampParam=K.timestampParam,this.timestampRequests=K.timestampRequests,this.readyState="",this.agent=K.agent||!1,this.socket=K.socket,this.enablesXDR=K.enablesXDR,this.withCredentials=K.withCredentials,this.pfx=K.pfx,this.key=K.key,this.passphrase=K.passphrase,this.cert=K.cert,this.ca=K.ca,this.ciphers=K.ciphers,this.rejectUnauthorized=K.rejectUnauthorized,this.forceNode=K.forceNode,this.isReactNative=K.isReactNative,this.extraHeaders=K.extraHeaders,this.localAddress=K.localAddress}x(W.prototype),W.prototype.onError=function(K,q){var H=new Error(K);return H.type="TransportError",H.description=q,this.emit("error",H),this},W.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},W.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},W.prototype.send=function(K){if(this.readyState==="open")this.write(K);else throw new Error("Transport not open")},W.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},W.prototype.onData=function(K){var q=U.decodePacket(K,this.socket.binaryType);this.onPacket(q)},W.prototype.onPacket=function(K){this.emit("packet",K)},W.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},11797:function(me,M,m){var U=m(81809),x=m(96934),W=m(17033),K=m(72717);M.polling=q,M.websocket=K;function q(H){var $,t=!1,v=!1,a=H.jsonp!==!1;if(typeof location<"u"){var r=location.protocol==="https:",e=location.port;e||(e=r?443:80),t=H.hostname!==location.hostname||e!==H.port,v=H.secure!==r}if(H.xdomain=t,H.xscheme=v,$=new U(H),"open"in $&&!H.forceJSONP)return new x(H);if(!a)throw new Error("JSONP disabled");return new W(H)}},17033:function(me,M,m){var U=m(77043),x=m(56563),W=m(14937);me.exports=t;var K=/\n/g,q=/\\n/g,H;function $(){}function t(v){U.call(this,v),this.query=this.query||{},H||(H=W.___eio=W.___eio||[]),this.index=H.length;var a=this;H.push(function(r){a.onData(r)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){a.script&&(a.script.onerror=$)},!1)}x(t,U),t.prototype.supportsBinary=!1,t.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),U.prototype.doClose.call(this)},t.prototype.doPoll=function(){var v=this,a=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),a.async=!0,a.src=this.uri(),a.onerror=function(w){v.onError("jsonp poll error",w)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(a,r):(document.head||document.body).appendChild(a),this.script=a;var e=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);e&&setTimeout(function(){var w=document.createElement("iframe");document.body.appendChild(w),document.body.removeChild(w)},100)},t.prototype.doWrite=function(v,a){var r=this;if(!this.form){var e=document.createElement("form"),w=document.createElement("textarea"),C=this.iframeId="eio_iframe_"+this.index,_;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=C,e.method="POST",e.setAttribute("accept-charset","utf-8"),w.name="d",e.appendChild(w),document.body.appendChild(e),this.form=e,this.area=w}this.form.action=this.uri();function s(){f(),a()}function f(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(R){r.onError("jsonp polling iframe removal error",R)}try{var j='<iframe src="javascript:0" name="'+r.iframeId+'">';_=document.createElement(j)}catch(R){_=document.createElement("iframe"),_.name=r.iframeId,_.src="javascript:0"}_.id=r.iframeId,r.form.appendChild(_),r.iframe=_}f(),v=v.replace(q,"\\\n"),this.area.value=v.replace(K,"\\n");try{this.form.submit()}catch(j){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&s()}:this.iframe.onload=s}},96934:function(me,M,m){var U=m(81809),x=m(77043),W=m(51632),K=m(56563),q=m(79491)("engine.io-client:polling-xhr"),H=m(14937);me.exports=t,me.exports.Request=v;function $(){}function t(e){if(x.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,typeof location<"u"){var w=location.protocol==="https:",C=location.port;C||(C=w?443:80),this.xd=typeof location<"u"&&e.hostname!==location.hostname||C!==e.port,this.xs=e.secure!==w}}K(t,x),t.prototype.supportsBinary=!0,t.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new v(e)},t.prototype.doWrite=function(e,w){var C=typeof e!="string"&&e!==void 0,_=this.request({method:"POST",data:e,isBinary:C}),s=this;_.on("success",w),_.on("error",function(f){s.onError("xhr post error",f)}),this.sendXhr=_},t.prototype.doPoll=function(){q("xhr poll");var e=this.request(),w=this;e.on("data",function(C){w.onData(C)}),e.on("error",function(C){w.onError("xhr poll error",C)}),this.pollXhr=e};function v(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=e.async!==!1,this.data=e.data!==void 0?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(W(v.prototype),v.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var w=this.xhr=new U(e),C=this;try{q("xhr open %s: %s",this.method,this.uri),w.open(this.method,this.uri,this.async);try{if(this.extraHeaders){w.setDisableHeaderCheck&&w.setDisableHeaderCheck(!0);for(var _ in this.extraHeaders)this.extraHeaders.hasOwnProperty(_)&&w.setRequestHeader(_,this.extraHeaders[_])}}catch(s){}if(this.method==="POST")try{this.isBinary?w.setRequestHeader("Content-type","application/octet-stream"):w.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{w.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in w&&(w.withCredentials=this.withCredentials),this.requestTimeout&&(w.timeout=this.requestTimeout),this.hasXDR()?(w.onload=function(){C.onLoad()},w.onerror=function(){C.onError(w.responseText)}):w.onreadystatechange=function(){if(w.readyState===2)try{var s=w.getResponseHeader("Content-Type");(C.supportsBinary&&s==="application/octet-stream"||s==="application/octet-stream; charset=UTF-8")&&(w.responseType="arraybuffer")}catch(f){}w.readyState===4&&(w.status===200||w.status===1223?C.onLoad():setTimeout(function(){C.onError(typeof w.status=="number"?w.status:0)},0))},q("xhr data %s",this.data),w.send(this.data)}catch(s){setTimeout(function(){C.onError(s)},0);return}typeof document<"u"&&(this.index=v.requestsCount++,v.requests[this.index]=this)},v.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},v.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},v.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},v.prototype.cleanup=function(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=$:this.xhr.onreadystatechange=$,e)try{this.xhr.abort()}catch(w){}typeof document<"u"&&delete v.requests[this.index],this.xhr=null}},v.prototype.onLoad=function(){var e;try{var w;try{w=this.xhr.getResponseHeader("Content-Type")}catch(C){}w==="application/octet-stream"||w==="application/octet-stream; charset=UTF-8"?e=this.xhr.response||this.xhr.responseText:e=this.xhr.responseText}catch(C){this.onError(C)}e!=null&&this.onData(e)},v.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR},v.prototype.abort=function(){this.cleanup()},v.requestsCount=0,v.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",r);else if(typeof addEventListener=="function"){var a="onpagehide"in H?"pagehide":"unload";addEventListener(a,r,!1)}}function r(){for(var e in v.requests)v.requests.hasOwnProperty(e)&&v.requests[e].abort()}},77043:function(me,M,m){var U=m(66723),x=m(58996),W=m(50510),K=m(56563),q=m(15402),H=m(79491)("engine.io-client:polling");me.exports=t;var $=function(){var v=m(81809),a=new v({xdomain:!1});return a.responseType!=null}();function t(v){var a=v&&v.forceBase64;(!$||a)&&(this.supportsBinary=!1),U.call(this,v)}K(t,U),t.prototype.name="polling",t.prototype.doOpen=function(){this.poll()},t.prototype.pause=function(v){var a=this;this.readyState="pausing";function r(){H("paused"),a.readyState="paused",v()}if(this.polling||!this.writable){var e=0;this.polling&&(H("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){H("pre-pause polling complete"),--e||r()})),this.writable||(H("we are currently writing - waiting to pause"),e++,this.once("drain",function(){H("pre-pause writing complete"),--e||r()}))}else r()},t.prototype.poll=function(){H("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},t.prototype.onData=function(v){var a=this;H("polling got data %s",v);var r=function(w,C,_){if(a.readyState==="opening"&&w.type==="open"&&a.onOpen(),w.type==="close")return a.onClose(),!1;a.onPacket(w)};W.decodePayload(v,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():H('ignoring poll - transport state "%s"',this.readyState))},t.prototype.doClose=function(){var v=this;function a(){H("writing close packet"),v.write([{type:"close"}])}this.readyState==="open"?(H("transport open - closing"),a()):(H("transport not open - deferring close"),this.once("open",a))},t.prototype.write=function(v){var a=this;this.writable=!1;var r=function(){a.writable=!0,a.emit("drain")};W.encodePayload(v,this.supportsBinary,function(e){a.doWrite(e,r)})},t.prototype.uri=function(){var v=this.query||{},a=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(v[this.timestampParam]=q()),!this.supportsBinary&&!v.sid&&(v.b64=1),v=x.encode(v),this.port&&(a==="https"&&Number(this.port)!==443||a==="http"&&Number(this.port)!==80)&&(r=":"+this.port),v.length&&(v="?"+v);var e=this.hostname.indexOf(":")!==-1;return a+"://"+(e?"["+this.hostname+"]":this.hostname)+r+this.path+v}},72717:function(me,M,m){var U=m(66723),x=m(50510),W=m(58996),K=m(56563),q=m(15402),H=m(79491)("engine.io-client:websocket"),$,t;if(typeof WebSocket<"u"?$=WebSocket:typeof self<"u"&&($=self.WebSocket||self.MozWebSocket),typeof window>"u")try{t=m(77020)}catch(r){}var v=$||t;me.exports=a;function a(r){var e=r&&r.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=r.perMessageDeflate,this.usingBrowserWebSocket=$&&!r.forceNode,this.protocols=r.protocols,this.usingBrowserWebSocket||(v=t),U.call(this,r)}K(a,U),a.prototype.name="websocket",a.prototype.supportsBinary=!0,a.prototype.doOpen=function(){if(this.check()){var r=this.uri(),e=this.protocols,w={};this.isReactNative||(w.agent=this.agent,w.perMessageDeflate=this.perMessageDeflate,w.pfx=this.pfx,w.key=this.key,w.passphrase=this.passphrase,w.cert=this.cert,w.ca=this.ca,w.ciphers=this.ciphers,w.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(w.headers=this.extraHeaders),this.localAddress&&(w.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new v(r,e):new v(r):new v(r,e,w)}catch(C){return this.emit("error",C)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},a.prototype.addEventListeners=function(){var r=this;this.ws.onopen=function(){r.onOpen()},this.ws.onclose=function(){r.onClose()},this.ws.onmessage=function(e){r.onData(e.data)},this.ws.onerror=function(e){r.onError("websocket error",e)}},a.prototype.write=function(r){var e=this;this.writable=!1;for(var w=r.length,C=0,_=w;C<_;C++)(function(f){x.encodePacket(f,e.supportsBinary,function(j){if(!e.usingBrowserWebSocket){var R={};if(f.options&&(R.compress=f.options.compress),e.perMessageDeflate){var d=typeof j=="string"?Buffer.byteLength(j):j.length;d<e.perMessageDeflate.threshold&&(R.compress=!1)}}try{e.usingBrowserWebSocket?e.ws.send(j):e.ws.send(j,R)}catch(O){H("websocket closed before onclose event")}--w||s()})})(r[C]);function s(){e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0)}},a.prototype.onClose=function(){U.prototype.onClose.call(this)},a.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},a.prototype.uri=function(){var r=this.query||{},e=this.secure?"wss":"ws",w="";this.port&&(e==="wss"&&Number(this.port)!==443||e==="ws"&&Number(this.port)!==80)&&(w=":"+this.port),this.timestampRequests&&(r[this.timestampParam]=q()),this.supportsBinary||(r.b64=1),r=W.encode(r),r.length&&(r="?"+r);var C=this.hostname.indexOf(":")!==-1;return e+"://"+(C?"["+this.hostname+"]":this.hostname)+w+this.path+r},a.prototype.check=function(){return!!v&&!("__initialize"in v&&this.name===a.prototype.name)}},81809:function(me,M,m){var U=m(85598),x=m(14937);me.exports=function(W){var K=W.xdomain,q=W.xscheme,H=W.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!K||U))return new XMLHttpRequest}catch($){}try{if(typeof XDomainRequest<"u"&&!q&&H)return new XDomainRequest}catch($){}if(!K)try{return new x[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch($){}}},79491:function(me,M,m){M=me.exports=m(95564),M.log=W,M.formatArgs=x,M.save=K,M.load=q,M.useColors=U,M.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:H(),M.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function U(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}M.formatters.j=function($){try{return JSON.stringify($)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function x($){var t=this.useColors;if($[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+$[0]+(t?"%c ":" ")+"+"+M.humanize(this.diff),!!t){var v="color: "+this.color;$.splice(1,0,v,"color: inherit");var a=0,r=0;$[0].replace(/%[a-zA-Z%]/g,function(e){e!=="%%"&&(a++,e==="%c"&&(r=a))}),$.splice(r,0,v)}}function W(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function K($){try{$==null?M.storage.removeItem("debug"):M.storage.debug=$}catch(t){}}function q(){var $;try{$=M.storage.debug}catch(t){}return!$&&typeof process<"u"&&"env"in process&&($=process.env.DEBUG),$}M.enable(q());function H(){try{return window.localStorage}catch($){}}},95564:function(me,M,m){M=me.exports=x.debug=x.default=x,M.coerce=$,M.disable=q,M.enable=K,M.enabled=H,M.humanize=m(19795),M.instances=[],M.names=[],M.skips=[],M.formatters={};function U(t){var v=0,a;for(a in t)v=(v<<5)-v+t.charCodeAt(a),v|=0;return M.colors[Math.abs(v)%M.colors.length]}function x(t){var v;function a(){if(a.enabled){var r=a,e=+new Date,w=e-(v||e);r.diff=w,r.prev=v,r.curr=e,v=e;for(var C=new Array(arguments.length),_=0;_<C.length;_++)C[_]=arguments[_];C[0]=M.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");var s=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,function(j,R){if(j==="%%")return j;s++;var d=M.formatters[R];if(typeof d=="function"){var O=C[s];j=d.call(r,O),C.splice(s,1),s--}return j}),M.formatArgs.call(r,C);var f=a.log||M.log||console.log.bind(console);f.apply(r,C)}}return a.namespace=t,a.enabled=M.enabled(t),a.useColors=M.useColors(),a.color=U(t),a.destroy=W,typeof M.init=="function"&&M.init(a),M.instances.push(a),a}function W(){var t=M.instances.indexOf(this);return t!==-1?(M.instances.splice(t,1),!0):!1}function K(t){M.save(t),M.names=[],M.skips=[];var v,a=(typeof t=="string"?t:"").split(/[\s,]+/),r=a.length;for(v=0;v<r;v++)a[v]&&(t=a[v].replace(/\*/g,".*?"),t[0]==="-"?M.skips.push(new RegExp("^"+t.substr(1)+"$")):M.names.push(new RegExp("^"+t+"$")));for(v=0;v<M.instances.length;v++){var e=M.instances[v];e.enabled=M.enabled(e.namespace)}}function q(){M.enable("")}function H(t){if(t[t.length-1]==="*")return!0;var v,a;for(v=0,a=M.skips.length;v<a;v++)if(M.skips[v].test(t))return!1;for(v=0,a=M.names.length;v<a;v++)if(M.names[v].test(t))return!0;return!1}function $(t){return t instanceof Error?t.stack||t.message:t}},19795:function(me){var M=1e3,m=M*60,U=m*60,x=U*24,W=x*365.25;me.exports=function(t,v){v=v||{};var a=typeof t;if(a==="string"&&t.length>0)return K(t);if(a==="number"&&isNaN(t)===!1)return v.long?H(t):q(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function K(t){if(t=String(t),!(t.length>100)){var v=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(v){var a=parseFloat(v[1]),r=(v[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return a*W;case"days":case"day":case"d":return a*x;case"hours":case"hour":case"hrs":case"hr":case"h":return a*U;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*M;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function q(t){return t>=x?Math.round(t/x)+"d":t>=U?Math.round(t/U)+"h":t>=m?Math.round(t/m)+"m":t>=M?Math.round(t/M)+"s":t+"ms"}function H(t){return $(t,x,"day")||$(t,U,"hour")||$(t,m,"minute")||$(t,M,"second")||t+" ms"}function $(t,v,a){if(!(t<v))return t<v*1.5?Math.floor(t/v)+" "+a:Math.ceil(t/v)+" "+a+"s"}},50510:function(me,M,m){var U=m(55026),x=m(56306),W=m(73633),K=m(18487),q=m(60888),H;typeof ArrayBuffer<"u"&&(H=m(2148));var $=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),t=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),v=$||t;M.protocol=3;var a=M.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},r=U(a),e={type:"error",data:"parser error"},w=m(6730);M.encodePacket=function(d,O,T,o){typeof O=="function"&&(o=O,O=!1),typeof T=="function"&&(o=T,T=null);var n=d.data===void 0?void 0:d.data.buffer||d.data;if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return _(d,O,o);if(typeof w<"u"&&n instanceof w)return f(d,O,o);if(n&&n.base64)return C(d,o);var g=a[d.type];return d.data!==void 0&&(g+=T?q.encode(String(d.data),{strict:!1}):String(d.data)),o(""+g)};function C(d,O){var T="b"+M.packets[d.type]+d.data.data;return O(T)}function _(d,O,T){if(!O)return M.encodeBase64Packet(d,T);var o=d.data,n=new Uint8Array(o),g=new Uint8Array(1+o.byteLength);g[0]=a[d.type];for(var P=0;P<n.length;P++)g[P+1]=n[P];return T(g.buffer)}function s(d,O,T){if(!O)return M.encodeBase64Packet(d,T);var o=new FileReader;return o.onload=function(){M.encodePacket({type:d.type,data:o.result},O,!0,T)},o.readAsArrayBuffer(d.data)}function f(d,O,T){if(!O)return M.encodeBase64Packet(d,T);if(v)return s(d,O,T);var o=new Uint8Array(1);o[0]=a[d.type];var n=new w([o.buffer,d.data]);return T(n)}M.encodeBase64Packet=function(d,O){var T="b"+M.packets[d.type];if(typeof w<"u"&&d.data instanceof w){var o=new FileReader;return o.onload=function(){var h=o.result.split(",")[1];O(T+h)},o.readAsDataURL(d.data)}var n;try{n=String.fromCharCode.apply(null,new Uint8Array(d.data))}catch(h){for(var g=new Uint8Array(d.data),P=new Array(g.length),N=0;N<g.length;N++)P[N]=g[N];n=String.fromCharCode.apply(null,P)}return T+=btoa(n),O(T)},M.decodePacket=function(d,O,T){if(d===void 0)return e;if(typeof d=="string"){if(d.charAt(0)==="b")return M.decodeBase64Packet(d.substr(1),O);if(T&&(d=j(d),d===!1))return e;var n=d.charAt(0);return Number(n)!=n||!r[n]?e:d.length>1?{type:r[n],data:d.substring(1)}:{type:r[n]}}var o=new Uint8Array(d),n=o[0],g=W(d,1);return w&&O==="blob"&&(g=new w([g])),{type:r[n],data:g}};function j(d){try{d=q.decode(d,{strict:!1})}catch(O){return!1}return d}M.decodeBase64Packet=function(d,O){var T=r[d.charAt(0)];if(!H)return{type:T,data:{base64:!0,data:d.substr(1)}};var o=H.decode(d.substr(1));return O==="blob"&&w&&(o=new w([o])),{type:T,data:o}},M.encodePayload=function(d,O,T){typeof O=="function"&&(T=O,O=null);var o=x(d);if(O&&o)return w&&!v?M.encodePayloadAsBlob(d,T):M.encodePayloadAsArrayBuffer(d,T);if(!d.length)return T("0:");function n(P){return P.length+":"+P}function g(P,N){M.encodePacket(P,o?O:!1,!1,function(h){N(null,n(h))})}R(d,g,function(P,N){return T(N.join(""))})};function R(d,O,T){for(var o=new Array(d.length),n=K(d.length,T),g=function(h,G,k){O(G,function(B,z){o[h]=z,k(B,o)})},P=0;P<d.length;P++)g(P,d[P],n)}M.decodePayload=function(d,O,T){if(typeof d!="string")return M.decodePayloadAsBinary(d,O,T);typeof O=="function"&&(T=O,O=null);var o;if(d==="")return T(e,0,1);for(var n="",g,P,N=0,h=d.length;N<h;N++){var G=d.charAt(N);if(G!==":"){n+=G;continue}if(n===""||n!=(g=Number(n))||(P=d.substr(N+1,g),n!=P.length))return T(e,0,1);if(P.length){if(o=M.decodePacket(P,O,!1),e.type===o.type&&e.data===o.data)return T(e,0,1);var k=T(o,N+g,h);if(k===!1)return}N+=g,n=""}if(n!=="")return T(e,0,1)},M.encodePayloadAsArrayBuffer=function(d,O){if(!d.length)return O(new ArrayBuffer(0));function T(o,n){M.encodePacket(o,!0,!0,function(g){return n(null,g)})}R(d,T,function(o,n){var g=n.reduce(function(h,G){var k;return typeof G=="string"?k=G.length:k=G.byteLength,h+k.toString().length+k+2},0),P=new Uint8Array(g),N=0;return n.forEach(function(h){var G=typeof h=="string",k=h;if(G){for(var Y=new Uint8Array(h.length),B=0;B<h.length;B++)Y[B]=h.charCodeAt(B);k=Y.buffer}G?P[N++]=0:P[N++]=1;for(var z=k.byteLength.toString(),B=0;B<z.length;B++)P[N++]=parseInt(z[B]);P[N++]=255;for(var Y=new Uint8Array(k),B=0;B<Y.length;B++)P[N++]=Y[B]}),O(P.buffer)})},M.encodePayloadAsBlob=function(d,O){function T(o,n){M.encodePacket(o,!0,!0,function(g){var P=new Uint8Array(1);if(P[0]=1,typeof g=="string"){for(var N=new Uint8Array(g.length),h=0;h<g.length;h++)N[h]=g.charCodeAt(h);g=N.buffer,P[0]=0}for(var G=g instanceof ArrayBuffer?g.byteLength:g.size,k=G.toString(),B=new Uint8Array(k.length+1),h=0;h<k.length;h++)B[h]=parseInt(k[h]);if(B[k.length]=255,w){var z=new w([P.buffer,B.buffer,g]);n(null,z)}})}R(d,T,function(o,n){return O(new w(n))})},M.decodePayloadAsBinary=function(d,O,T){typeof O=="function"&&(T=O,O=null);for(var o=d,n=[];o.byteLength>0;){for(var g=new Uint8Array(o),P=g[0]===0,N="",h=1;g[h]!==255;h++){if(N.length>310)return T(e,0,1);N+=g[h]}o=W(o,2+N.length),N=parseInt(N);var G=W(o,0,N);if(P)try{G=String.fromCharCode.apply(null,new Uint8Array(G))}catch(z){var k=new Uint8Array(G);G="";for(var h=0;h<k.length;h++)G+=String.fromCharCode(k[h])}n.push(G),o=W(o,N)}var B=n.length;n.forEach(function(z,Y){T(M.decodePacket(z,O,!0),Y,B)})}},55026:function(me){me.exports=Object.keys||function(m){var U=[],x=Object.prototype.hasOwnProperty;for(var W in m)x.call(m,W)&&U.push(W);return U}},60888:function(me){/*! https://mths.be/utf8js v2.1.2 by @mathias */var M=String.fromCharCode;function m(e){for(var w=[],C=0,_=e.length,s,f;C<_;)s=e.charCodeAt(C++),s>=55296&&s<=56319&&C<_?(f=e.charCodeAt(C++),(f&64512)==56320?w.push(((s&1023)<<10)+(f&1023)+65536):(w.push(s),C--)):w.push(s);return w}function U(e){for(var w=e.length,C=-1,_,s="";++C<w;)_=e[C],_>65535&&(_-=65536,s+=M(_>>>10&1023|55296),_=56320|_&1023),s+=M(_);return s}function x(e,w){if(e>=55296&&e<=57343){if(w)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function W(e,w){return M(e>>w&63|128)}function K(e,w){if(!(e&4294967168))return M(e);var C="";return e&4294965248?e&4294901760?e&4292870144||(C=M(e>>18&7|240),C+=W(e,12),C+=W(e,6)):(x(e,w)||(e=65533),C=M(e>>12&15|224),C+=W(e,6)):C=M(e>>6&31|192),C+=M(e&63|128),C}function q(e,w){w=w||{};for(var C=w.strict!==!1,_=m(e),s=_.length,f=-1,j,R="";++f<s;)j=_[f],R+=K(j,C);return R}function H(){if(a>=v)throw Error("Invalid byte index");var e=t[a]&255;if(a++,(e&192)==128)return e&63;throw Error("Invalid continuation byte")}function $(e){var w,C,_,s,f;if(a>v)throw Error("Invalid byte index");if(a==v)return!1;if(w=t[a]&255,a++,!(w&128))return w;if((w&224)==192){if(C=H(),f=(w&31)<<6|C,f>=128)return f;throw Error("Invalid continuation byte")}if((w&240)==224){if(C=H(),_=H(),f=(w&15)<<12|C<<6|_,f>=2048)return x(f,e)?f:65533;throw Error("Invalid continuation byte")}if((w&248)==240&&(C=H(),_=H(),s=H(),f=(w&7)<<18|C<<12|_<<6|s,f>=65536&&f<=1114111))return f;throw Error("Invalid UTF-8 detected")}var t,v,a;function r(e,w){w=w||{};var C=w.strict!==!1;t=m(e),v=t.length,a=0;for(var _=[],s;(s=$(C))!==!1;)_.push(s);return U(_)}me.exports={version:"2.1.2",encode:q,decode:r}},56306:function(me,M,m){var U=m(89178),x=Object.prototype.toString,W=typeof Blob=="function"||typeof Blob<"u"&&x.call(Blob)==="[object BlobConstructor]",K=typeof File=="function"||typeof File<"u"&&x.call(File)==="[object FileConstructor]";me.exports=q;function q(H){if(!H||typeof H!="object")return!1;if(U(H)){for(var $=0,t=H.length;$<t;$++)if(q(H[$]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(H)||typeof ArrayBuffer=="function"&&H instanceof ArrayBuffer||W&&H instanceof Blob||K&&H instanceof File)return!0;if(H.toJSON&&typeof H.toJSON=="function"&&arguments.length===1)return q(H.toJSON(),!0);for(var v in H)if(Object.prototype.hasOwnProperty.call(H,v)&&q(H[v]))return!0;return!1}},89178:function(me){var M={}.toString;me.exports=Array.isArray||function(m){return M.call(m)=="[object Array]"}},85598:function(me){try{me.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(M){me.exports=!1}},60639:function(me){var M=[].indexOf;me.exports=function(m,U){if(M)return m.indexOf(U);for(var x=0;x<m.length;++x)if(m[x]===U)return x;return-1}},58996:function(me,M){M.encode=function(m){var U="";for(var x in m)m.hasOwnProperty(x)&&(U.length&&(U+="&"),U+=encodeURIComponent(x)+"="+encodeURIComponent(m[x]));return U},M.decode=function(m){for(var U={},x=m.split("&"),W=0,K=x.length;W<K;W++){var q=x[W].split("=");U[decodeURIComponent(q[0])]=decodeURIComponent(q[1])}return U}},30307:function(me){var M=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,m=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];me.exports=function(K){var q=K,H=K.indexOf("["),$=K.indexOf("]");H!=-1&&$!=-1&&(K=K.substring(0,H)+K.substring(H,$).replace(/:/g,";")+K.substring($,K.length));for(var t=M.exec(K||""),v={},a=14;a--;)v[m[a]]=t[a]||"";return H!=-1&&$!=-1&&(v.source=q,v.host=v.host.substring(1,v.host.length-1).replace(/;/g,":"),v.authority=v.authority.replace("[","").replace("]","").replace(/;/g,":"),v.ipv6uri=!0),v.pathNames=U(v,v.path),v.queryKey=x(v,v.query),v};function U(W,K){var q=/\/{2,9}/g,H=K.replace(q,"/").split("/");return(K.substr(0,1)=="/"||K.length===0)&&H.splice(0,1),K.substr(K.length-1,1)=="/"&&H.splice(H.length-1,1),H}function x(W,K){var q={};return K.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(H,$,t){$&&(q[$]=t)}),q}},18802:function(me,M,m){var U=m(51247),x=m(83826),W=m(9627),K=m(50616)("socket.io-client");me.exports=M=H;var q=M.managers={};function H($,t){typeof $=="object"&&(t=$,$=void 0),t=t||{};var v=U($),a=v.source,r=v.id,e=v.path,w=q[r]&&e in q[r].nsps,C=t.forceNew||t["force new connection"]||t.multiplex===!1||w,_;return C?(K("ignoring socket cache for %s",a),_=W(a,t)):(q[r]||(K("new io instance for %s",a),q[r]=W(a,t)),_=q[r]),v.query&&!t.query&&(t.query=v.query),_.socket(v.path,t)}M.protocol=x.protocol,M.connect=H,M.Manager=m(9627),M.Socket=m(76370)},9627:function(me,M,m){var U=m(24051),x=m(76370),W=m(51632),K=m(83826),q=m(20911),H=m(5018),$=m(50616)("socket.io-client:manager"),t=m(60639),v=m(38689),a=Object.prototype.hasOwnProperty;me.exports=r;function r(e,w){if(!(this instanceof r))return new r(e,w);e&&typeof e=="object"&&(w=e,e=void 0),w=w||{},w.path=w.path||"/socket.io",this.nsps={},this.subs=[],this.opts=w,this.reconnection(w.reconnection!==!1),this.reconnectionAttempts(w.reconnectionAttempts||1/0),this.reconnectionDelay(w.reconnectionDelay||1e3),this.reconnectionDelayMax(w.reconnectionDelayMax||5e3),this.randomizationFactor(w.randomizationFactor||.5),this.backoff=new v({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(w.timeout==null?2e4:w.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var C=w.parser||K;this.encoder=new C.Encoder,this.decoder=new C.Decoder,this.autoConnect=w.autoConnect!==!1,this.autoConnect&&this.open()}r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)a.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)a.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},r.prototype.generateId=function(e){return(e==="/"?"":e+"#")+this.engine.id},W(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e,w){if($("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;$("opening %s",this.uri),this.engine=U(this.uri,this.opts);var C=this.engine,_=this;this.readyState="opening",this.skipReconnect=!1;var s=q(C,"open",function(){_.onopen(),e&&e()}),f=q(C,"error",function(d){if($("connect_error"),_.cleanup(),_.readyState="closed",_.emitAll("connect_error",d),e){var O=new Error("Connection error");O.data=d,e(O)}else _.maybeReconnectOnOpen()});if(this._timeout!==!1){var j=this._timeout;$("connect attempt will timeout after %d",j),j===0&&s.destroy();var R=setTimeout(function(){$("connect attempt timed out after %d",j),s.destroy(),C.close(),C.emit("error","timeout"),_.emitAll("connect_timeout",j)},j);this.subs.push({destroy:function(){clearTimeout(R)}})}return this.subs.push(s),this.subs.push(f),this},r.prototype.onopen=function(){$("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(q(e,"data",H(this,"ondata"))),this.subs.push(q(e,"ping",H(this,"onping"))),this.subs.push(q(e,"pong",H(this,"onpong"))),this.subs.push(q(e,"error",H(this,"onerror"))),this.subs.push(q(e,"close",H(this,"onclose"))),this.subs.push(q(this.decoder,"decoded",H(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){$("error",e),this.emitAll("error",e)},r.prototype.socket=function(e,w){var C=this.nsps[e];if(!C){C=new x(this,e,w),this.nsps[e]=C;var _=this;C.on("connecting",s),C.on("connect",function(){C.id=_.generateId(e)}),this.autoConnect&&s()}function s(){~t(_.connecting,C)||_.connecting.push(C)}return C},r.prototype.destroy=function(e){var w=t(this.connecting,e);~w&&this.connecting.splice(w,1),!this.connecting.length&&this.close()},r.prototype.packet=function(e){$("writing packet %j",e);var w=this;e.query&&e.type===0&&(e.nsp+="?"+e.query),w.encoding?w.packetBuffer.push(e):(w.encoding=!0,this.encoder.encode(e,function(C){for(var _=0;_<C.length;_++)w.engine.write(C[_],e.options);w.encoding=!1,w.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){$("cleanup");for(var e=this.subs.length,w=0;w<e;w++){var C=this.subs.shift();C.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){$("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){$("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)$("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var w=this.backoff.duration();$("will wait %dms before reconnect attempt",w),this.reconnecting=!0;var C=setTimeout(function(){e.skipReconnect||($("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),!e.skipReconnect&&e.open(function(_){_?($("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",_.data)):($("reconnect success"),e.onreconnect())}))},w);this.subs.push({destroy:function(){clearTimeout(C)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},20911:function(me){me.exports=M;function M(m,U,x){return m.on(U,x),{destroy:function(){m.removeListener(U,x)}}}},76370:function(me,M,m){var U=m(83826),x=m(51632),W=m(36896),K=m(20911),q=m(5018),H=m(50616)("socket.io-client:socket"),$=m(58996),t=m(56306);me.exports=M=r;var v={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},a=x.prototype.emit;function r(e,w,C){this.io=e,this.nsp=w,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},C&&C.query&&(this.query=C.query),this.io.autoConnect&&this.open()}x(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[K(e,"open",q(this,"onopen")),K(e,"packet",q(this,"onpacket")),K(e,"close",q(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=W(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(v.hasOwnProperty(e))return a.apply(this,arguments),this;var w=W(arguments),C={type:(this.flags.binary!==void 0?this.flags.binary:t(w))?U.BINARY_EVENT:U.EVENT,data:w};return C.options={},C.options.compress=!this.flags||this.flags.compress!==!1,typeof w[w.length-1]=="function"&&(H("emitting packet with ack id %d",this.ids),this.acks[this.ids]=w.pop(),C.id=this.ids++),this.connected?this.packet(C):this.sendBuffer.push(C),this.flags={},this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){if(H("transport is open - connecting"),this.nsp!=="/")if(this.query){var e=typeof this.query=="object"?$.encode(this.query):this.query;H("sending connect packet with query %s",e),this.packet({type:U.CONNECT,query:e})}else this.packet({type:U.CONNECT})},r.prototype.onclose=function(e){H("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){var w=e.nsp===this.nsp,C=e.type===U.ERROR&&e.nsp==="/";if(!(!w&&!C))switch(e.type){case U.CONNECT:this.onconnect();break;case U.EVENT:this.onevent(e);break;case U.BINARY_EVENT:this.onevent(e);break;case U.ACK:this.onack(e);break;case U.BINARY_ACK:this.onack(e);break;case U.DISCONNECT:this.ondisconnect();break;case U.ERROR:this.emit("error",e.data);break}},r.prototype.onevent=function(e){var w=e.data||[];H("emitting event %j",w),e.id!=null&&(H("attaching ack callback to event"),w.push(this.ack(e.id))),this.connected?a.apply(this,w):this.receiveBuffer.push(w)},r.prototype.ack=function(e){var w=this,C=!1;return function(){if(!C){C=!0;var _=W(arguments);H("sending ack %j",_),w.packet({type:t(_)?U.BINARY_ACK:U.ACK,id:e,data:_})}}},r.prototype.onack=function(e){var w=this.acks[e.id];typeof w=="function"?(H("calling ack %s with %j",e.id,e.data),w.apply(this,e.data),delete this.acks[e.id]):H("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)a.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){H("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(H("performing disconnect (%s)",this.nsp),this.packet({type:U.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags.compress=e,this},r.prototype.binary=function(e){return this.flags.binary=e,this}},51247:function(me,M,m){var U=m(30307),x=m(50616)("socket.io-client:url");me.exports=W;function W(K,q){var H=K;q=q||typeof location<"u"&&location,K==null&&(K=q.protocol+"//"+q.host),typeof K=="string"&&(K.charAt(0)==="/"&&(K.charAt(1)==="/"?K=q.protocol+K:K=q.host+K),/^(https?|wss?):\/\//.test(K)||(x("protocol-less url %s",K),typeof q<"u"?K=q.protocol+"//"+K:K="https://"+K),x("parse %s",K),H=U(K)),H.port||(/^(http|ws)$/.test(H.protocol)?H.port="80":/^(http|ws)s$/.test(H.protocol)&&(H.port="443")),H.path=H.path||"/";var $=H.host.indexOf(":")!==-1,t=$?"["+H.host+"]":H.host;return H.id=H.protocol+"://"+t+":"+H.port,H.href=H.protocol+"://"+t+(q&&q.port===H.port?"":":"+H.port),H}},50616:function(me,M,m){M=me.exports=m(35737),M.log=W,M.formatArgs=x,M.save=K,M.load=q,M.useColors=U,M.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:H(),M.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function U(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}M.formatters.j=function($){try{return JSON.stringify($)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function x($){var t=this.useColors;if($[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+$[0]+(t?"%c ":" ")+"+"+M.humanize(this.diff),!!t){var v="color: "+this.color;$.splice(1,0,v,"color: inherit");var a=0,r=0;$[0].replace(/%[a-zA-Z%]/g,function(e){e!=="%%"&&(a++,e==="%c"&&(r=a))}),$.splice(r,0,v)}}function W(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function K($){try{$==null?M.storage.removeItem("debug"):M.storage.debug=$}catch(t){}}function q(){var $;try{$=M.storage.debug}catch(t){}return!$&&typeof process<"u"&&"env"in process&&($=process.env.DEBUG),$}M.enable(q());function H(){try{return window.localStorage}catch($){}}},35737:function(me,M,m){M=me.exports=x.debug=x.default=x,M.coerce=$,M.disable=q,M.enable=K,M.enabled=H,M.humanize=m(69440),M.instances=[],M.names=[],M.skips=[],M.formatters={};function U(t){var v=0,a;for(a in t)v=(v<<5)-v+t.charCodeAt(a),v|=0;return M.colors[Math.abs(v)%M.colors.length]}function x(t){var v;function a(){if(a.enabled){var r=a,e=+new Date,w=e-(v||e);r.diff=w,r.prev=v,r.curr=e,v=e;for(var C=new Array(arguments.length),_=0;_<C.length;_++)C[_]=arguments[_];C[0]=M.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");var s=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,function(j,R){if(j==="%%")return j;s++;var d=M.formatters[R];if(typeof d=="function"){var O=C[s];j=d.call(r,O),C.splice(s,1),s--}return j}),M.formatArgs.call(r,C);var f=a.log||M.log||console.log.bind(console);f.apply(r,C)}}return a.namespace=t,a.enabled=M.enabled(t),a.useColors=M.useColors(),a.color=U(t),a.destroy=W,typeof M.init=="function"&&M.init(a),M.instances.push(a),a}function W(){var t=M.instances.indexOf(this);return t!==-1?(M.instances.splice(t,1),!0):!1}function K(t){M.save(t),M.names=[],M.skips=[];var v,a=(typeof t=="string"?t:"").split(/[\s,]+/),r=a.length;for(v=0;v<r;v++)a[v]&&(t=a[v].replace(/\*/g,".*?"),t[0]==="-"?M.skips.push(new RegExp("^"+t.substr(1)+"$")):M.names.push(new RegExp("^"+t+"$")));for(v=0;v<M.instances.length;v++){var e=M.instances[v];e.enabled=M.enabled(e.namespace)}}function q(){M.enable("")}function H(t){if(t[t.length-1]==="*")return!0;var v,a;for(v=0,a=M.skips.length;v<a;v++)if(M.skips[v].test(t))return!1;for(v=0,a=M.names.length;v<a;v++)if(M.names[v].test(t))return!0;return!1}function $(t){return t instanceof Error?t.stack||t.message:t}},69440:function(me){var M=1e3,m=M*60,U=m*60,x=U*24,W=x*365.25;me.exports=function(t,v){v=v||{};var a=typeof t;if(a==="string"&&t.length>0)return K(t);if(a==="number"&&isNaN(t)===!1)return v.long?H(t):q(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function K(t){if(t=String(t),!(t.length>100)){var v=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(v){var a=parseFloat(v[1]),r=(v[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return a*W;case"days":case"day":case"d":return a*x;case"hours":case"hour":case"hrs":case"hr":case"h":return a*U;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*M;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function q(t){return t>=x?Math.round(t/x)+"d":t>=U?Math.round(t/U)+"h":t>=m?Math.round(t/m)+"m":t>=M?Math.round(t/M)+"s":t+"ms"}function H(t){return $(t,x,"day")||$(t,U,"hour")||$(t,m,"minute")||$(t,M,"second")||t+" ms"}function $(t,v,a){if(!(t<v))return t<v*1.5?Math.floor(t/v)+" "+a:Math.ceil(t/v)+" "+a+"s"}},72123:function(me,M,m){var U=m(7817),x=m(13488),W=Object.prototype.toString,K=typeof Blob=="function"||typeof Blob<"u"&&W.call(Blob)==="[object BlobConstructor]",q=typeof File=="function"||typeof File<"u"&&W.call(File)==="[object FileConstructor]";M.deconstructPacket=function(t){var v=[],a=t.data,r=t;return r.data=H(a,v),r.attachments=v.length,{packet:r,buffers:v}};function H(t,v){if(!t)return t;if(x(t)){var a={_placeholder:!0,num:v.length};return v.push(t),a}else if(U(t)){for(var r=new Array(t.length),e=0;e<t.length;e++)r[e]=H(t[e],v);return r}else if(typeof t=="object"&&!(t instanceof Date)){var r={};for(var w in t)r[w]=H(t[w],v);return r}return t}M.reconstructPacket=function(t,v){return t.data=$(t.data,v),t.attachments=void 0,t};function $(t,v){if(!t)return t;if(t&&t._placeholder===!0){var a=typeof t.num=="number"&&t.num>=0&&t.num<v.length;if(a)return v[t.num];throw new Error("illegal attachments")}else if(U(t))for(var r=0;r<t.length;r++)t[r]=$(t[r],v);else if(typeof t=="object")for(var e in t)t[e]=$(t[e],v);return t}M.removeBlobs=function(t,v){function a(w,C,_){if(!w)return w;if(K&&w instanceof Blob||q&&w instanceof File){r++;var s=new FileReader;s.onload=function(){_?_[C]=this.result:e=this.result,--r||v(e)},s.readAsArrayBuffer(w)}else if(U(w))for(var f=0;f<w.length;f++)a(w[f],f,w);else if(typeof w=="object"&&!x(w))for(var j in w)a(w[j],j,w)}var r=0,e=t;a(e),r||v(e)}},83826:function(me,M,m){var U=m(28124)("socket.io-parser"),x=m(51632),W=m(72123),K=m(7817),q=m(13488);M.protocol=4,M.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],M.CONNECT=0,M.DISCONNECT=1,M.EVENT=2,M.ACK=3,M.ERROR=4,M.BINARY_EVENT=5,M.BINARY_ACK=6,M.Encoder=H,M.Decoder=r;function H(){}var $=M.ERROR+'"encode error"';H.prototype.encode=function(s,f){if(U("encoding packet %j",s),M.BINARY_EVENT===s.type||M.BINARY_ACK===s.type)a(s,f);else{var j=t(s);f([j])}};function t(s){var f=""+s.type;if((M.BINARY_EVENT===s.type||M.BINARY_ACK===s.type)&&(f+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(f+=s.nsp+","),s.id!=null&&(f+=s.id),s.data!=null){var j=v(s.data);if(j!==!1)f+=j;else return $}return U("encoded %j as %s",s,f),f}function v(s){try{return JSON.stringify(s)}catch(f){return!1}}function a(s,f){function j(R){var d=W.deconstructPacket(R),O=t(d.packet),T=d.buffers;T.unshift(O),f(T)}W.removeBlobs(s,j)}function r(){this.reconstructor=null}x(r.prototype),r.prototype.add=function(s){var f;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");f=e(s),M.BINARY_EVENT===f.type||M.BINARY_ACK===f.type?(this.reconstructor=new C(f),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",f)):this.emit("decoded",f)}else if(q(s)||s.base64)if(this.reconstructor)f=this.reconstructor.takeBinaryData(s),f&&(this.reconstructor=null,this.emit("decoded",f));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)};function e(s){var f=0,j={type:Number(s.charAt(0))};if(M.types[j.type]==null)return _("unknown packet type "+j.type);if(M.BINARY_EVENT===j.type||M.BINARY_ACK===j.type){for(var R=f+1;s.charAt(++f)!=="-"&&f!=s.length;);var d=s.substring(R,f);if(d!=Number(d)||s.charAt(f)!=="-")throw new Error("Illegal attachments");j.attachments=Number(d)}if(s.charAt(f+1)==="/"){for(var R=f+1;++f;){var O=s.charAt(f);if(O===","||f===s.length)break}j.nsp=s.substring(R,f)}else j.nsp="/";var T=s.charAt(f+1);if(T!==""&&Number(T)==T){for(var R=f+1;++f;){var O=s.charAt(f);if(O==null||Number(O)!=O){--f;break}if(f===s.length)break}j.id=Number(s.substring(R,f+1))}if(s.charAt(++f)){var o=w(s.substr(f)),n=o!==!1&&(j.type===M.ERROR||K(o));if(n)j.data=o;else return _("invalid payload")}return U("decoded %s as %j",s,j),j}function w(s){try{return JSON.parse(s)}catch(f){return!1}}r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function C(s){this.reconPack=s,this.buffers=[]}C.prototype.takeBinaryData=function(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){var f=W.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),f}return null},C.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function _(s){return{type:M.ERROR,data:"parser error: "+s}}},13488:function(me){me.exports=x;var M=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",m=typeof ArrayBuffer=="function",U=function(K){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(K):K.buffer instanceof ArrayBuffer};function x(W){return M&&Buffer.isBuffer(W)||m&&(W instanceof ArrayBuffer||U(W))}},28124:function(me,M,m){M=me.exports=m(46912),M.log=W,M.formatArgs=x,M.save=K,M.load=q,M.useColors=U,M.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:H(),M.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function U(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}M.formatters.j=function($){try{return JSON.stringify($)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function x($){var t=this.useColors;if($[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+$[0]+(t?"%c ":" ")+"+"+M.humanize(this.diff),!!t){var v="color: "+this.color;$.splice(1,0,v,"color: inherit");var a=0,r=0;$[0].replace(/%[a-zA-Z%]/g,function(e){e!=="%%"&&(a++,e==="%c"&&(r=a))}),$.splice(r,0,v)}}function W(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function K($){try{$==null?M.storage.removeItem("debug"):M.storage.debug=$}catch(t){}}function q(){var $;try{$=M.storage.debug}catch(t){}return!$&&typeof process<"u"&&"env"in process&&($=process.env.DEBUG),$}M.enable(q());function H(){try{return window.localStorage}catch($){}}},46912:function(me,M,m){M=me.exports=x.debug=x.default=x,M.coerce=$,M.disable=q,M.enable=K,M.enabled=H,M.humanize=m(34100),M.instances=[],M.names=[],M.skips=[],M.formatters={};function U(t){var v=0,a;for(a in t)v=(v<<5)-v+t.charCodeAt(a),v|=0;return M.colors[Math.abs(v)%M.colors.length]}function x(t){var v;function a(){if(a.enabled){var r=a,e=+new Date,w=e-(v||e);r.diff=w,r.prev=v,r.curr=e,v=e;for(var C=new Array(arguments.length),_=0;_<C.length;_++)C[_]=arguments[_];C[0]=M.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");var s=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,function(j,R){if(j==="%%")return j;s++;var d=M.formatters[R];if(typeof d=="function"){var O=C[s];j=d.call(r,O),C.splice(s,1),s--}return j}),M.formatArgs.call(r,C);var f=a.log||M.log||console.log.bind(console);f.apply(r,C)}}return a.namespace=t,a.enabled=M.enabled(t),a.useColors=M.useColors(),a.color=U(t),a.destroy=W,typeof M.init=="function"&&M.init(a),M.instances.push(a),a}function W(){var t=M.instances.indexOf(this);return t!==-1?(M.instances.splice(t,1),!0):!1}function K(t){M.save(t),M.names=[],M.skips=[];var v,a=(typeof t=="string"?t:"").split(/[\s,]+/),r=a.length;for(v=0;v<r;v++)a[v]&&(t=a[v].replace(/\*/g,".*?"),t[0]==="-"?M.skips.push(new RegExp("^"+t.substr(1)+"$")):M.names.push(new RegExp("^"+t+"$")));for(v=0;v<M.instances.length;v++){var e=M.instances[v];e.enabled=M.enabled(e.namespace)}}function q(){M.enable("")}function H(t){if(t[t.length-1]==="*")return!0;var v,a;for(v=0,a=M.skips.length;v<a;v++)if(M.skips[v].test(t))return!1;for(v=0,a=M.names.length;v<a;v++)if(M.names[v].test(t))return!0;return!1}function $(t){return t instanceof Error?t.stack||t.message:t}},7817:function(me){var M={}.toString;me.exports=Array.isArray||function(m){return M.call(m)=="[object Array]"}},34100:function(me){var M=1e3,m=M*60,U=m*60,x=U*24,W=x*365.25;me.exports=function(t,v){v=v||{};var a=typeof t;if(a==="string"&&t.length>0)return K(t);if(a==="number"&&isNaN(t)===!1)return v.long?H(t):q(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function K(t){if(t=String(t),!(t.length>100)){var v=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(v){var a=parseFloat(v[1]),r=(v[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return a*W;case"days":case"day":case"d":return a*x;case"hours":case"hour":case"hrs":case"hr":case"h":return a*U;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*M;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function q(t){return t>=x?Math.round(t/x)+"d":t>=U?Math.round(t/U)+"h":t>=m?Math.round(t/m)+"m":t>=M?Math.round(t/M)+"s":t+"ms"}function H(t){return $(t,x,"day")||$(t,U,"hour")||$(t,m,"minute")||$(t,M,"second")||t+" ms"}function $(t,v,a){if(!(t<v))return t<v*1.5?Math.floor(t/v)+" "+a:Math.ceil(t/v)+" "+a+"s"}},36896:function(me){me.exports=M;function M(m,U){var x=[];U=U||0;for(var W=U||0;W<m.length;W++)x[W-U]=m[W];return x}},15402:function(me){"use strict";var M="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),m=64,U={},x=0,W=0,K;function q(t){var v="";do v=M[t%m]+v,t=Math.floor(t/m);while(t>0);return v}function H(t){var v=0;for(W=0;W<t.length;W++)v=v*m+U[t.charAt(W)];return v}function $(){var t=q(+new Date);return t!==K?(x=0,K=t):t+"."+q(x++)}for(;W<m;W++)U[M[W]]=W;$.encode=q,$.decode=H,me.exports=$},77020:function(){}}]);

//# sourceMappingURL=6.95mg8-vendor-1a97cc485bc2e419f31e.js.map