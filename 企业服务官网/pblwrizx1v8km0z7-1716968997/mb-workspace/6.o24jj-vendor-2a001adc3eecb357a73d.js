"use strict";(self.webpackChunk_mb2023_mb_workspace=self.webpackChunk_mb2023_mb_workspace||[]).push([[999],{30336:function(ge,X,O){O.d(X,{Ez:function(){return pe},Fs:function(){return oe},IB:function(){return he},M1:function(){return ye},OA:function(){return D},_c:function(){return fe},lA:function(){return ue},lo:function(){return de},xv:function(){return le},xx:function(){return me}});var q=O(27444);if(O.j==33)var ee=O(14530);var te=O(7854),K=O(32449),re=O(38371),A=O(21989);function ne(n){return se(n)||ce(n)||Y(n)||ae()}function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ce(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function se(n){if(Array.isArray(n))return F(n)}function V(n,s){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Y(n))||s&&n&&typeof n.length=="number"){t&&(n=t);var i=0,o=function(){};return{s:o,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var p=!0,f=!1,l;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return p=u.done,u},e:function(u){f=!0,l=u},f:function(){try{!p&&t.return!=null&&t.return()}finally{if(f)throw l}}}}function Y(n,s){if(n){if(typeof n=="string")return F(n,s);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(n,s)}}function F(n,s){(s==null||s>n.length)&&(s=n.length);for(var t=0,i=new Array(s);t<s;t++)i[t]=n[t];return i}function b(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return s};var n,s={},t=Object.prototype,i=t.hasOwnProperty,o=Object.defineProperty||function(c,e,r){c[e]=r.value},p=typeof Symbol=="function"?Symbol:{},f=p.iterator||"@@iterator",l=p.asyncIterator||"@@asyncIterator",a=p.toStringTag||"@@toStringTag";function u(c,e,r){return Object.defineProperty(c,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),c[e]}try{u({},"")}catch(c){u=function(r,h,v){return r[h]=v}}function y(c,e,r,h){var v=e&&e.prototype instanceof k?e:k,d=Object.create(v.prototype),P=new z(h||[]);return o(d,"_invoke",{value:ve(c,r,P)}),d}function j(c,e,r){try{return{type:"normal",arg:c.call(e,r)}}catch(h){return{type:"throw",arg:h}}}s.wrap=y;var m="suspendedStart",g="suspendedYield",_="executing",w="completed",C={};function k(){}function M(){}function S(){}var B={};u(B,f,function(){return this});var N=Object.getPrototypeOf,I=N&&N(N(H([])));I&&I!==t&&i.call(I,f)&&(B=I);var L=S.prototype=k.prototype=Object.create(B);function E(c){["next","throw","return"].forEach(function(e){u(c,e,function(r){return this._invoke(e,r)})})}function R(c,e){function r(v,d,P,G){var T=j(c[v],c,d);if(T.type!=="throw"){var J=T.arg,x=J.value;return x&&typeof x=="object"&&i.call(x,"__await")?e.resolve(x.__await).then(function(U){r("next",U,P,G)},function(U){r("throw",U,P,G)}):e.resolve(x).then(function(U){J.value=U,P(J)},function(U){return r("throw",U,P,G)})}G(T.arg)}var h;o(this,"_invoke",{value:function(d,P){function G(){return new e(function(T,J){r(d,P,T,J)})}return h=h?h.then(G,G):G()}})}function ve(c,e,r){var h=m;return function(v,d){if(h===_)throw new Error("Generator is already running");if(h===w){if(v==="throw")throw d;return{value:n,done:!0}}for(r.method=v,r.arg=d;;){var P=r.delegate;if(P){var G=Q(P,r);if(G){if(G===C)continue;return G}}if(r.method==="next")r.sent=r._sent=r.arg;else if(r.method==="throw"){if(h===m)throw h=w,r.arg;r.dispatchException(r.arg)}else r.method==="return"&&r.abrupt("return",r.arg);h=_;var T=j(c,e,r);if(T.type==="normal"){if(h=r.done?w:g,T.arg===C)continue;return{value:T.arg,done:r.done}}T.type==="throw"&&(h=w,r.method="throw",r.arg=T.arg)}}}function Q(c,e){var r=e.method,h=c.iterator[r];if(h===n)return e.delegate=null,r==="throw"&&c.iterator.return&&(e.method="return",e.arg=n,Q(c,e),e.method==="throw")||r!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),C;var v=j(h,c.iterator,e.arg);if(v.type==="throw")return e.method="throw",e.arg=v.arg,e.delegate=null,C;var d=v.arg;return d?d.done?(e[c.resultName]=d.value,e.next=c.nextLoc,e.method!=="return"&&(e.method="next",e.arg=n),e.delegate=null,C):d:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function je(c){var e={tryLoc:c[0]};1 in c&&(e.catchLoc=c[1]),2 in c&&(e.finallyLoc=c[2],e.afterLoc=c[3]),this.tryEntries.push(e)}function W(c){var e=c.completion||{};e.type="normal",delete e.arg,c.completion=e}function z(c){this.tryEntries=[{tryLoc:"root"}],c.forEach(je,this),this.reset(!0)}function H(c){if(c||c===""){var e=c[f];if(e)return e.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length)){var r=-1,h=function v(){for(;++r<c.length;)if(i.call(c,r))return v.value=c[r],v.done=!1,v;return v.value=n,v.done=!0,v};return h.next=h}}throw new TypeError(typeof c+" is not iterable")}return M.prototype=S,o(L,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:M,configurable:!0}),M.displayName=u(S,a,"GeneratorFunction"),s.isGeneratorFunction=function(c){var e=typeof c=="function"&&c.constructor;return!!e&&(e===M||(e.displayName||e.name)==="GeneratorFunction")},s.mark=function(c){return Object.setPrototypeOf?Object.setPrototypeOf(c,S):(c.__proto__=S,u(c,a,"GeneratorFunction")),c.prototype=Object.create(L),c},s.awrap=function(c){return{__await:c}},E(R.prototype),u(R.prototype,l,function(){return this}),s.AsyncIterator=R,s.async=function(c,e,r,h,v){v===void 0&&(v=Promise);var d=new R(y(c,e,r,h),v);return s.isGeneratorFunction(e)?d:d.next().then(function(P){return P.done?P.value:d.next()})},E(L),u(L,a,"Generator"),u(L,f,function(){return this}),u(L,"toString",function(){return"[object Generator]"}),s.keys=function(c){var e=Object(c),r=[];for(var h in e)r.push(h);return r.reverse(),function v(){for(;r.length;){var d=r.pop();if(d in e)return v.value=d,v.done=!1,v}return v.done=!0,v}},s.values=H,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(W),!e)for(var r in this)r.charAt(0)==="t"&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function h(J,x){return P.type="throw",P.arg=e,r.next=J,x&&(r.method="next",r.arg=n),!!x}for(var v=this.tryEntries.length-1;v>=0;--v){var d=this.tryEntries[v],P=d.completion;if(d.tryLoc==="root")return h("end");if(d.tryLoc<=this.prev){var G=i.call(d,"catchLoc"),T=i.call(d,"finallyLoc");if(G&&T){if(this.prev<d.catchLoc)return h(d.catchLoc,!0);if(this.prev<d.finallyLoc)return h(d.finallyLoc)}else if(G){if(this.prev<d.catchLoc)return h(d.catchLoc,!0)}else{if(!T)throw new Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return h(d.finallyLoc)}}}},abrupt:function(e,r){for(var h=this.tryEntries.length-1;h>=0;--h){var v=this.tryEntries[h];if(v.tryLoc<=this.prev&&i.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var d=v;break}}d&&(e==="break"||e==="continue")&&d.tryLoc<=r&&r<=d.finallyLoc&&(d=null);var P=d?d.completion:{};return P.type=e,P.arg=r,d?(this.method="next",this.next=d.finallyLoc,C):this.complete(P)},complete:function(e,r){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&r&&(this.next=r),C},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var h=this.tryEntries[r];if(h.finallyLoc===e)return this.complete(h.completion,h.afterLoc),W(h),C}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var h=this.tryEntries[r];if(h.tryLoc===e){var v=h.completion;if(v.type==="throw"){var d=v.arg;W(h)}return d}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,h){return this.delegate={iterator:H(e),resultName:r,nextLoc:h},this.method==="next"&&(this.arg=n),C}},s}function Z(n,s,t,i,o,p,f){try{var l=n[p](f),a=l.value}catch(u){t(u);return}l.done?s(a):Promise.resolve(a).then(i,o)}function $(n){return function(){var s=this,t=arguments;return new Promise(function(i,o){var p=n.apply(s,t);function f(a){Z(p,i,o,f,l,"next",a)}function l(a){Z(p,i,o,f,l,"throw",a)}f(void 0)})}}var ie=function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y,j;return b().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(i=t.projectMetaCid,o=t.projectMetaType,p=t.screenMetaCidList,f=t.projectBasicEncryptedPassword,l=t.accessToken,a=l===void 0?"":l,p.length!==0){g.next=3;break}return g.abrupt("return",[]);case 3:return u="/project-buffer/"+(0,K.bL)(o)+"/all/"+i+"?password="+f+"&access_token="+a,g.next=6,(0,A.n3)(u,{localKeyList:p});case 6:return y=g.sent,g.next=9,(0,te.Of)({projectBufferData:y,parseConcatGzipDataToObjectList:re._D,projectMetaType:o});case 9:return j=g.sent,g.abrupt("return",j);case 12:case"end":return g.stop()}},s)}));return function(t){return n.apply(this,arguments)}}(),D=function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y,j,m;return b().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:i=t.projectMetaList,o=t.screenMetaList,p=t.projectBasicEncryptedPassword,f=p===void 0?"":p,l=t.accessToken,a=l===void 0?"":l,u=[],y=V(i),_.prev=3,m=b().mark(function w(){var C,k,M,S,B,N;return b().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:C=j.value,k=o.filter(function(E){return E.project_meta_cid===C.cid}).map(function(E){return E.cid}),k.length>2048&&console.warn("[fdPSOL] big proj: "+k.length),M=(0,q.eO)(k,1024),S=V(M),L.prev=5,S.s();case 7:if((B=S.n()).done){L.next=19;break}return N=B.value,L.t0=u.push,L.t1=u,L.t2=ne,L.next=14,ie({projectMetaCid:C.cid,projectMetaType:C.type,screenMetaCidList:N,projectBasicEncryptedPassword:f,accessToken:a});case 14:L.t3=L.sent,L.t4=(0,L.t2)(L.t3),L.t0.apply.call(L.t0,L.t1,L.t4);case 17:L.next=7;break;case 19:L.next=24;break;case 21:L.prev=21,L.t5=L.catch(5),S.e(L.t5);case 24:return L.prev=24,S.f(),L.finish(24);case 27:case"end":return L.stop()}},w,null,[[5,21,24,27]])}),y.s();case 6:if((j=y.n()).done){_.next=10;break}return _.delegateYield(m(),"t0",8);case 8:_.next=6;break;case 10:_.next=15;break;case 12:_.prev=12,_.t1=_.catch(3),y.e(_.t1);case 15:return _.prev=15,y.f(),_.finish(15);case 18:return _.abrupt("return",u);case 19:case"end":return _.stop()}},s,null,[[3,12,15,18]])}));return function(t){return n.apply(this,arguments)}}(),_e=null,oe=O.j!=242?function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y,j;return b().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i=t.projectBasicCid,o=t.userLocale,g.next=3,(0,A.EE)("/api/upper/web_v1/basics/"+i);case 3:return p=g.sent,f=p.project_basic,l=p.screen_aligns,a=p.project_metas,u=p.screen_glues,y=p.screen_metas,console.log("[fdPB] pm#"+a.length+" sg#"+u.length+" sm#"+y.length+" | sa#"+l.length),g.next=12,D({projectMetaList:a,screenMetaList:y});case 12:return j=g.sent,g.abrupt("return",{projectBasic:f,screenAlignList:l,projectMetaList:a,screenGlueList:u,screenMetaList:y,projectScreenObjectList:j});case 14:case"end":return g.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null,ue=O.j!=242?function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y,j,m,g,_,w,C;return b().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return i=t.projectBasicAccessToken,o=t.projectBasicEncryptedPassword,p=o===void 0?"":o,f=t.userLocale,l=t.projectVersion,M.next=3,(0,A.EE)("/api/upper/web_v1/basics/"+i+"?password="+p+(l?"&version="+l:""));case 3:return a=M.sent,u=a.project_basic,y=a.screen_aligns,j=a.project_metas,m=a.screen_glues,g=a.screen_metas,_=m.find(function(S){return S.type===K._H.PROJECT_TRASHCAN}),w=_?g.filter(function(S){return S.screen_glue_cid!==_.cid}):g,console.log("[fdPB+] pm#"+j.length+" sg#"+m.length+" sm#"+g.length+"/"+w.length+" | sa#"+y.length),M.next=14,D({projectMetaList:j,screenMetaList:w,projectBasicEncryptedPassword:p,accessToken:i});case 14:return C=M.sent,M.abrupt("return",{projectBasic:u,screenAlignList:y,projectMetaList:j,screenGlueList:m,screenMetaList:w,projectScreenObjectList:C});case 16:case"end":return M.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null,le=O.j==242?function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y,j,m,g;return b().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return i=t.projectBasicAccessToken,o=t.projectBasicEncryptedPassword,p=o===void 0?"":o,f=t.userLocale,w.next=3,(0,A.EE)("/api/upper/web_v1/basics/"+i+"?password="+p);case 3:return l=w.sent,a=l.project_basic,u=l.screen_aligns,y=l.project_metas,j=l.screen_glues,m=l.screen_metas,console.log("[fdPBbAT] pm#"+y.length+" sg#"+j.length+" sm#"+m.length+" | sa#"+u.length),w.next=12,D({projectMetaList:y,screenMetaList:m,projectBasicEncryptedPassword:p,accessToken:i});case 12:return g=w.sent,w.abrupt("return",{projectBasic:a,screenAlignList:u,projectMetaList:y,screenGlueList:j,screenMetaList:m,projectScreenObjectList:g});case 14:case"end":return w.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null,pe=/^(33|426)$/.test(O.j)?function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y,j,m;return b().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return i=t.projectUpperCid,o=t.isFromIframe,p=o===void 0?!1:o,_.next=3,(0,A.EE)("/api/community/v1/market_template/"+i+(p?"?is_from_iframe=true":""));case 3:return f=_.sent,l=f.market_template,a=f.screen_aligns,u=f.project_metas,y=f.screen_glues,j=f.screen_metas,console.log("[fdMT] pm#"+u.length+" sg#"+y.length+" sm#"+j.length+" | sa#"+a.length),_.next=12,D({projectMetaList:u,screenMetaList:j});case 12:return m=_.sent,_.abrupt("return",{projectUpper:l,screenAlignList:a,projectMetaList:u,screenGlueList:y,screenMetaList:j,projectScreenObjectList:m});case 14:case"end":return _.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null,Le=null,fe=O.j==426?function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y;return b().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return i=t.projectUpperCid,m.next=3,(0,A.EE)("/api/community/v1/reviewable_project/"+i);case 3:return o=m.sent,p=o.reviewable_project,f=o.screen_aligns,l=o.project_metas,a=o.screen_glues,u=o.screen_metas,console.log("[fdRP] pm#"+l.length+" sg#"+a.length+" sm#"+u.length+" | sa#"+f.length),m.next=12,D({projectMetaList:l,screenMetaList:u});case 12:return y=m.sent,m.abrupt("return",{projectUpper:p,screenAlignList:f,projectMetaList:l,screenGlueList:a,screenMetaList:u,projectScreenObjectList:y});case 14:case"end":return m.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null,be=null,he=O.j==426?function(){var n=$(b().mark(function s(t){var i,o,p,f,l,a,u,y;return b().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return i=t.projectUpperCid,m.next=3,(0,A.EE)("/api/upper/web_v1/product/"+i);case 3:return o=m.sent,p=o.product,f=o.screen_aligns,l=o.project_metas,a=o.screen_glues,u=o.screen_metas,console.log("[fdCP] pm#"+l.length+" sg#"+a.length+" sm#"+u.length+" | sa#"+f.length),m.next=12,D({projectMetaList:l,screenMetaList:u});case 12:return y=m.sent,m.abrupt("return",{projectUpper:p,screenAlignList:f,projectMetaList:l,screenGlueList:a,screenMetaList:u,projectScreenObjectList:y});case 14:case"end":return m.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null,de=O.j==33?function(){var n=$(b().mark(function s(t,i){var o,p,f,l,a,u,y,j,m,g,_,w,C,k,M,S,B,N,I;return b().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return o=t.teamCid,p=t.userLocale,f=i.name,l=i.type,a=i.attr,u=a===void 0?{}:a,y=i.device,j=i.model,m=i.width,g=i.height,_=i.subProject,w=i.zboardTag,C=i.visibility,k=ee.eM,E.next=5,(0,A.Gf)("/project-buffer/"+l+"/check-init/project-upper?upperType="+k,{presetOption:{locale:p,name:f,type:l,device:y,model:j,width:m,height:g},railsExtra:{team_cid:o,visibility:C,name:f,type:l,attr:u,device:y,model:j,width:m,height:g,subProject:_,zboardTag:w}});case 5:return M=E.sent,S=M.userId,B=M.upperCid,N=M.zboardTabs,I=M.projectMetaCid,E.abrupt("return",{userId:S,upperCid:B,upperType:k,zboardTabs:N,projectMetaCid:I});case 11:case"end":return E.stop()}},s)}));return function(t,i){return n.apply(this,arguments)}}():null,we=null,Ce=null,me=O.j==33?function(){var n=$(b().mark(function s(t){var i,o,p,f;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=t.encryptedPassword,o=t.accessToken,a.next=3,(0,A.Gf)("/nodekiq/build-html-zip",{encryptedPassword:i,accessToken:o});case 3:return p=a.sent,f=p.urlHtmlZip,a.abrupt("return",{urlHtmlZip:f});case 6:case"end":return a.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null,ye=/^(33|426)$/.test(O.j)?function(){var n=$(b().mark(function s(t){var i,o,p,f;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=t.encryptedPassword,o=t.accessToken,a.next=3,(0,A.Gf)("/nodekiq/build-apk",{encryptedPassword:i,accessToken:o});case 3:return p=a.sent,f=p.urlApk,a.abrupt("return",{urlApk:f});case 6:case"end":return a.stop()}},s)}));return function(t){return n.apply(this,arguments)}}():null}}]);

//# sourceMappingURL=6.o24jj-vendor-2a001adc3eecb357a73d.js.map